(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function Bx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Am={exports:{}},cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function Hx(){if(J0)return cu;J0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:o}}return cu.Fragment=t,cu.jsx=e,cu.jsxs=e,cu}var tb;function Fx(){return tb||(tb=1,Am.exports=Hx()),Am.exports}var G=Fx(),xm={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function qx(){if(eb)return It;eb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function C(L,st,ct){this.props=L,this.context=st,this.refs=I,this.updater=ct||S}C.prototype.isReactComponent={},C.prototype.setState=function(L,st){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,st,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function M(){}M.prototype=C.prototype;function F(L,st,ct){this.props=L,this.context=st,this.refs=I,this.updater=ct||S}var W=F.prototype=new M;W.constructor=F,A(W,C.prototype),W.isPureReactComponent=!0;var et=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function P(L,st,ct,ot,gt,Rt){return ct=Rt.ref,{$$typeof:n,type:L,key:st,ref:ct!==void 0?ct:null,props:Rt}}function R(L,st){return P(L.type,st,void 0,void 0,void 0,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function k(L){var st={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ct){return st[ct]})}var V=/\/+/g;function U(L,st){return typeof L=="object"&&L!==null&&L.key!=null?k(""+L.key):st.toString(36)}function O(){}function Ft(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(O,O):(L.status="pending",L.then(function(st){L.status==="pending"&&(L.status="fulfilled",L.value=st)},function(st){L.status==="pending"&&(L.status="rejected",L.reason=st)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function vt(L,st,ct,ot,gt){var Rt=typeof L;(Rt==="undefined"||Rt==="boolean")&&(L=null);var yt=!1;if(L===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(L.$$typeof){case n:case t:yt=!0;break;case y:return yt=L._init,vt(yt(L._payload),st,ct,ot,gt)}}if(yt)return gt=gt(L),yt=ot===""?"."+U(L,0):ot,et(gt)?(ct="",yt!=null&&(ct=yt.replace(V,"$&/")+"/"),vt(gt,st,ct,"",function(ri){return ri})):gt!=null&&(D(gt)&&(gt=R(gt,ct+(gt.key==null||L&&L.key===gt.key?"":(""+gt.key).replace(V,"$&/")+"/")+yt)),st.push(gt)),1;yt=0;var Le=ot===""?".":ot+":";if(et(L))for(var ie=0;ie<L.length;ie++)ot=L[ie],Rt=Le+U(ot,ie),yt+=vt(ot,st,ct,Rt,gt);else if(ie=b(L),typeof ie=="function")for(L=ie.call(L),ie=0;!(ot=L.next()).done;)ot=ot.value,Rt=Le+U(ot,ie++),yt+=vt(ot,st,ct,Rt,gt);else if(Rt==="object"){if(typeof L.then=="function")return vt(Ft(L),st,ct,ot,gt);throw st=String(L),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return yt}function X(L,st,ct){if(L==null)return L;var ot=[],gt=0;return vt(L,ot,"","",function(Rt){return st.call(ct,Rt,gt++)}),ot}function at(L){if(L._status===-1){var st=L._result;st=st(),st.then(function(ct){(L._status===0||L._status===-1)&&(L._status=1,L._result=ct)},function(ct){(L._status===0||L._status===-1)&&(L._status=2,L._result=ct)}),L._status===-1&&(L._status=0,L._result=st)}if(L._status===1)return L._result.default;throw L._result}var ft=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function wt(){}return It.Children={map:X,forEach:function(L,st,ct){X(L,function(){st.apply(this,arguments)},ct)},count:function(L){var st=0;return X(L,function(){st++}),st},toArray:function(L){return X(L,function(st){return st})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},It.Component=C,It.Fragment=e,It.Profiler=r,It.PureComponent=F,It.StrictMode=i,It.Suspense=f,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,It.__COMPILER_RUNTIME={__proto__:null,c:function(L){return tt.H.useMemoCache(L)}},It.cache=function(L){return function(){return L.apply(null,arguments)}},It.cloneElement=function(L,st,ct){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ot=A({},L.props),gt=L.key,Rt=void 0;if(st!=null)for(yt in st.ref!==void 0&&(Rt=void 0),st.key!==void 0&&(gt=""+st.key),st)!ut.call(st,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&st.ref===void 0||(ot[yt]=st[yt]);var yt=arguments.length-2;if(yt===1)ot.children=ct;else if(1<yt){for(var Le=Array(yt),ie=0;ie<yt;ie++)Le[ie]=arguments[ie+2];ot.children=Le}return P(L.type,gt,void 0,void 0,Rt,ot)},It.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},It.createElement=function(L,st,ct){var ot,gt={},Rt=null;if(st!=null)for(ot in st.key!==void 0&&(Rt=""+st.key),st)ut.call(st,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(gt[ot]=st[ot]);var yt=arguments.length-2;if(yt===1)gt.children=ct;else if(1<yt){for(var Le=Array(yt),ie=0;ie<yt;ie++)Le[ie]=arguments[ie+2];gt.children=Le}if(L&&L.defaultProps)for(ot in yt=L.defaultProps,yt)gt[ot]===void 0&&(gt[ot]=yt[ot]);return P(L,Rt,void 0,void 0,null,gt)},It.createRef=function(){return{current:null}},It.forwardRef=function(L){return{$$typeof:h,render:L}},It.isValidElement=D,It.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:at}},It.memo=function(L,st){return{$$typeof:g,type:L,compare:st===void 0?null:st}},It.startTransition=function(L){var st=tt.T,ct={};tt.T=ct;try{var ot=L(),gt=tt.S;gt!==null&&gt(ct,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(wt,ft)}catch(Rt){ft(Rt)}finally{tt.T=st}},It.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},It.use=function(L){return tt.H.use(L)},It.useActionState=function(L,st,ct){return tt.H.useActionState(L,st,ct)},It.useCallback=function(L,st){return tt.H.useCallback(L,st)},It.useContext=function(L){return tt.H.useContext(L)},It.useDebugValue=function(){},It.useDeferredValue=function(L,st){return tt.H.useDeferredValue(L,st)},It.useEffect=function(L,st,ct){var ot=tt.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(L,st)},It.useId=function(){return tt.H.useId()},It.useImperativeHandle=function(L,st,ct){return tt.H.useImperativeHandle(L,st,ct)},It.useInsertionEffect=function(L,st){return tt.H.useInsertionEffect(L,st)},It.useLayoutEffect=function(L,st){return tt.H.useLayoutEffect(L,st)},It.useMemo=function(L,st){return tt.H.useMemo(L,st)},It.useOptimistic=function(L,st){return tt.H.useOptimistic(L,st)},It.useReducer=function(L,st,ct){return tt.H.useReducer(L,st,ct)},It.useRef=function(L){return tt.H.useRef(L)},It.useState=function(L){return tt.H.useState(L)},It.useSyncExternalStore=function(L,st,ct){return tt.H.useSyncExternalStore(L,st,ct)},It.useTransition=function(){return tt.H.useTransition()},It.version="19.1.0",It}var nb;function kp(){return nb||(nb=1,xm.exports=qx()),xm.exports}var K=kp();const KT=Bx(K);var Rm={exports:{}},hu={},Cm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function Gx(){return ib||(ib=1,function(n){function t(X,at){var ft=X.length;X.push(at);t:for(;0<ft;){var wt=ft-1>>>1,L=X[wt];if(0<r(L,at))X[wt]=at,X[ft]=L,ft=wt;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var at=X[0],ft=X.pop();if(ft!==at){X[0]=ft;t:for(var wt=0,L=X.length,st=L>>>1;wt<st;){var ct=2*(wt+1)-1,ot=X[ct],gt=ct+1,Rt=X[gt];if(0>r(ot,ft))gt<L&&0>r(Rt,ot)?(X[wt]=Rt,X[gt]=ft,wt=gt):(X[wt]=ot,X[ct]=ft,wt=ct);else if(gt<L&&0>r(Rt,ft))X[wt]=Rt,X[gt]=ft,wt=gt;else break t}}return at}function r(X,at){var ft=X.sortIndex-at.sortIndex;return ft!==0?ft:X.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],g=[],y=1,v=null,b=3,S=!1,A=!1,I=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function et(X){for(var at=e(g);at!==null;){if(at.callback===null)i(g);else if(at.startTime<=X)i(g),at.sortIndex=at.expirationTime,t(f,at);else break;at=e(g)}}function tt(X){if(I=!1,et(X),!A)if(e(f)!==null)A=!0,ut||(ut=!0,U());else{var at=e(g);at!==null&&vt(tt,at.startTime-X)}}var ut=!1,P=-1,R=5,D=-1;function k(){return C?!0:!(n.unstable_now()-D<R)}function V(){if(C=!1,ut){var X=n.unstable_now();D=X;var at=!0;try{t:{A=!1,I&&(I=!1,F(P),P=-1),S=!0;var ft=b;try{e:{for(et(X),v=e(f);v!==null&&!(v.expirationTime>X&&k());){var wt=v.callback;if(typeof wt=="function"){v.callback=null,b=v.priorityLevel;var L=wt(v.expirationTime<=X);if(X=n.unstable_now(),typeof L=="function"){v.callback=L,et(X),at=!0;break e}v===e(f)&&i(f),et(X)}else i(f);v=e(f)}if(v!==null)at=!0;else{var st=e(g);st!==null&&vt(tt,st.startTime-X),at=!1}}break t}finally{v=null,b=ft,S=!1}at=void 0}}finally{at?U():ut=!1}}}var U;if(typeof W=="function")U=function(){W(V)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Ft=O.port2;O.port1.onmessage=V,U=function(){Ft.postMessage(null)}}else U=function(){M(V,0)};function vt(X,at){P=M(function(){X(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(X){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var ft=b;b=at;try{return X()}finally{b=ft}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(X,at){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ft=b;b=X;try{return at()}finally{b=ft}},n.unstable_scheduleCallback=function(X,at,ft){var wt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?wt+ft:wt):ft=wt,X){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ft+L,X={id:y++,callback:at,priorityLevel:X,startTime:ft,expirationTime:L,sortIndex:-1},ft>wt?(X.sortIndex=ft,t(g,X),e(f)===null&&X===e(g)&&(I?(F(P),P=-1):I=!0,vt(tt,ft-wt))):(X.sortIndex=L,t(f,X),A||S||(A=!0,ut||(ut=!0,U()))),X},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(X){var at=b;return function(){var ft=b;b=at;try{return X.apply(this,arguments)}finally{b=ft}}}}(Im)),Im}var sb;function Yx(){return sb||(sb=1,Cm.exports=Gx()),Cm.exports}var Dm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function Kx(){if(rb)return nn;rb=1;var n=kp();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nn.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,y)},nn.flushSync=function(f){var g=u.T,y=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=g,i.p=y,i.d.f()}},nn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},nn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},nn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},nn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},nn.requestFormReset=function(f){i.d.r(f)},nn.unstable_batchedUpdates=function(f,g){return f(g)},nn.useFormState=function(f,g,y){return u.H.useFormState(f,g,y)},nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var ab;function Wx(){if(ab)return Dm.exports;ab=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Dm.exports=Kx(),Dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function $x(){if(ob)return hu;ob=1;var n=Yx(),t=kp(),e=Wx();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return h(m),s;if(p===c)return h(m),a;p=p.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=p;else{for(var T=!1,w=m.child;w;){if(w===l){T=!0,l=m,c=p;break}if(w===c){T=!0,c=m,l=p;break}w=w.sibling}if(!T){for(w=p.child;w;){if(w===l){T=!0,l=p,c=m;break}if(w===c){T=!0,c=p,l=m;break}w=w.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),W=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Ft(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case C:return"Profiler";case I:return"StrictMode";case tt:return"Suspense";case ut:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case W:return(s.displayName||"Context")+".Provider";case F:return(s._context.displayName||"Context")+".Consumer";case et:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return a=s.displayName||null,a!==null?a:Ft(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return Ft(s(a))}catch{}}return null}var vt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},wt=[],L=-1;function st(s){return{current:s}}function ct(s){0>L||(s.current=wt[L],wt[L]=null,L--)}function ot(s,a){L++,wt[L]=s.current,s.current=a}var gt=st(null),Rt=st(null),yt=st(null),Le=st(null);function ie(s,a){switch(ot(yt,a),ot(Rt,s),ot(gt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?R0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=R0(a),s=C0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ct(gt),ot(gt,s)}function ri(){ct(gt),ct(Rt),ct(yt)}function Rs(s){s.memoizedState!==null&&ot(Le,s);var a=gt.current,l=C0(a,s.type);a!==l&&(ot(Rt,s),ot(gt,l))}function Li(s){Rt.current===s&&(ct(gt),ct(Rt)),Le.current===s&&(ct(Le),ru._currentValue=ft)}var xr=Object.prototype.hasOwnProperty,Rr=n.unstable_scheduleCallback,Cr=n.unstable_cancelCallback,nl=n.unstable_shouldYield,_c=n.unstable_requestPaint,On=n.unstable_now,Ad=n.unstable_getCurrentPriorityLevel,il=n.unstable_ImmediatePriority,Ma=n.unstable_UserBlockingPriority,Ir=n.unstable_NormalPriority,xd=n.unstable_LowPriority,ka=n.unstable_IdlePriority,sl=n.log,vc=n.unstable_setDisableYieldValue,ge=null,Kt=null;function En(s){if(typeof sl=="function"&&vc(s),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ge,s)}catch{}}var tn=Math.clz32?Math.clz32:Dr,bc=Math.log,Rd=Math.LN2;function Dr(s){return s>>>=0,s===0?32:31-(bc(s)/Rd|0)|0}var Or=256,Mr=4194304;function $n(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Na(s,a,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,p=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var w=c&134217727;return w!==0?(c=w&~p,c!==0?m=$n(c):(T&=w,T!==0?m=$n(T):l||(l=w&~s,l!==0&&(m=$n(l))))):(w=c&~p,w!==0?m=$n(w):T!==0?m=$n(T):l||(l=c&~s,l!==0&&(m=$n(l)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:m}function kr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function rl(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var s=Or;return Or<<=1,(Or&4194048)===0&&(Or=256),s}function ol(){var s=Mr;return Mr<<=1,(Mr&62914560)===0&&(Mr=4194304),s}function Ui(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function zi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ll(s,a,l,c,m,p){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var w=s.entanglements,N=s.expirationTimes,q=s.hiddenUpdates;for(l=T&~l;0<l;){var Z=31-tn(l),nt=1<<Z;w[Z]=0,N[Z]=-1;var Y=q[Z];if(Y!==null)for(q[Z]=null,Z=0;Z<Y.length;Z++){var $=Y[Z];$!==null&&($.lane&=-536870913)}l&=~nt}c!==0&&ai(s,c,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(T&~a))}function ai(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-tn(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function ul(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-tn(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function Cs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Pa(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Is(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:K0(s.type))}function Ec(s,a){var l=at.p;try{return at.p=s,a()}finally{at.p=l}}var le=Math.random().toString(36).slice(2),Ie="__reactFiber$"+le,Te="__reactProps$"+le,Mn="__reactContainer$"+le,cl="__reactEvents$"+le,Cd="__reactListeners$"+le,Ds="__reactHandles$"+le,Tc="__reactResources$"+le,Nr="__reactMarker$"+le;function Os(s){delete s[Ie],delete s[Te],delete s[cl],delete s[Cd],delete s[Ds]}function ji(s){var a=s[Ie];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Mn]||l[Ie]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=M0(s);s!==null;){if(l=s[Ie])return l;s=M0(s)}return a}s=l,l=s.parentNode}return null}function oi(s){if(s=s[Ie]||s[Mn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function li(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function un(s){var a=s[Tc];return a||(a=s[Tc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ye(s){s[Nr]=!0}var hl=new Set,Va={};function Xn(s,a){Bi(s,a),Bi(s+"Capture",a)}function Bi(s,a){for(Va[s]=a,s=0;s<a.length;s++)hl.add(a[s])}var Sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wc={},Pr={};function Ac(s){return xr.call(Pr,s)?!0:xr.call(wc,s)?!1:Sc.test(s)?Pr[s]=!0:(wc[s]=!0,!1)}function Ms(s,a,l){if(Ac(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function ui(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Ge(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}var Vr,xc;function Hi(s){if(Vr===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Vr=a&&a[1]||"",xc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vr+s+xc}var La=!1;function Ua(s,a){if(!s||La)return"";La=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var Y=$}Reflect.construct(s,[],nt)}else{try{nt.call()}catch($){Y=$}s.call(nt.prototype)}}else{try{throw Error()}catch($){Y=$}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),T=p[0],w=p[1];if(T&&w){var N=T.split(`
`),q=w.split(`
`);for(m=c=0;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(c===N.length||m===q.length)for(c=N.length-1,m=q.length-1;1<=c&&0<=m&&N[c]!==q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(N[c]!==q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||N[c]!==q[m]){var Z=`
`+N[c].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=c&&0<=m);break}}}finally{La=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Hi(l):""}function fl(s){switch(s.tag){case 26:case 27:case 5:return Hi(s.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Ua(s.type,!1);case 11:return Ua(s.type.render,!1);case 1:return Ua(s.type,!0);case 31:return Hi("Activity");default:return""}}function za(s){try{var a="";do a+=fl(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function cn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function dl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Id(s){var a=dl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,p.call(this,T)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ja(s){s._valueTracker||(s._valueTracker=Id(s))}function gl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=dl(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function Lr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Dd=/[\n"\\]/g;function Se(s){return s.replace(Dd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Tn(s,a,l,c,m,p,T,w){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+cn(a)):s.value!==""+cn(a)&&(s.value=""+cn(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?ks(s,T,cn(a)):l!=null?ks(s,T,cn(l)):c!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+cn(w):s.removeAttribute("name")}function Ur(s,a,l,c,m,p,T,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+cn(l):"",a=a!=null?""+cn(a):l,w||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=w?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function ks(s,a,l){a==="number"&&Lr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Fi(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+cn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Zt(s,a,l){if(a!=null&&(a=""+cn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+cn(l):""}function zr(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(vt(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=cn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function kn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rc(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||jr.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function ml(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&Rc(s,m,c)}else for(var p in a)a.hasOwnProperty(p)&&Rc(s,p,a[p])}function pl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Od=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(s){return Md.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var qi=null;function Nn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gi=null,Yi=null;function yl(s){var a=oi(s);if(a&&(s=a.stateNode)){var l=s[Te]||null;t:switch(s=a.stateNode,a.type){case"input":if(Tn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Se(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[Te]||null;if(!m)throw Error(i(90));Tn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&gl(c)}break t;case"textarea":Zt(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Fi(s,!!l.multiple,a,!1)}}}var ci=!1;function Cc(s,a,l){if(ci)return s(a,l);ci=!0;try{var c=s(a);return c}finally{if(ci=!1,(Gi!==null||Yi!==null)&&(Eh(),Gi&&(a=Gi,s=Yi,Yi=Gi=null,yl(a),s)))for(a=0;a<s.length;a++)yl(s[a])}}function Br(s,a){var l=s.stateNode;if(l===null)return null;var c=l[Te]||null;if(c===null)return null;l=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pn=!1;if(Qn)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{Pn=!1}var hi=null,Ns=null,Ki=null;function _l(){if(Ki)return Ki;var s,a=Ns,l=a.length,c,m="value"in hi?hi.value:hi.textContent,p=m.length;for(s=0;s<l&&a[s]===m[s];s++);var T=l-s;for(c=1;c<=T&&a[l-c]===m[p-c];c++);return Ki=m.slice(s,1<c?1-c:void 0)}function fi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function di(){return!0}function vl(){return!1}function Ue(s){function a(l,c,m,p,T){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(l=s[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?di:vl,this.isPropagationStopped=vl,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),a}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=Ue(Gt),Fr=y({},Gt,{view:0,detail:0}),Ic=Ue(Fr),Fa,qa,gi,qr=y({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gi&&(gi&&s.type==="mousemove"?(Fa=s.screenX-gi.screenX,qa=s.screenY-gi.screenY):qa=Fa=0,gi=s),Fa)},movementY:function(s){return"movementY"in s?s.movementY:qa}}),Vn=Ue(qr),Dc=y({},qr,{dataTransfer:0}),kd=Ue(Dc),Gr=y({},Fr,{relatedTarget:0}),Ga=Ue(Gr),bl=y({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=Ue(bl),Oc=y({},Gt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ka=Ue(Oc),Nd=y({},Gt,{data:0}),El=Ue(Nd),Yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=kc[s])?!!a[s]:!1}function Kr(){return Tl}var Nc=y({},Fr,{key:function(s){if(s.key){var a=Yr[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=fi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Mc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(s){return s.type==="keypress"?fi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Wa=Ue(Nc),Pc=y({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sl=Ue(Pc),Wi=y({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),Vc=Ue(Wi),Lc=y({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uc=Ue(Lc),zc=y({},qr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$a=Ue(zc),hn=y({},Gt,{newState:0,oldState:0}),jc=Ue(hn),Bc=[9,13,27,32],mi=Qn&&"CompositionEvent"in window,d=null;Qn&&"documentMode"in document&&(d=document.documentMode);var _=Qn&&"TextEvent"in window&&!d,E=Qn&&(!mi||d&&8<d&&11>=d),x=" ",B=!1;function Q(s,a){switch(s){case"keyup":return Bc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lt=!1;function De(s,a){switch(s){case"compositionend":return lt(a);case"keypress":return a.which!==32?null:(B=!0,x);case"textInput":return s=a.data,s===x&&B?null:s;default:return null}}function Ut(s,a){if(Lt)return s==="compositionend"||!mi&&Q(s,a)?(s=_l(),Ki=Ns=hi=null,Lt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oe(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!ze[s.type]:a==="textarea"}function $i(s,a,l,c){Gi?Yi?Yi.push(c):Yi=[c]:Gi=c,a=Rh(a,"onChange"),0<a.length&&(l=new Ha("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var Ye=null,pi=null;function wl(s){T0(s,0)}function Hc(s){var a=li(s);if(gl(a))return s}function Fy(s,a){if(s==="change")return a}var qy=!1;if(Qn){var Pd;if(Qn){var Vd="oninput"in document;if(!Vd){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Vd=typeof Gy.oninput=="function"}Pd=Vd}else Pd=!1;qy=Pd&&(!document.documentMode||9<document.documentMode)}function Yy(){Ye&&(Ye.detachEvent("onpropertychange",Ky),pi=Ye=null)}function Ky(s){if(s.propertyName==="value"&&Hc(pi)){var a=[];$i(a,pi,s,Nn(s)),Cc(wl,a)}}function y1(s,a,l){s==="focusin"?(Yy(),Ye=a,pi=l,Ye.attachEvent("onpropertychange",Ky)):s==="focusout"&&Yy()}function _1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hc(pi)}function v1(s,a){if(s==="click")return Hc(a)}function b1(s,a){if(s==="input"||s==="change")return Hc(a)}function E1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Sn=typeof Object.is=="function"?Object.is:E1;function Al(s,a){if(Sn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!xr.call(a,m)||!Sn(s[m],a[m]))return!1}return!0}function Wy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function $y(s,a){var l=Wy(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Wy(l)}}function Xy(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Xy(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Qy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Lr(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Lr(s.document)}return a}function Ld(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var T1=Qn&&"documentMode"in document&&11>=document.documentMode,Xa=null,Ud=null,xl=null,zd=!1;function Zy(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zd||Xa==null||Xa!==Lr(c)||(c=Xa,"selectionStart"in c&&Ld(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),xl&&Al(xl,c)||(xl=c,c=Rh(Ud,"onSelect"),0<c.length&&(a=new Ha("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Xa)))}function Wr(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Qa={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},jd={},Jy={};Qn&&(Jy=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function $r(s){if(jd[s])return jd[s];if(!Qa[s])return s;var a=Qa[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in Jy)return jd[s]=a[l];return s}var t_=$r("animationend"),e_=$r("animationiteration"),n_=$r("animationstart"),S1=$r("transitionrun"),w1=$r("transitionstart"),A1=$r("transitioncancel"),i_=$r("transitionend"),s_=new Map,Bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bd.push("scrollEnd");function Zn(s,a){s_.set(s,a),Xn(a,[s])}var r_=new WeakMap;function Ln(s,a){if(typeof s=="object"&&s!==null){var l=r_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:za(a)},r_.set(s,a),a)}return{value:s,source:a,stack:za(a)}}var Un=[],Za=0,Hd=0;function Fc(){for(var s=Za,a=Hd=Za=0;a<s;){var l=Un[a];Un[a++]=null;var c=Un[a];Un[a++]=null;var m=Un[a];Un[a++]=null;var p=Un[a];if(Un[a++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}p!==0&&a_(l,m,p)}}function qc(s,a,l,c){Un[Za++]=s,Un[Za++]=a,Un[Za++]=l,Un[Za++]=c,Hd|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Fd(s,a,l,c){return qc(s,a,l,c),Gc(s)}function Ja(s,a){return qc(s,null,null,a),Gc(s)}function a_(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,p=s.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&a!==null&&(m=31-tn(l),s=p.hiddenUpdates,c=s[m],c===null?s[m]=[a]:c.push(a),a.lane=l|536870912),p):null}function Gc(s){if(50<Ql)throw Ql=0,$g=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var to={};function x1(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(s,a,l,c){return new x1(s,a,l,c)}function qd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xi(s,a){var l=s.alternate;return l===null?(l=wn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function o_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Yc(s,a,l,c,m,p){var T=0;if(c=s,typeof s=="function")qd(s)&&(T=1);else if(typeof s=="string")T=Cx(s,l,gt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=wn(31,l,a,m),s.elementType=D,s.lanes=p,s;case A:return Xr(l.children,m,p,a);case I:T=8,m|=24;break;case C:return s=wn(12,l,a,m|2),s.elementType=C,s.lanes=p,s;case tt:return s=wn(13,l,a,m),s.elementType=tt,s.lanes=p,s;case ut:return s=wn(19,l,a,m),s.elementType=ut,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:case W:T=10;break t;case F:T=9;break t;case et:T=11;break t;case P:T=14;break t;case R:T=16,c=null;break t}T=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return a=wn(T,l,a,m),a.elementType=s,a.type=c,a.lanes=p,a}function Xr(s,a,l,c){return s=wn(7,s,c,a),s.lanes=l,s}function Gd(s,a,l){return s=wn(6,s,null,a),s.lanes=l,s}function Yd(s,a,l){return a=wn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var eo=[],no=0,Kc=null,Wc=0,zn=[],jn=0,Qr=null,Qi=1,Zi="";function Zr(s,a){eo[no++]=Wc,eo[no++]=Kc,Kc=s,Wc=a}function l_(s,a,l){zn[jn++]=Qi,zn[jn++]=Zi,zn[jn++]=Qr,Qr=s;var c=Qi;s=Zi;var m=32-tn(c)-1;c&=~(1<<m),l+=1;var p=32-tn(a)+m;if(30<p){var T=m-m%5;p=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Qi=1<<32-tn(a)+m|l<<m|c,Zi=p+s}else Qi=1<<p|l<<m|c,Zi=s}function Kd(s){s.return!==null&&(Zr(s,1),l_(s,1,0))}function Wd(s){for(;s===Kc;)Kc=eo[--no],eo[no]=null,Wc=eo[--no],eo[no]=null;for(;s===Qr;)Qr=zn[--jn],zn[jn]=null,Zi=zn[--jn],zn[jn]=null,Qi=zn[--jn],zn[jn]=null}var fn=null,me=null,qt=!1,Jr=null,yi=!1,$d=Error(i(519));function ta(s){var a=Error(i(418,""));throw Il(Ln(a,s)),$d}function u_(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[Ie]=s,a[Te]=c,l){case"dialog":Nt("cancel",a),Nt("close",a);break;case"iframe":case"object":case"embed":Nt("load",a);break;case"video":case"audio":for(l=0;l<Jl.length;l++)Nt(Jl[l],a);break;case"source":Nt("error",a);break;case"img":case"image":case"link":Nt("error",a),Nt("load",a);break;case"details":Nt("toggle",a);break;case"input":Nt("invalid",a),Ur(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ja(a);break;case"select":Nt("invalid",a);break;case"textarea":Nt("invalid",a),zr(a,c.value,c.defaultValue,c.children),ja(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||x0(a.textContent,l)?(c.popover!=null&&(Nt("beforetoggle",a),Nt("toggle",a)),c.onScroll!=null&&Nt("scroll",a),c.onScrollEnd!=null&&Nt("scrollend",a),c.onClick!=null&&(a.onclick=Ch),a=!0):a=!1,a||ta(s)}function c_(s){for(fn=s.return;fn;)switch(fn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:fn=fn.return}}function Rl(s){if(s!==fn)return!1;if(!qt)return c_(s),qt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||hm(s.type,s.memoizedProps)),l=!l),l&&me&&ta(s),c_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){me=ti(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}me=null}}else a===27?(a=me,Xs(s.type)?(s=mm,mm=null,me=s):me=a):me=fn?ti(s.stateNode.nextSibling):null;return!0}function Cl(){me=fn=null,qt=!1}function h_(){var s=Jr;return s!==null&&(mn===null?mn=s:mn.push.apply(mn,s),Jr=null),s}function Il(s){Jr===null?Jr=[s]:Jr.push(s)}var Xd=st(null),ea=null,Ji=null;function Ps(s,a,l){ot(Xd,a._currentValue),a._currentValue=l}function ts(s){s._currentValue=Xd.current,ct(Xd)}function Qd(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function Zd(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var T=m.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=m;for(var N=0;N<a.length;N++)if(w.context===a[N]){p.lanes|=l,w=p.alternate,w!==null&&(w.lanes|=l),Qd(p.return,l,s),c||(T=null);break t}p=w.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),Qd(T,l,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Dl(s,a,l,c){s=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var w=m.type;Sn(m.pendingProps.value,T.value)||(s!==null?s.push(w):s=[w])}}else if(m===Le.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(ru):s=[ru])}m=m.return}s!==null&&Zd(a,s,l,c),a.flags|=262144}function $c(s){for(s=s.firstContext;s!==null;){if(!Sn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function na(s){ea=s,Ji=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function en(s){return f_(ea,s)}function Xc(s,a){return ea===null&&na(s),f_(s,a)}function f_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ji===null){if(s===null)throw Error(i(308));Ji=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Ji=Ji.next=a;return l}var R1=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},C1=n.unstable_scheduleCallback,I1=n.unstable_NormalPriority,Me={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jd(){return{controller:new R1,data:new Map,refCount:0}}function Ol(s){s.refCount--,s.refCount===0&&C1(I1,function(){s.controller.abort()})}var Ml=null,tg=0,io=0,so=null;function D1(s,a){if(Ml===null){var l=Ml=[];tg=0,io=nm(),so={status:"pending",value:void 0,then:function(c){l.push(c)}}}return tg++,a.then(d_,d_),a}function d_(){if(--tg===0&&Ml!==null){so!==null&&(so.status="fulfilled");var s=Ml;Ml=null,io=0,so=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function O1(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var g_=X.S;X.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&D1(s,a),g_!==null&&g_(s,a)};var ia=st(null);function eg(){var s=ia.current;return s!==null?s:se.pooledCache}function Qc(s,a){a===null?ot(ia,ia.current):ot(ia,a.pool)}function m_(){var s=eg();return s===null?null:{parent:Me._currentValue,pool:s}}var kl=Error(i(460)),p_=Error(i(474)),Zc=Error(i(542)),ng={then:function(){}};function y_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Jc(){}function __(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Jc,Jc),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,b_(s),s;default:if(typeof a.status=="string")a.then(Jc,Jc);else{if(s=se,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,b_(s),s}throw Nl=a,kl}}var Nl=null;function v_(){if(Nl===null)throw Error(i(459));var s=Nl;return Nl=null,s}function b_(s){if(s===kl||s===Zc)throw Error(i(483))}var Vs=!1;function ig(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ls(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Us(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Wt&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Gc(s),a_(s,null,l),a}return qc(s,c,a,l),Gc(s)}function Pl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ul(s,l)}}function rg(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?m=p=a:p=p.next=a}else m=p=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var ag=!1;function Vl(){if(ag){var s=so;if(s!==null)throw s}}function Ll(s,a,l,c){ag=!1;var m=s.updateQueue;Vs=!1;var p=m.firstBaseUpdate,T=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var N=w,q=N.next;N.next=null,T===null?p=q:T.next=q,T=N;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==T&&(w===null?Z.firstBaseUpdate=q:w.next=q,Z.lastBaseUpdate=N))}if(p!==null){var nt=m.baseState;T=0,Z=q=N=null,w=p;do{var Y=w.lane&-536870913,$=Y!==w.lane;if($?(zt&Y)===Y:(c&Y)===Y){Y!==0&&Y===io&&(ag=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var At=s,bt=w;Y=a;var ee=l;switch(bt.tag){case 1:if(At=bt.payload,typeof At=="function"){nt=At.call(ee,nt,Y);break t}nt=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=bt.payload,Y=typeof At=="function"?At.call(ee,nt,Y):At,Y==null)break t;nt=y({},nt,Y);break t;case 2:Vs=!0}}Y=w.callback,Y!==null&&(s.flags|=64,$&&(s.flags|=8192),$=m.callbacks,$===null?m.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(q=Z=$,N=nt):Z=Z.next=$,T|=Y;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;$=w,w=$.next,$.next=null,m.lastBaseUpdate=$,m.shared.pending=null}}while(!0);Z===null&&(N=nt),m.baseState=N,m.firstBaseUpdate=q,m.lastBaseUpdate=Z,p===null&&(m.shared.lanes=0),Ys|=T,s.lanes=T,s.memoizedState=nt}}function E_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function T_(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)E_(l[s],a)}var ro=st(null),th=st(0);function S_(s,a){s=os,ot(th,s),ot(ro,a),os=s|a.baseLanes}function og(){ot(th,os),ot(ro,ro.current)}function lg(){os=th.current,ct(ro),ct(th)}var zs=0,Dt=null,Jt=null,we=null,eh=!1,ao=!1,sa=!1,nh=0,Ul=0,oo=null,M1=0;function _e(){throw Error(i(321))}function ug(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Sn(s[l],a[l]))return!1;return!0}function cg(s,a,l,c,m,p){return zs=p,Dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=s===null||s.memoizedState===null?av:ov,sa=!1,p=l(c,m),sa=!1,ao&&(p=A_(a,l,c,m)),w_(s),p}function w_(s){X.H=lh;var a=Jt!==null&&Jt.next!==null;if(zs=0,we=Jt=Dt=null,eh=!1,Ul=0,oo=null,a)throw Error(i(300));s===null||je||(s=s.dependencies,s!==null&&$c(s)&&(je=!0))}function A_(s,a,l,c){Dt=s;var m=0;do{if(ao&&(oo=null),Ul=0,ao=!1,25<=m)throw Error(i(301));if(m+=1,we=Jt=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=z1,p=a(l,c)}while(ao);return p}function k1(){var s=X.H,a=s.useState()[0];return a=typeof a.then=="function"?zl(a):a,s=s.useState()[0],(Jt!==null?Jt.memoizedState:null)!==s&&(Dt.flags|=1024),a}function hg(){var s=nh!==0;return nh=0,s}function fg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function dg(s){if(eh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}eh=!1}zs=0,we=Jt=Dt=null,ao=!1,Ul=nh=0,oo=null}function dn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Dt.memoizedState=we=s:we=we.next=s,we}function Ae(){if(Jt===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=Jt.next;var a=we===null?Dt.memoizedState:we.next;if(a!==null)we=a,Jt=s;else{if(s===null)throw Dt.alternate===null?Error(i(467)):Error(i(310));Jt=s,s={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?Dt.memoizedState=we=s:we=we.next=s}return we}function gg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(s){var a=Ul;return Ul+=1,oo===null&&(oo=[]),s=__(oo,s,a),a=Dt,(we===null?a.memoizedState:we.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?av:ov),s}function ih(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return zl(s);if(s.$$typeof===W)return en(s)}throw Error(i(438,String(s)))}function mg(s){var a=null,l=Dt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Dt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=gg(),Dt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=k;return a.index++,l}function es(s,a){return typeof a=="function"?a(s):a}function sh(s){var a=Ae();return pg(a,Jt,s)}function pg(s,a,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=s.baseQueue,p=c.pending;if(p!==null){if(m!==null){var T=m.next;m.next=p.next,p.next=T}a.baseQueue=m=p,c.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{a=m.next;var w=T=null,N=null,q=a,Z=!1;do{var nt=q.lane&-536870913;if(nt!==q.lane?(zt&nt)===nt:(zs&nt)===nt){var Y=q.revertLane;if(Y===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),nt===io&&(Z=!0);else if((zs&Y)===Y){q=q.next,Y===io&&(Z=!0);continue}else nt={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(w=N=nt,T=p):N=N.next=nt,Dt.lanes|=Y,Ys|=Y;nt=q.action,sa&&l(p,nt),p=q.hasEagerState?q.eagerState:l(p,nt)}else Y={lane:nt,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(w=N=Y,T=p):N=N.next=Y,Dt.lanes|=nt,Ys|=nt;q=q.next}while(q!==null&&q!==a);if(N===null?T=p:N.next=w,!Sn(p,s.memoizedState)&&(je=!0,Z&&(l=so,l!==null)))throw l;s.memoizedState=p,s.baseState=T,s.baseQueue=N,c.lastRenderedState=p}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function yg(s){var a=Ae(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,p=a.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do p=s(p,T.action),T=T.next;while(T!==m);Sn(p,a.memoizedState)||(je=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,c]}function x_(s,a,l){var c=Dt,m=Ae(),p=qt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!Sn((Jt||m).memoizedState,l);T&&(m.memoizedState=l,je=!0),m=m.queue;var w=I_.bind(null,c,m,s);if(jl(2048,8,w,[s]),m.getSnapshot!==a||T||we!==null&&we.memoizedState.tag&1){if(c.flags|=2048,lo(9,rh(),C_.bind(null,c,m,l,a),null),se===null)throw Error(i(349));p||(zs&124)!==0||R_(c,a,l)}return l}function R_(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Dt.updateQueue,a===null?(a=gg(),Dt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function C_(s,a,l,c){a.value=l,a.getSnapshot=c,D_(a)&&O_(s)}function I_(s,a,l){return l(function(){D_(a)&&O_(s)})}function D_(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Sn(s,l)}catch{return!0}}function O_(s){var a=Ja(s,2);a!==null&&In(a,s,2)}function _g(s){var a=dn();if(typeof s=="function"){var l=s;if(s=l(),sa){En(!0);try{l()}finally{En(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:s},a}function M_(s,a,l,c){return s.baseState=l,pg(s,Jt,typeof c=="function"?c:es)}function N1(s,a,l,c,m){if(oh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};X.T!==null?l(!0):p.isTransition=!1,c(p),l=a.pending,l===null?(p.next=a.pending=p,k_(a,p)):(p.next=l.next,a.pending=l.next=p)}}function k_(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var p=X.T,T={};X.T=T;try{var w=l(m,c),N=X.S;N!==null&&N(T,w),N_(s,a,w)}catch(q){vg(s,a,q)}finally{X.T=p}}else try{p=l(m,c),N_(s,a,p)}catch(q){vg(s,a,q)}}function N_(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){P_(s,a,c)},function(c){return vg(s,a,c)}):P_(s,a,l)}function P_(s,a,l){a.status="fulfilled",a.value=l,V_(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,k_(s,l)))}function vg(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,V_(a),a=a.next;while(a!==c)}s.action=null}function V_(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function L_(s,a){return a}function U_(s,a){if(qt){var l=se.formState;if(l!==null){t:{var c=Dt;if(qt){if(me){e:{for(var m=me,p=yi;m.nodeType!==8;){if(!p){m=null;break e}if(m=ti(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){me=ti(m.nextSibling),c=m.data==="F!";break t}}ta(c)}c=!1}c&&(a=l[0])}}return l=dn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:L_,lastRenderedState:a},l.queue=c,l=iv.bind(null,Dt,c),c.dispatch=l,c=_g(!1),p=wg.bind(null,Dt,!1,c.queue),c=dn(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=N1.bind(null,Dt,m,p,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function z_(s){var a=Ae();return j_(a,Jt,s)}function j_(s,a,l){if(a=pg(s,a,L_)[0],s=sh(es)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=zl(a)}catch(T){throw T===kl?Zc:T}else c=a;a=Ae();var m=a.queue,p=m.dispatch;return l!==a.memoizedState&&(Dt.flags|=2048,lo(9,rh(),P1.bind(null,m,l),null)),[c,p,s]}function P1(s,a){s.action=a}function B_(s){var a=Ae(),l=Jt;if(l!==null)return j_(a,l,s);Ae(),a=a.memoizedState,l=Ae();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function lo(s,a,l,c){return s={tag:s,create:l,deps:c,inst:a,next:null},a=Dt.updateQueue,a===null&&(a=gg(),Dt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function rh(){return{destroy:void 0,resource:void 0}}function H_(){return Ae().memoizedState}function ah(s,a,l,c){var m=dn();c=c===void 0?null:c,Dt.flags|=s,m.memoizedState=lo(1|a,rh(),l,c)}function jl(s,a,l,c){var m=Ae();c=c===void 0?null:c;var p=m.memoizedState.inst;Jt!==null&&c!==null&&ug(c,Jt.memoizedState.deps)?m.memoizedState=lo(a,p,l,c):(Dt.flags|=s,m.memoizedState=lo(1|a,p,l,c))}function F_(s,a){ah(8390656,8,s,a)}function q_(s,a){jl(2048,8,s,a)}function G_(s,a){return jl(4,2,s,a)}function Y_(s,a){return jl(4,4,s,a)}function K_(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function W_(s,a,l){l=l!=null?l.concat([s]):null,jl(4,4,K_.bind(null,a,s),l)}function bg(){}function $_(s,a){var l=Ae();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&ug(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function X_(s,a){var l=Ae();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&ug(a,c[1]))return c[0];if(c=s(),sa){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[c,a],c}function Eg(s,a,l){return l===void 0||(zs&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Jv(),Dt.lanes|=s,Ys|=s,l)}function Q_(s,a,l,c){return Sn(l,a)?l:ro.current!==null?(s=Eg(s,l,c),Sn(s,a)||(je=!0),s):(zs&42)===0?(je=!0,s.memoizedState=l):(s=Jv(),Dt.lanes|=s,Ys|=s,a)}function Z_(s,a,l,c,m){var p=at.p;at.p=p!==0&&8>p?p:8;var T=X.T,w={};X.T=w,wg(s,!1,a,l);try{var N=m(),q=X.S;if(q!==null&&q(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=O1(N,c);Bl(s,a,Z,Cn(s))}else Bl(s,a,c,Cn(s))}catch(nt){Bl(s,a,{then:function(){},status:"rejected",reason:nt},Cn())}finally{at.p=p,X.T=T}}function V1(){}function Tg(s,a,l,c){if(s.tag!==5)throw Error(i(476));var m=J_(s).queue;Z_(s,m,a,ft,l===null?V1:function(){return tv(s),l(c)})}function J_(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ft},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function tv(s){var a=J_(s).next.queue;Bl(s,a,{},Cn())}function Sg(){return en(ru)}function ev(){return Ae().memoizedState}function nv(){return Ae().memoizedState}function L1(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Cn();s=Ls(l);var c=Us(a,s,l);c!==null&&(In(c,a,l),Pl(c,a,l)),a={cache:Jd()},s.payload=a;return}a=a.return}}function U1(s,a,l){var c=Cn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},oh(s)?sv(a,l):(l=Fd(s,a,l,c),l!==null&&(In(l,s,c),rv(l,a,c)))}function iv(s,a,l){var c=Cn();Bl(s,a,l,c)}function Bl(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(oh(s))sv(a,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var T=a.lastRenderedState,w=p(T,l);if(m.hasEagerState=!0,m.eagerState=w,Sn(w,T))return qc(s,a,m,0),se===null&&Fc(),!1}catch{}finally{}if(l=Fd(s,a,m,c),l!==null)return In(l,s,c),rv(l,a,c),!0}return!1}function wg(s,a,l,c){if(c={lane:2,revertLane:nm(),action:c,hasEagerState:!1,eagerState:null,next:null},oh(s)){if(a)throw Error(i(479))}else a=Fd(s,l,c,2),a!==null&&In(a,s,2)}function oh(s){var a=s.alternate;return s===Dt||a!==null&&a===Dt}function sv(s,a){ao=eh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function rv(s,a,l){if((l&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ul(s,l)}}var lh={readContext:en,use:ih,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},av={readContext:en,use:ih,useCallback:function(s,a){return dn().memoizedState=[s,a===void 0?null:a],s},useContext:en,useEffect:F_,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,ah(4194308,4,K_.bind(null,a,s),l)},useLayoutEffect:function(s,a){return ah(4194308,4,s,a)},useInsertionEffect:function(s,a){ah(4,2,s,a)},useMemo:function(s,a){var l=dn();a=a===void 0?null:a;var c=s();if(sa){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=dn();if(l!==void 0){var m=l(a);if(sa){En(!0);try{l(a)}finally{En(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=U1.bind(null,Dt,s),[c.memoizedState,s]},useRef:function(s){var a=dn();return s={current:s},a.memoizedState=s},useState:function(s){s=_g(s);var a=s.queue,l=iv.bind(null,Dt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:bg,useDeferredValue:function(s,a){var l=dn();return Eg(l,s,a)},useTransition:function(){var s=_g(!1);return s=Z_.bind(null,Dt,s.queue,!0,!1),dn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Dt,m=dn();if(qt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),se===null)throw Error(i(349));(zt&124)!==0||R_(c,a,l)}m.memoizedState=l;var p={value:l,getSnapshot:a};return m.queue=p,F_(I_.bind(null,c,p,s),[s]),c.flags|=2048,lo(9,rh(),C_.bind(null,c,p,l,a),null),l},useId:function(){var s=dn(),a=se.identifierPrefix;if(qt){var l=Zi,c=Qi;l=(c&~(1<<32-tn(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=nh++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=M1++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:Sg,useFormState:U_,useActionState:U_,useOptimistic:function(s){var a=dn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=wg.bind(null,Dt,!0,l),l.dispatch=a,[s,a]},useMemoCache:mg,useCacheRefresh:function(){return dn().memoizedState=L1.bind(null,Dt)}},ov={readContext:en,use:ih,useCallback:$_,useContext:en,useEffect:q_,useImperativeHandle:W_,useInsertionEffect:G_,useLayoutEffect:Y_,useMemo:X_,useReducer:sh,useRef:H_,useState:function(){return sh(es)},useDebugValue:bg,useDeferredValue:function(s,a){var l=Ae();return Q_(l,Jt.memoizedState,s,a)},useTransition:function(){var s=sh(es)[0],a=Ae().memoizedState;return[typeof s=="boolean"?s:zl(s),a]},useSyncExternalStore:x_,useId:ev,useHostTransitionStatus:Sg,useFormState:z_,useActionState:z_,useOptimistic:function(s,a){var l=Ae();return M_(l,Jt,s,a)},useMemoCache:mg,useCacheRefresh:nv},z1={readContext:en,use:ih,useCallback:$_,useContext:en,useEffect:q_,useImperativeHandle:W_,useInsertionEffect:G_,useLayoutEffect:Y_,useMemo:X_,useReducer:yg,useRef:H_,useState:function(){return yg(es)},useDebugValue:bg,useDeferredValue:function(s,a){var l=Ae();return Jt===null?Eg(l,s,a):Q_(l,Jt.memoizedState,s,a)},useTransition:function(){var s=yg(es)[0],a=Ae().memoizedState;return[typeof s=="boolean"?s:zl(s),a]},useSyncExternalStore:x_,useId:ev,useHostTransitionStatus:Sg,useFormState:B_,useActionState:B_,useOptimistic:function(s,a){var l=Ae();return Jt!==null?M_(l,Jt,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:mg,useCacheRefresh:nv},uo=null,Hl=0;function uh(s){var a=Hl;return Hl+=1,uo===null&&(uo=[]),__(uo,s,a)}function Fl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function ch(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function lv(s){var a=s._init;return a(s._payload)}function uv(s){function a(j,z){if(s){var H=j.deletions;H===null?(j.deletions=[z],j.flags|=16):H.push(z)}}function l(j,z){if(!s)return null;for(;z!==null;)a(j,z),z=z.sibling;return null}function c(j){for(var z=new Map;j!==null;)j.key!==null?z.set(j.key,j):z.set(j.index,j),j=j.sibling;return z}function m(j,z){return j=Xi(j,z),j.index=0,j.sibling=null,j}function p(j,z,H){return j.index=H,s?(H=j.alternate,H!==null?(H=H.index,H<z?(j.flags|=67108866,z):H):(j.flags|=67108866,z)):(j.flags|=1048576,z)}function T(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function w(j,z,H,J){return z===null||z.tag!==6?(z=Gd(H,j.mode,J),z.return=j,z):(z=m(z,H),z.return=j,z)}function N(j,z,H,J){var dt=H.type;return dt===A?Z(j,z,H.props.children,J,H.key):z!==null&&(z.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&lv(dt)===z.type)?(z=m(z,H.props),Fl(z,H),z.return=j,z):(z=Yc(H.type,H.key,H.props,null,j.mode,J),Fl(z,H),z.return=j,z)}function q(j,z,H,J){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Yd(H,j.mode,J),z.return=j,z):(z=m(z,H.children||[]),z.return=j,z)}function Z(j,z,H,J,dt){return z===null||z.tag!==7?(z=Xr(H,j.mode,J,dt),z.return=j,z):(z=m(z,H),z.return=j,z)}function nt(j,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Gd(""+z,j.mode,H),z.return=j,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return H=Yc(z.type,z.key,z.props,null,j.mode,H),Fl(H,z),H.return=j,H;case S:return z=Yd(z,j.mode,H),z.return=j,z;case R:var J=z._init;return z=J(z._payload),nt(j,z,H)}if(vt(z)||U(z))return z=Xr(z,j.mode,H,null),z.return=j,z;if(typeof z.then=="function")return nt(j,uh(z),H);if(z.$$typeof===W)return nt(j,Xc(j,z),H);ch(j,z)}return null}function Y(j,z,H,J){var dt=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return dt!==null?null:w(j,z,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===dt?N(j,z,H,J):null;case S:return H.key===dt?q(j,z,H,J):null;case R:return dt=H._init,H=dt(H._payload),Y(j,z,H,J)}if(vt(H)||U(H))return dt!==null?null:Z(j,z,H,J,null);if(typeof H.then=="function")return Y(j,z,uh(H),J);if(H.$$typeof===W)return Y(j,z,Xc(j,H),J);ch(j,H)}return null}function $(j,z,H,J,dt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(H)||null,w(z,j,""+J,dt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return j=j.get(J.key===null?H:J.key)||null,N(z,j,J,dt);case S:return j=j.get(J.key===null?H:J.key)||null,q(z,j,J,dt);case R:var Mt=J._init;return J=Mt(J._payload),$(j,z,H,J,dt)}if(vt(J)||U(J))return j=j.get(H)||null,Z(z,j,J,dt,null);if(typeof J.then=="function")return $(j,z,H,uh(J),dt);if(J.$$typeof===W)return $(j,z,H,Xc(z,J),dt);ch(z,J)}return null}function At(j,z,H,J){for(var dt=null,Mt=null,mt=z,Et=z=0,He=null;mt!==null&&Et<H.length;Et++){mt.index>Et?(He=mt,mt=null):He=mt.sibling;var Bt=Y(j,mt,H[Et],J);if(Bt===null){mt===null&&(mt=He);break}s&&mt&&Bt.alternate===null&&a(j,mt),z=p(Bt,z,Et),Mt===null?dt=Bt:Mt.sibling=Bt,Mt=Bt,mt=He}if(Et===H.length)return l(j,mt),qt&&Zr(j,Et),dt;if(mt===null){for(;Et<H.length;Et++)mt=nt(j,H[Et],J),mt!==null&&(z=p(mt,z,Et),Mt===null?dt=mt:Mt.sibling=mt,Mt=mt);return qt&&Zr(j,Et),dt}for(mt=c(mt);Et<H.length;Et++)He=$(mt,j,Et,H[Et],J),He!==null&&(s&&He.alternate!==null&&mt.delete(He.key===null?Et:He.key),z=p(He,z,Et),Mt===null?dt=He:Mt.sibling=He,Mt=He);return s&&mt.forEach(function(er){return a(j,er)}),qt&&Zr(j,Et),dt}function bt(j,z,H,J){if(H==null)throw Error(i(151));for(var dt=null,Mt=null,mt=z,Et=z=0,He=null,Bt=H.next();mt!==null&&!Bt.done;Et++,Bt=H.next()){mt.index>Et?(He=mt,mt=null):He=mt.sibling;var er=Y(j,mt,Bt.value,J);if(er===null){mt===null&&(mt=He);break}s&&mt&&er.alternate===null&&a(j,mt),z=p(er,z,Et),Mt===null?dt=er:Mt.sibling=er,Mt=er,mt=He}if(Bt.done)return l(j,mt),qt&&Zr(j,Et),dt;if(mt===null){for(;!Bt.done;Et++,Bt=H.next())Bt=nt(j,Bt.value,J),Bt!==null&&(z=p(Bt,z,Et),Mt===null?dt=Bt:Mt.sibling=Bt,Mt=Bt);return qt&&Zr(j,Et),dt}for(mt=c(mt);!Bt.done;Et++,Bt=H.next())Bt=$(mt,j,Et,Bt.value,J),Bt!==null&&(s&&Bt.alternate!==null&&mt.delete(Bt.key===null?Et:Bt.key),z=p(Bt,z,Et),Mt===null?dt=Bt:Mt.sibling=Bt,Mt=Bt);return s&&mt.forEach(function(jx){return a(j,jx)}),qt&&Zr(j,Et),dt}function ee(j,z,H,J){if(typeof H=="object"&&H!==null&&H.type===A&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:t:{for(var dt=H.key;z!==null;){if(z.key===dt){if(dt=H.type,dt===A){if(z.tag===7){l(j,z.sibling),J=m(z,H.props.children),J.return=j,j=J;break t}}else if(z.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&lv(dt)===z.type){l(j,z.sibling),J=m(z,H.props),Fl(J,H),J.return=j,j=J;break t}l(j,z);break}else a(j,z);z=z.sibling}H.type===A?(J=Xr(H.props.children,j.mode,J,H.key),J.return=j,j=J):(J=Yc(H.type,H.key,H.props,null,j.mode,J),Fl(J,H),J.return=j,j=J)}return T(j);case S:t:{for(dt=H.key;z!==null;){if(z.key===dt)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){l(j,z.sibling),J=m(z,H.children||[]),J.return=j,j=J;break t}else{l(j,z);break}else a(j,z);z=z.sibling}J=Yd(H,j.mode,J),J.return=j,j=J}return T(j);case R:return dt=H._init,H=dt(H._payload),ee(j,z,H,J)}if(vt(H))return At(j,z,H,J);if(U(H)){if(dt=U(H),typeof dt!="function")throw Error(i(150));return H=dt.call(H),bt(j,z,H,J)}if(typeof H.then=="function")return ee(j,z,uh(H),J);if(H.$$typeof===W)return ee(j,z,Xc(j,H),J);ch(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(l(j,z.sibling),J=m(z,H),J.return=j,j=J):(l(j,z),J=Gd(H,j.mode,J),J.return=j,j=J),T(j)):l(j,z)}return function(j,z,H,J){try{Hl=0;var dt=ee(j,z,H,J);return uo=null,dt}catch(mt){if(mt===kl||mt===Zc)throw mt;var Mt=wn(29,mt,null,j.mode);return Mt.lanes=J,Mt.return=j,Mt}finally{}}}var co=uv(!0),cv=uv(!1),Bn=st(null),_i=null;function js(s){var a=s.alternate;ot(ke,ke.current&1),ot(Bn,s),_i===null&&(a===null||ro.current!==null||a.memoizedState!==null)&&(_i=s)}function hv(s){if(s.tag===22){if(ot(ke,ke.current),ot(Bn,s),_i===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(_i=s)}}else Bs()}function Bs(){ot(ke,ke.current),ot(Bn,Bn.current)}function ns(s){ct(Bn),_i===s&&(_i=null),ct(ke)}var ke=st(0);function hh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||gm(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Ag(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var xg={enqueueSetState:function(s,a,l){s=s._reactInternals;var c=Cn(),m=Ls(c);m.payload=a,l!=null&&(m.callback=l),a=Us(s,m,c),a!==null&&(In(a,s,c),Pl(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=Cn(),m=Ls(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Us(s,m,c),a!==null&&(In(a,s,c),Pl(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Cn(),c=Ls(l);c.tag=2,a!=null&&(c.callback=a),a=Us(s,c,l),a!==null&&(In(a,s,l),Pl(a,s,l))}};function fv(s,a,l,c,m,p,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,p,T):a.prototype&&a.prototype.isPureReactComponent?!Al(l,c)||!Al(m,p):!0}function dv(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&xg.enqueueReplaceState(a,a.state,null)}function ra(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var fh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function gv(s){fh(s)}function mv(s){console.error(s)}function pv(s){fh(s)}function dh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function yv(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Rg(s,a,l){return l=Ls(l),l.tag=3,l.payload={element:null},l.callback=function(){dh(s,a)},l}function _v(s){return s=Ls(s),s.tag=3,s}function vv(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=c.value;s.payload=function(){return m(p)},s.callback=function(){yv(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){yv(a,l,c),typeof m!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function j1(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Dl(a,l,m,!0),l=Bn.current,l!==null){switch(l.tag){case 13:return _i===null?Qg():l.alternate===null&&pe===0&&(pe=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===ng?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Jg(s,c,m)),!1;case 22:return l.flags|=65536,c===ng?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Jg(s,c,m)),!1}throw Error(i(435,l.tag))}return Jg(s,c,m),Qg(),!1}if(qt)return a=Bn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==$d&&(s=Error(i(422),{cause:c}),Il(Ln(s,l)))):(c!==$d&&(a=Error(i(423),{cause:c}),Il(Ln(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Ln(c,l),m=Rg(s.stateNode,c,m),rg(s,m),pe!==4&&(pe=2)),!1;var p=Error(i(520),{cause:c});if(p=Ln(p,l),Xl===null?Xl=[p]:Xl.push(p),pe!==4&&(pe=2),a===null)return!0;c=Ln(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=Rg(l.stateNode,c,s),rg(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ks===null||!Ks.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=_v(m),vv(m,s,l,c),rg(l,m),!1}l=l.return}while(l!==null);return!1}var bv=Error(i(461)),je=!1;function Ke(s,a,l,c){a.child=s===null?cv(a,null,l,c):co(a,s.child,l,c)}function Ev(s,a,l,c,m){l=l.render;var p=a.ref;if("ref"in c){var T={};for(var w in c)w!=="ref"&&(T[w]=c[w])}else T=c;return na(a),c=cg(s,a,l,T,p,m),w=hg(),s!==null&&!je?(fg(s,a,m),is(s,a,m)):(qt&&w&&Kd(a),a.flags|=1,Ke(s,a,c,m),a.child)}function Tv(s,a,l,c,m){if(s===null){var p=l.type;return typeof p=="function"&&!qd(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Sv(s,a,p,c,m)):(s=Yc(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Pg(s,m)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:Al,l(T,c)&&s.ref===a.ref)return is(s,a,m)}return a.flags|=1,s=Xi(p,c),s.ref=a.ref,s.return=a,a.child=s}function Sv(s,a,l,c,m){if(s!==null){var p=s.memoizedProps;if(Al(p,c)&&s.ref===a.ref)if(je=!1,a.pendingProps=c=p,Pg(s,m))(s.flags&131072)!==0&&(je=!0);else return a.lanes=s.lanes,is(s,a,m)}return Cg(s,a,l,c,m)}function wv(s,a,l){var c=a.pendingProps,m=c.children,p=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=p!==null?p.baseLanes|l:l,s!==null){for(m=a.child=s.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;a.childLanes=p&~c}else a.childLanes=0,a.child=null;return Av(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Qc(a,p!==null?p.cachePool:null),p!==null?S_(a,p):og(),hv(a);else return a.lanes=a.childLanes=536870912,Av(s,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(Qc(a,p.cachePool),S_(a,p),Bs(),a.memoizedState=null):(s!==null&&Qc(a,null),og(),Bs());return Ke(s,a,m,l),a.child}function Av(s,a,l,c){var m=eg();return m=m===null?null:{parent:Me._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Qc(a,null),og(),hv(a),s!==null&&Dl(s,a,c,!0),null}function gh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Cg(s,a,l,c,m){return na(a),l=cg(s,a,l,c,void 0,m),c=hg(),s!==null&&!je?(fg(s,a,m),is(s,a,m)):(qt&&c&&Kd(a),a.flags|=1,Ke(s,a,l,m),a.child)}function xv(s,a,l,c,m,p){return na(a),a.updateQueue=null,l=A_(a,c,l,m),w_(s),c=hg(),s!==null&&!je?(fg(s,a,p),is(s,a,p)):(qt&&c&&Kd(a),a.flags|=1,Ke(s,a,l,p),a.child)}function Rv(s,a,l,c,m){if(na(a),a.stateNode===null){var p=to,T=l.contextType;typeof T=="object"&&T!==null&&(p=en(T)),p=new l(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=xg,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},ig(a),T=l.contextType,p.context=typeof T=="object"&&T!==null?en(T):to,p.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Ag(a,l,T,c),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&xg.enqueueReplaceState(p,p.state,null),Ll(a,c,p,m),Vl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){p=a.stateNode;var w=a.memoizedProps,N=ra(l,w);p.props=N;var q=p.context,Z=l.contextType;T=to,typeof Z=="object"&&Z!==null&&(T=en(Z));var nt=l.getDerivedStateFromProps;Z=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||q!==T)&&dv(a,p,c,T),Vs=!1;var Y=a.memoizedState;p.state=Y,Ll(a,c,p,m),Vl(),q=a.memoizedState,w||Y!==q||Vs?(typeof nt=="function"&&(Ag(a,l,nt,c),q=a.memoizedState),(N=Vs||fv(a,l,N,c,Y,q,T))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=q),p.props=c,p.state=q,p.context=T,c=N):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,sg(s,a),T=a.memoizedProps,Z=ra(l,T),p.props=Z,nt=a.pendingProps,Y=p.context,q=l.contextType,N=to,typeof q=="object"&&q!==null&&(N=en(q)),w=l.getDerivedStateFromProps,(q=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==nt||Y!==N)&&dv(a,p,c,N),Vs=!1,Y=a.memoizedState,p.state=Y,Ll(a,c,p,m),Vl();var $=a.memoizedState;T!==nt||Y!==$||Vs||s!==null&&s.dependencies!==null&&$c(s.dependencies)?(typeof w=="function"&&(Ag(a,l,w,c),$=a.memoizedState),(Z=Vs||fv(a,l,Z,c,Y,$,N)||s!==null&&s.dependencies!==null&&$c(s.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,$,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,$,N)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=$),p.props=c,p.state=$,p.context=N,c=Z):(typeof p.componentDidUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),c=!1)}return p=c,gh(s,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&c?(a.child=co(a,s.child,null,m),a.child=co(a,null,l,m)):Ke(s,a,l,m),a.memoizedState=p.state,s=a.child):s=is(s,a,m),s}function Cv(s,a,l,c){return Cl(),a.flags|=256,Ke(s,a,l,c),a.child}var Ig={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dg(s){return{baseLanes:s,cachePool:m_()}}function Og(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Hn),s}function Iv(s,a,l){var c=a.pendingProps,m=!1,p=(a.flags&128)!==0,T;if((T=p)||(T=s!==null&&s.memoizedState===null?!1:(ke.current&2)!==0),T&&(m=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if(qt){if(m?js(a):Bs(),qt){var w=me,N;if(N=w){t:{for(N=w,w=yi;N.nodeType!==8;){if(!w){w=null;break t}if(N=ti(N.nextSibling),N===null){w=null;break t}}w=N}w!==null?(a.memoizedState={dehydrated:w,treeContext:Qr!==null?{id:Qi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},N=wn(18,null,null,0),N.stateNode=w,N.return=a,a.child=N,fn=a,me=null,N=!0):N=!1}N||ta(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return gm(w)?a.lanes=32:a.lanes=536870912,null;ns(a)}return w=c.children,c=c.fallback,m?(Bs(),m=a.mode,w=mh({mode:"hidden",children:w},m),c=Xr(c,m,l,null),w.return=a,c.return=a,w.sibling=c,a.child=w,m=a.child,m.memoizedState=Dg(l),m.childLanes=Og(s,T,l),a.memoizedState=Ig,c):(js(a),Mg(a,w))}if(N=s.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(p)a.flags&256?(js(a),a.flags&=-257,a=kg(s,a,l)):a.memoizedState!==null?(Bs(),a.child=s.child,a.flags|=128,a=null):(Bs(),m=c.fallback,w=a.mode,c=mh({mode:"visible",children:c.children},w),m=Xr(m,w,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,co(a,s.child,null,l),c=a.child,c.memoizedState=Dg(l),c.childLanes=Og(s,T,l),a.memoizedState=Ig,a=m);else if(js(a),gm(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var q=T.dgst;T=q,c=Error(i(419)),c.stack="",c.digest=T,Il({value:c,source:null,stack:null}),a=kg(s,a,l)}else if(je||Dl(s,a,l,!1),T=(l&s.childLanes)!==0,je||T){if(T=se,T!==null&&(c=l&-l,c=(c&42)!==0?1:Cs(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==N.retryLane))throw N.retryLane=c,Ja(s,c),In(T,s,c),bv;w.data==="$?"||Qg(),a=kg(s,a,l)}else w.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=N.treeContext,me=ti(w.nextSibling),fn=a,qt=!0,Jr=null,yi=!1,s!==null&&(zn[jn++]=Qi,zn[jn++]=Zi,zn[jn++]=Qr,Qi=s.id,Zi=s.overflow,Qr=a),a=Mg(a,c.children),a.flags|=4096);return a}return m?(Bs(),m=c.fallback,w=a.mode,N=s.child,q=N.sibling,c=Xi(N,{mode:"hidden",children:c.children}),c.subtreeFlags=N.subtreeFlags&65011712,q!==null?m=Xi(q,m):(m=Xr(m,w,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,w=s.child.memoizedState,w===null?w=Dg(l):(N=w.cachePool,N!==null?(q=Me._currentValue,N=N.parent!==q?{parent:q,pool:q}:N):N=m_(),w={baseLanes:w.baseLanes|l,cachePool:N}),m.memoizedState=w,m.childLanes=Og(s,T,l),a.memoizedState=Ig,c):(js(a),l=s.child,s=l.sibling,l=Xi(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=l,a.memoizedState=null,l)}function Mg(s,a){return a=mh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function mh(s,a){return s=wn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function kg(s,a,l){return co(a,s.child,null,l),s=Mg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Dv(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),Qd(s.return,a,l)}function Ng(s,a,l,c,m){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=m)}function Ov(s,a,l){var c=a.pendingProps,m=c.revealOrder,p=c.tail;if(Ke(s,a,c.children,l),c=ke.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Dv(s,l,a);else if(s.tag===19)Dv(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(ot(ke,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&hh(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Ng(a,!1,m,l,p);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&hh(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Ng(a,!0,l,null,p);break;case"together":Ng(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function is(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Ys|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Dl(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Xi(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Xi(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Pg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&$c(s)))}function B1(s,a,l){switch(a.tag){case 3:ie(a,a.stateNode.containerInfo),Ps(a,Me,s.memoizedState.cache),Cl();break;case 27:case 5:Rs(a);break;case 4:ie(a,a.stateNode.containerInfo);break;case 10:Ps(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(js(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Iv(s,a,l):(js(a),s=is(s,a,l),s!==null?s.sibling:null);js(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Dl(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return Ov(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ot(ke,ke.current),c)break;return null;case 22:case 23:return a.lanes=0,wv(s,a,l);case 24:Ps(a,Me,s.memoizedState.cache)}return is(s,a,l)}function Mv(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)je=!0;else{if(!Pg(s,l)&&(a.flags&128)===0)return je=!1,B1(s,a,l);je=(s.flags&131072)!==0}else je=!1,qt&&(a.flags&1048576)!==0&&l_(a,Wc,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")qd(c)?(s=ra(c,s),a.tag=1,a=Rv(null,a,c,s,l)):(a.tag=0,a=Cg(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===et){a.tag=11,a=Ev(null,a,c,s,l);break t}else if(m===P){a.tag=14,a=Tv(null,a,c,s,l);break t}}throw a=Ft(c)||c,Error(i(306,a,""))}}return a;case 0:return Cg(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=ra(c,a.pendingProps),Rv(s,a,c,m,l);case 3:t:{if(ie(a,a.stateNode.containerInfo),s===null)throw Error(i(387));c=a.pendingProps;var p=a.memoizedState;m=p.element,sg(s,a),Ll(a,c,null,l);var T=a.memoizedState;if(c=T.cache,Ps(a,Me,c),c!==p.cache&&Zd(a,[Me],l,!0),Vl(),c=T.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Cv(s,a,c,l);break t}else if(c!==m){m=Ln(Error(i(424)),a),Il(m),a=Cv(s,a,c,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(me=ti(s.firstChild),fn=a,qt=!0,Jr=null,yi=!0,l=cv(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Cl(),c===m){a=is(s,a,l);break t}Ke(s,a,c,l)}a=a.child}return a;case 26:return gh(s,a),s===null?(l=V0(a.type,null,a.pendingProps,null))?a.memoizedState=l:qt||(l=a.type,s=a.pendingProps,c=Ih(yt.current).createElement(l),c[Ie]=a,c[Te]=s,$e(c,l,s),ye(c),a.stateNode=c):a.memoizedState=V0(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Rs(a),s===null&&qt&&(c=a.stateNode=k0(a.type,a.pendingProps,yt.current),fn=a,yi=!0,m=me,Xs(a.type)?(mm=m,me=ti(c.firstChild)):me=m),Ke(s,a,a.pendingProps.children,l),gh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&qt&&((m=c=me)&&(c=mx(c,a.type,a.pendingProps,yi),c!==null?(a.stateNode=c,fn=a,me=ti(c.firstChild),yi=!1,m=!0):m=!1),m||ta(a)),Rs(a),m=a.type,p=a.pendingProps,T=s!==null?s.memoizedProps:null,c=p.children,hm(m,p)?c=null:T!==null&&hm(m,T)&&(a.flags|=32),a.memoizedState!==null&&(m=cg(s,a,k1,null,null,l),ru._currentValue=m),gh(s,a),Ke(s,a,c,l),a.child;case 6:return s===null&&qt&&((s=l=me)&&(l=px(l,a.pendingProps,yi),l!==null?(a.stateNode=l,fn=a,me=null,s=!0):s=!1),s||ta(a)),null;case 13:return Iv(s,a,l);case 4:return ie(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=co(a,null,c,l):Ke(s,a,c,l),a.child;case 11:return Ev(s,a,a.type,a.pendingProps,l);case 7:return Ke(s,a,a.pendingProps,l),a.child;case 8:return Ke(s,a,a.pendingProps.children,l),a.child;case 12:return Ke(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Ps(a,a.type,c.value),Ke(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,na(a),m=en(m),c=c(m),a.flags|=1,Ke(s,a,c,l),a.child;case 14:return Tv(s,a,a.type,a.pendingProps,l);case 15:return Sv(s,a,a.type,a.pendingProps,l);case 19:return Ov(s,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},s===null?(l=mh(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Xi(s.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return wv(s,a,l);case 24:return na(a),c=en(Me),s===null?(m=eg(),m===null&&(m=se,p=Jd(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),a.memoizedState={parent:c,cache:m},ig(a),Ps(a,Me,m)):((s.lanes&l)!==0&&(sg(s,a),Ll(a,null,null,l),Vl()),m=s.memoizedState,p=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ps(a,Me,c)):(c=p.cache,Ps(a,Me,c),c!==m.cache&&Zd(a,[Me],l,!0))),Ke(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ss(s){s.flags|=4}function kv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!B0(a)){if(a=Bn.current,a!==null&&((zt&4194048)===zt?_i!==null:(zt&62914560)!==zt&&(zt&536870912)===0||a!==_i))throw Nl=ng,p_;s.flags|=8192}}function ph(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ol():536870912,s.lanes|=a,mo|=a)}function ql(s,a){if(!qt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ce(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function H1(s,a,l){var c=a.pendingProps;switch(Wd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(a),null;case 1:return ce(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ts(Me),ri(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Rl(a)?ss(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,h_())),ce(a),null;case 26:return l=a.memoizedState,s===null?(ss(a),l!==null?(ce(a),kv(a,l)):(ce(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ss(a),ce(a),kv(a,l)):(ce(a),a.flags&=-16777217):(s.memoizedProps!==c&&ss(a),ce(a),a.flags&=-16777217),null;case 27:Li(a),l=yt.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&ss(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return ce(a),null}s=gt.current,Rl(a)?u_(a):(s=k0(m,c,l),a.stateNode=s,ss(a))}return ce(a),null;case 5:if(Li(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&ss(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return ce(a),null}if(s=gt.current,Rl(a))u_(a);else{switch(m=Ih(yt.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[Ie]=a,s[Te]=c;t:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break t;for(;m.sibling===null;){if(m.return===null||m.return===a)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;t:switch($e(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&ss(a)}}return ce(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&ss(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(s=yt.current,Rl(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=fn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Ie]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||x0(s.nodeValue,l)),s||ta(a)}else s=Ih(s).createTextNode(c),s[Ie]=a,a.stateNode=s}return ce(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Rl(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ie]=a}else Cl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ce(a),m=!1}else m=h_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(ns(a),a):(ns(a),null)}if(ns(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),ph(a,a.updateQueue),ce(a),null;case 4:return ri(),s===null&&am(a.stateNode.containerInfo),ce(a),null;case 10:return ts(a.type),ce(a),null;case 19:if(ct(ke),m=a.memoizedState,m===null)return ce(a),null;if(c=(a.flags&128)!==0,p=m.rendering,p===null)if(c)ql(m,!1);else{if(pe!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=hh(s),p!==null){for(a.flags|=128,ql(m,!1),s=p.updateQueue,a.updateQueue=s,ph(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)o_(l,s),l=l.sibling;return ot(ke,ke.current&1|2),a.child}s=s.sibling}m.tail!==null&&On()>vh&&(a.flags|=128,c=!0,ql(m,!1),a.lanes=4194304)}else{if(!c)if(s=hh(p),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,ph(a,s),ql(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!qt)return ce(a),null}else 2*On()-m.renderingStartTime>vh&&l!==536870912&&(a.flags|=128,c=!0,ql(m,!1),a.lanes=4194304);m.isBackwards?(p.sibling=a.child,a.child=p):(s=m.last,s!==null?s.sibling=p:a.child=p,m.last=p)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=On(),a.sibling=null,s=ke.current,ot(ke,c?s&1|2:s&1),a):(ce(a),null);case 22:case 23:return ns(a),lg(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(ce(a),a.subtreeFlags&6&&(a.flags|=8192)):ce(a),l=a.updateQueue,l!==null&&ph(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ct(ia),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ts(Me),ce(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function F1(s,a){switch(Wd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ts(Me),ri(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Li(a),null;case 13:if(ns(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Cl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ct(ke),null;case 4:return ri(),null;case 10:return ts(a.type),null;case 22:case 23:return ns(a),lg(),s!==null&&ct(ia),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ts(Me),null;case 25:return null;default:return null}}function Nv(s,a){switch(Wd(a),a.tag){case 3:ts(Me),ri();break;case 26:case 27:case 5:Li(a);break;case 4:ri();break;case 13:ns(a);break;case 19:ct(ke);break;case 10:ts(a.type);break;case 22:case 23:ns(a),lg(),s!==null&&ct(ia);break;case 24:ts(Me)}}function Gl(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var p=l.create,T=l.inst;c=p(),T.destroy=c}l=l.next}while(l!==m)}}catch(w){ne(a,a.return,w)}}function Hs(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var p=m.next;c=p;do{if((c.tag&s)===s){var T=c.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,m=a;var N=l,q=w;try{q()}catch(Z){ne(m,N,Z)}}}c=c.next}while(c!==p)}}catch(Z){ne(a,a.return,Z)}}function Pv(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{T_(a,l)}catch(c){ne(s,s.return,c)}}}function Vv(s,a,l){l.props=ra(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){ne(s,a,c)}}function Yl(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){ne(s,a,m)}}function vi(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){ne(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ne(s,a,m)}else l.current=null}function Lv(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){ne(s,s.return,m)}}function Vg(s,a,l){try{var c=s.stateNode;cx(c,s.type,l,a),c[Te]=a}catch(m){ne(s,s.return,m)}}function Uv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Xs(s.type)||s.tag===4}function Lg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Uv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Xs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ug(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Ch));else if(c!==4&&(c===27&&Xs(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Ug(s,a,l),s=s.sibling;s!==null;)Ug(s,a,l),s=s.sibling}function yh(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&(c===27&&Xs(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(yh(s,a,l),s=s.sibling;s!==null;)yh(s,a,l),s=s.sibling}function zv(s){var a=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);$e(a,c,l),a[Ie]=s,a[Te]=l}catch(p){ne(s,s.return,p)}}var rs=!1,ve=!1,zg=!1,jv=typeof WeakSet=="function"?WeakSet:Set,Be=null;function q1(s,a){if(s=s.containerInfo,um=Ph,s=Qy(s),Ld(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var T=0,w=-1,N=-1,q=0,Z=0,nt=s,Y=null;e:for(;;){for(var $;nt!==l||m!==0&&nt.nodeType!==3||(w=T+m),nt!==p||c!==0&&nt.nodeType!==3||(N=T+c),nt.nodeType===3&&(T+=nt.nodeValue.length),($=nt.firstChild)!==null;)Y=nt,nt=$;for(;;){if(nt===s)break e;if(Y===l&&++q===m&&(w=T),Y===p&&++Z===c&&(N=T),($=nt.nextSibling)!==null)break;nt=Y,Y=nt.parentNode}nt=$}l=w===-1||N===-1?null:{start:w,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(cm={focusedElem:s,selectionRange:l},Ph=!1,Be=a;Be!==null;)if(a=Be,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Be=s;else for(;Be!==null;){switch(a=Be,p=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,m=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var At=ra(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(At,p),c.__reactInternalSnapshotBeforeUpdate=s}catch(bt){ne(l,l.return,bt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)dm(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":dm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Be=s;break}Be=a.return}}function Bv(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Fs(s,l),c&4&&Gl(5,l);break;case 1:if(Fs(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(T){ne(l,l.return,T)}else{var m=ra(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(T){ne(l,l.return,T)}}c&64&&Pv(l),c&512&&Yl(l,l.return);break;case 3:if(Fs(s,l),c&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{T_(s,a)}catch(T){ne(l,l.return,T)}}break;case 27:a===null&&c&4&&zv(l);case 26:case 5:Fs(s,l),a===null&&c&4&&Lv(l),c&512&&Yl(l,l.return);break;case 12:Fs(s,l);break;case 13:Fs(s,l),c&4&&qv(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=J1.bind(null,l),yx(s,l))));break;case 22:if(c=l.memoizedState!==null||rs,!c){a=a!==null&&a.memoizedState!==null||ve,m=rs;var p=ve;rs=c,(ve=a)&&!p?qs(s,l,(l.subtreeFlags&8772)!==0):Fs(s,l),rs=m,ve=p}break;case 30:break;default:Fs(s,l)}}function Hv(s){var a=s.alternate;a!==null&&(s.alternate=null,Hv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Os(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ue=null,gn=!1;function as(s,a,l){for(l=l.child;l!==null;)Fv(s,a,l),l=l.sibling}function Fv(s,a,l){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ge,l)}catch{}switch(l.tag){case 26:ve||vi(l,a),as(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ve||vi(l,a);var c=ue,m=gn;Xs(l.type)&&(ue=l.stateNode,gn=!1),as(s,a,l),eu(l.stateNode),ue=c,gn=m;break;case 5:ve||vi(l,a);case 6:if(c=ue,m=gn,ue=null,as(s,a,l),ue=c,gn=m,ue!==null)if(gn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(l.stateNode)}catch(p){ne(l,a,p)}else try{ue.removeChild(l.stateNode)}catch(p){ne(l,a,p)}break;case 18:ue!==null&&(gn?(s=ue,O0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),uu(s)):O0(ue,l.stateNode));break;case 4:c=ue,m=gn,ue=l.stateNode.containerInfo,gn=!0,as(s,a,l),ue=c,gn=m;break;case 0:case 11:case 14:case 15:ve||Hs(2,l,a),ve||Hs(4,l,a),as(s,a,l);break;case 1:ve||(vi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Vv(l,a,c)),as(s,a,l);break;case 21:as(s,a,l);break;case 22:ve=(c=ve)||l.memoizedState!==null,as(s,a,l),ve=c;break;default:as(s,a,l)}}function qv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{uu(s)}catch(l){ne(a,a.return,l)}}function G1(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new jv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new jv),a;default:throw Error(i(435,s.tag))}}function jg(s,a){var l=G1(s);a.forEach(function(c){var m=tx.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function An(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],p=s,T=a,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(Xs(w.type)){ue=w.stateNode,gn=!1;break t}break;case 5:ue=w.stateNode,gn=!1;break t;case 3:case 4:ue=w.stateNode.containerInfo,gn=!0;break t}w=w.return}if(ue===null)throw Error(i(160));Fv(p,T,m),ue=null,gn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Gv(a,s),a=a.sibling}var Jn=null;function Gv(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:An(a,s),xn(s),c&4&&(Hs(3,s,s.return),Gl(3,s),Hs(5,s,s.return));break;case 1:An(a,s),xn(s),c&512&&(ve||l===null||vi(l,l.return)),c&64&&rs&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Jn;if(An(a,s),xn(s),c&512&&(ve||l===null||vi(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){t:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Nr]||p[Ie]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(c),m.head.insertBefore(p,m.querySelector("head > title"))),$e(p,c,l),p[Ie]=s,ye(p),c=p;break t;case"link":var T=z0("link","href",m).get(c+(l.href||""));if(T){for(var w=0;w<T.length;w++)if(p=T[w],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(w,1);break e}}p=m.createElement(c),$e(p,c,l),m.head.appendChild(p);break;case"meta":if(T=z0("meta","content",m).get(c+(l.content||""))){for(w=0;w<T.length;w++)if(p=T[w],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(w,1);break e}}p=m.createElement(c),$e(p,c,l),m.head.appendChild(p);break;default:throw Error(i(468,c))}p[Ie]=s,ye(p),c=p}s.stateNode=c}else j0(m,s.type,s.stateNode);else s.stateNode=U0(m,c,s.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?j0(m,s.type,s.stateNode):U0(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Vg(s,s.memoizedProps,l.memoizedProps)}break;case 27:An(a,s),xn(s),c&512&&(ve||l===null||vi(l,l.return)),l!==null&&c&4&&Vg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(An(a,s),xn(s),c&512&&(ve||l===null||vi(l,l.return)),s.flags&32){m=s.stateNode;try{kn(m,"")}catch($){ne(s,s.return,$)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,Vg(s,m,l!==null?l.memoizedProps:m)),c&1024&&(zg=!0);break;case 6:if(An(a,s),xn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch($){ne(s,s.return,$)}}break;case 3:if(Mh=null,m=Jn,Jn=Dh(a.containerInfo),An(a,s),Jn=m,xn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{uu(a.containerInfo)}catch($){ne(s,s.return,$)}zg&&(zg=!1,Yv(s));break;case 4:c=Jn,Jn=Dh(s.stateNode.containerInfo),An(a,s),xn(s),Jn=c;break;case 12:An(a,s),xn(s);break;case 13:An(a,s),xn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yg=On()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,jg(s,c)));break;case 22:m=s.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,q=rs,Z=ve;if(rs=q||m,ve=Z||N,An(a,s),ve=Z,rs=q,xn(s),c&8192)t:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||N||rs||ve||aa(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){N=l=a;try{if(p=N.stateNode,m)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=N.stateNode;var nt=N.memoizedProps.style,Y=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch($){ne(N,N.return,$)}}}else if(a.tag===6){if(l===null){N=a;try{N.stateNode.nodeValue=m?"":N.memoizedProps}catch($){ne(N,N.return,$)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,jg(s,l))));break;case 19:An(a,s),xn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,jg(s,c)));break;case 30:break;case 21:break;default:An(a,s),xn(s)}}function xn(s){var a=s.flags;if(a&2){try{for(var l,c=s.return;c!==null;){if(Uv(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=Lg(s);yh(s,p,m);break;case 5:var T=l.stateNode;l.flags&32&&(kn(T,""),l.flags&=-33);var w=Lg(s);yh(s,w,T);break;case 3:case 4:var N=l.stateNode.containerInfo,q=Lg(s);Ug(s,q,N);break;default:throw Error(i(161))}}catch(Z){ne(s,s.return,Z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Yv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Yv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Fs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Bv(s,a.alternate,a),a=a.sibling}function aa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Hs(4,a,a.return),aa(a);break;case 1:vi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Vv(a,a.return,l),aa(a);break;case 27:eu(a.stateNode);case 26:case 5:vi(a,a.return),aa(a);break;case 22:a.memoizedState===null&&aa(a);break;case 30:aa(a);break;default:aa(a)}s=s.sibling}}function qs(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,p=a,T=p.flags;switch(p.tag){case 0:case 11:case 15:qs(m,p,l),Gl(4,p);break;case 1:if(qs(m,p,l),c=p,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){ne(c,c.return,q)}if(c=p,m=c.updateQueue,m!==null){var w=c.stateNode;try{var N=m.shared.hiddenCallbacks;if(N!==null)for(m.shared.hiddenCallbacks=null,m=0;m<N.length;m++)E_(N[m],w)}catch(q){ne(c,c.return,q)}}l&&T&64&&Pv(p),Yl(p,p.return);break;case 27:zv(p);case 26:case 5:qs(m,p,l),l&&c===null&&T&4&&Lv(p),Yl(p,p.return);break;case 12:qs(m,p,l);break;case 13:qs(m,p,l),l&&T&4&&qv(m,p);break;case 22:p.memoizedState===null&&qs(m,p,l),Yl(p,p.return);break;case 30:break;default:qs(m,p,l)}a=a.sibling}}function Bg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ol(l))}function Hg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ol(s))}function bi(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Kv(s,a,l,c),a=a.sibling}function Kv(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:bi(s,a,l,c),m&2048&&Gl(9,a);break;case 1:bi(s,a,l,c);break;case 3:bi(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ol(s)));break;case 12:if(m&2048){bi(s,a,l,c),s=a.stateNode;try{var p=a.memoizedProps,T=p.id,w=p.onPostCommit;typeof w=="function"&&w(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(N){ne(a,a.return,N)}}else bi(s,a,l,c);break;case 13:bi(s,a,l,c);break;case 23:break;case 22:p=a.stateNode,T=a.alternate,a.memoizedState!==null?p._visibility&2?bi(s,a,l,c):Kl(s,a):p._visibility&2?bi(s,a,l,c):(p._visibility|=2,ho(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&Bg(T,a);break;case 24:bi(s,a,l,c),m&2048&&Hg(a.alternate,a);break;default:bi(s,a,l,c)}}function ho(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=s,T=a,w=l,N=c,q=T.flags;switch(T.tag){case 0:case 11:case 15:ho(p,T,w,N,m),Gl(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?ho(p,T,w,N,m):Kl(p,T):(Z._visibility|=2,ho(p,T,w,N,m)),m&&q&2048&&Bg(T.alternate,T);break;case 24:ho(p,T,w,N,m),m&&q&2048&&Hg(T.alternate,T);break;default:ho(p,T,w,N,m)}a=a.sibling}}function Kl(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Kl(l,c),m&2048&&Bg(c.alternate,c);break;case 24:Kl(l,c),m&2048&&Hg(c.alternate,c);break;default:Kl(l,c)}a=a.sibling}}var Wl=8192;function fo(s){if(s.subtreeFlags&Wl)for(s=s.child;s!==null;)Wv(s),s=s.sibling}function Wv(s){switch(s.tag){case 26:fo(s),s.flags&Wl&&s.memoizedState!==null&&Dx(Jn,s.memoizedState,s.memoizedProps);break;case 5:fo(s);break;case 3:case 4:var a=Jn;Jn=Dh(s.stateNode.containerInfo),fo(s),Jn=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Wl,Wl=16777216,fo(s),Wl=a):fo(s));break;default:fo(s)}}function $v(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function $l(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Be=c,Qv(c,s)}$v(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Xv(s),s=s.sibling}function Xv(s){switch(s.tag){case 0:case 11:case 15:$l(s),s.flags&2048&&Hs(9,s,s.return);break;case 3:$l(s);break;case 12:$l(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,_h(s)):$l(s);break;default:$l(s)}}function _h(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Be=c,Qv(c,s)}$v(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Hs(8,a,a.return),_h(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,_h(a));break;default:_h(a)}s=s.sibling}}function Qv(s,a){for(;Be!==null;){var l=Be;switch(l.tag){case 0:case 11:case 15:Hs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ol(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Be=c;else t:for(l=s;Be!==null;){c=Be;var m=c.sibling,p=c.return;if(Hv(c),c===l){Be=null;break t}if(m!==null){m.return=p,Be=m;break t}Be=p}}}var Y1={getCacheForType:function(s){var a=en(Me),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},K1=typeof WeakMap=="function"?WeakMap:Map,Wt=0,se=null,kt=null,zt=0,$t=0,Rn=null,Gs=!1,go=!1,Fg=!1,os=0,pe=0,Ys=0,oa=0,qg=0,Hn=0,mo=0,Xl=null,mn=null,Gg=!1,Yg=0,vh=1/0,bh=null,Ks=null,We=0,Ws=null,po=null,yo=0,Kg=0,Wg=null,Zv=null,Ql=0,$g=null;function Cn(){if((Wt&2)!==0&&zt!==0)return zt&-zt;if(X.T!==null){var s=io;return s!==0?s:nm()}return Is()}function Jv(){Hn===0&&(Hn=(zt&536870912)===0||qt?al():536870912);var s=Bn.current;return s!==null&&(s.flags|=32),Hn}function In(s,a,l){(s===se&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(_o(s,0),$s(s,zt,Hn,!1)),zi(s,l),((Wt&2)===0||s!==se)&&(s===se&&((Wt&2)===0&&(oa|=l),pe===4&&$s(s,zt,Hn,!1)),Ei(s))}function t0(s,a,l){if((Wt&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&s.expiredLanes)===0||kr(s,a),m=c?X1(s,a):Zg(s,a,!0),p=c;do{if(m===0){go&&!c&&$s(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!W1(l)){m=Zg(s,a,!1),p=!1;continue}if(m===2){if(p=a,s.errorRecoveryDisabledLanes&p)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var w=s;m=Xl;var N=w.current.memoizedState.isDehydrated;if(N&&(_o(w,T).flags|=256),T=Zg(w,T,!1),T!==2){if(Fg&&!N){w.errorRecoveryDisabledLanes|=p,oa|=p,m=4;break t}p=mn,mn=m,p!==null&&(mn===null?mn=p:mn.push.apply(mn,p))}m=T}if(p=!1,m!==2)continue}}if(m===1){_o(s,0),$s(s,a,0,!0);break}t:{switch(c=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:$s(c,a,Hn,!Gs);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Yg+300-On(),10<m)){if($s(c,a,Hn,!Gs),Na(c,0,!0)!==0)break t;c.timeoutHandle=I0(e0.bind(null,c,l,mn,bh,Gg,a,Hn,oa,mo,Gs,p,2,-0,0),m);break t}e0(c,l,mn,bh,Gg,a,Hn,oa,mo,Gs,p,0,-0,0)}}break}while(!0);Ei(s)}function e0(s,a,l,c,m,p,T,w,N,q,Z,nt,Y,$){if(s.timeoutHandle=-1,nt=a.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(su={stylesheets:null,count:0,unsuspend:Ix},Wv(a),nt=Ox(),nt!==null)){s.cancelPendingCommit=nt(l0.bind(null,s,a,p,l,c,m,T,w,N,Z,1,Y,$)),$s(s,p,T,!q);return}l0(s,a,p,l,c,m,T,w,N)}function W1(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],p=m.getSnapshot;m=m.value;try{if(!Sn(p(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $s(s,a,l,c){a&=~qg,a&=~oa,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var p=31-tn(m),T=1<<p;c[p]=-1,m&=~T}l!==0&&ai(s,l,a)}function Eh(){return(Wt&6)===0?(Zl(0),!1):!0}function Xg(){if(kt!==null){if($t===0)var s=kt.return;else s=kt,Ji=ea=null,dg(s),uo=null,Hl=0,s=kt;for(;s!==null;)Nv(s.alternate,s),s=s.return;kt=null}}function _o(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,fx(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Xg(),se=s,kt=l=Xi(s.current,null),zt=a,$t=0,Rn=null,Gs=!1,go=kr(s,a),Fg=!1,mo=Hn=qg=oa=Ys=pe=0,mn=Xl=null,Gg=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-tn(c),p=1<<m;a|=s[m],c&=~p}return os=a,Fc(),l}function n0(s,a){Dt=null,X.H=lh,a===kl||a===Zc?(a=v_(),$t=3):a===p_?(a=v_(),$t=4):$t=a===bv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Rn=a,kt===null&&(pe=1,dh(s,Ln(a,s.current)))}function i0(){var s=X.H;return X.H=lh,s===null?lh:s}function s0(){var s=X.A;return X.A=Y1,s}function Qg(){pe=4,Gs||(zt&4194048)!==zt&&Bn.current!==null||(go=!0),(Ys&134217727)===0&&(oa&134217727)===0||se===null||$s(se,zt,Hn,!1)}function Zg(s,a,l){var c=Wt;Wt|=2;var m=i0(),p=s0();(se!==s||zt!==a)&&(bh=null,_o(s,a)),a=!1;var T=pe;t:do try{if($t!==0&&kt!==null){var w=kt,N=Rn;switch($t){case 8:Xg(),T=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(a=!0);var q=$t;if($t=0,Rn=null,vo(s,w,N,q),l&&go){T=0;break t}break;default:q=$t,$t=0,Rn=null,vo(s,w,N,q)}}$1(),T=pe;break}catch(Z){n0(s,Z)}while(!0);return a&&s.shellSuspendCounter++,Ji=ea=null,Wt=c,X.H=m,X.A=p,kt===null&&(se=null,zt=0,Fc()),T}function $1(){for(;kt!==null;)r0(kt)}function X1(s,a){var l=Wt;Wt|=2;var c=i0(),m=s0();se!==s||zt!==a?(bh=null,vh=On()+500,_o(s,a)):go=kr(s,a);t:do try{if($t!==0&&kt!==null){a=kt;var p=Rn;e:switch($t){case 1:$t=0,Rn=null,vo(s,a,p,1);break;case 2:case 9:if(y_(p)){$t=0,Rn=null,a0(a);break}a=function(){$t!==2&&$t!==9||se!==s||($t=7),Ei(s)},p.then(a,a);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:y_(p)?($t=0,Rn=null,a0(a)):($t=0,Rn=null,vo(s,a,p,7));break;case 5:var T=null;switch(kt.tag){case 26:T=kt.memoizedState;case 5:case 27:var w=kt;if(!T||B0(T)){$t=0,Rn=null;var N=w.sibling;if(N!==null)kt=N;else{var q=w.return;q!==null?(kt=q,Th(q)):kt=null}break e}}$t=0,Rn=null,vo(s,a,p,5);break;case 6:$t=0,Rn=null,vo(s,a,p,6);break;case 8:Xg(),pe=6;break t;default:throw Error(i(462))}}Q1();break}catch(Z){n0(s,Z)}while(!0);return Ji=ea=null,X.H=c,X.A=m,Wt=l,kt!==null?0:(se=null,zt=0,Fc(),pe)}function Q1(){for(;kt!==null&&!nl();)r0(kt)}function r0(s){var a=Mv(s.alternate,s,os);s.memoizedProps=s.pendingProps,a===null?Th(s):kt=a}function a0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=xv(l,a,a.pendingProps,a.type,void 0,zt);break;case 11:a=xv(l,a,a.pendingProps,a.type.render,a.ref,zt);break;case 5:dg(a);default:Nv(l,a),a=kt=o_(a,os),a=Mv(l,a,os)}s.memoizedProps=s.pendingProps,a===null?Th(s):kt=a}function vo(s,a,l,c){Ji=ea=null,dg(a),uo=null,Hl=0;var m=a.return;try{if(j1(s,m,a,l,zt)){pe=1,dh(s,Ln(l,s.current)),kt=null;return}}catch(p){if(m!==null)throw kt=m,p;pe=1,dh(s,Ln(l,s.current)),kt=null;return}a.flags&32768?(qt||c===1?s=!0:go||(zt&536870912)!==0?s=!1:(Gs=s=!0,(c===2||c===9||c===3||c===6)&&(c=Bn.current,c!==null&&c.tag===13&&(c.flags|=16384))),o0(a,s)):Th(a)}function Th(s){var a=s;do{if((a.flags&32768)!==0){o0(a,Gs);return}s=a.return;var l=H1(a.alternate,a,os);if(l!==null){kt=l;return}if(a=a.sibling,a!==null){kt=a;return}kt=a=s}while(a!==null);pe===0&&(pe=5)}function o0(s,a){do{var l=F1(s.alternate,s);if(l!==null){l.flags&=32767,kt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){kt=s;return}kt=s=l}while(s!==null);pe=6,kt=null}function l0(s,a,l,c,m,p,T,w,N){s.cancelPendingCommit=null;do Sh();while(We!==0);if((Wt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Hd,ll(s,l,p,T,w,N),s===se&&(kt=se=null,zt=0),po=a,Ws=s,yo=l,Kg=p,Wg=m,Zv=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ex(Ir,function(){return d0(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,m=at.p,at.p=2,T=Wt,Wt|=4;try{q1(s,a,l)}finally{Wt=T,at.p=m,X.T=c}}We=1,u0(),c0(),h0()}}function u0(){if(We===1){We=0;var s=Ws,a=po,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var c=at.p;at.p=2;var m=Wt;Wt|=4;try{Gv(a,s);var p=cm,T=Qy(s.containerInfo),w=p.focusedElem,N=p.selectionRange;if(T!==w&&w&&w.ownerDocument&&Xy(w.ownerDocument.documentElement,w)){if(N!==null&&Ld(w)){var q=N.start,Z=N.end;if(Z===void 0&&(Z=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(Z,w.value.length);else{var nt=w.ownerDocument||document,Y=nt&&nt.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),At=w.textContent.length,bt=Math.min(N.start,At),ee=N.end===void 0?bt:Math.min(N.end,At);!$.extend&&bt>ee&&(T=ee,ee=bt,bt=T);var j=$y(w,bt),z=$y(w,ee);if(j&&z&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==z.node||$.focusOffset!==z.offset)){var H=nt.createRange();H.setStart(j.node,j.offset),$.removeAllRanges(),bt>ee?($.addRange(H),$.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),$.addRange(H))}}}}for(nt=[],$=w;$=$.parentNode;)$.nodeType===1&&nt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<nt.length;w++){var J=nt[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ph=!!um,cm=um=null}finally{Wt=m,at.p=c,X.T=l}}s.current=a,We=2}}function c0(){if(We===2){We=0;var s=Ws,a=po,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var c=at.p;at.p=2;var m=Wt;Wt|=4;try{Bv(s,a.alternate,a)}finally{Wt=m,at.p=c,X.T=l}}We=3}}function h0(){if(We===4||We===3){We=0,_c();var s=Ws,a=po,l=yo,c=Zv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?We=5:(We=0,po=Ws=null,f0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Ks=null),Pa(l),a=a.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ge,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=X.T,m=at.p,at.p=2,X.T=null;try{for(var p=s.onRecoverableError,T=0;T<c.length;T++){var w=c[T];p(w.value,{componentStack:w.stack})}}finally{X.T=a,at.p=m}}(yo&3)!==0&&Sh(),Ei(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===$g?Ql++:(Ql=0,$g=s):Ql=0,Zl(0)}}function f0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ol(a)))}function Sh(s){return u0(),c0(),h0(),d0()}function d0(){if(We!==5)return!1;var s=Ws,a=Kg;Kg=0;var l=Pa(yo),c=X.T,m=at.p;try{at.p=32>l?32:l,X.T=null,l=Wg,Wg=null;var p=Ws,T=yo;if(We=0,po=Ws=null,yo=0,(Wt&6)!==0)throw Error(i(331));var w=Wt;if(Wt|=4,Xv(p.current),Kv(p,p.current,T,l),Wt=w,Zl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ge,p)}catch{}return!0}finally{at.p=m,X.T=c,f0(s,a)}}function g0(s,a,l){a=Ln(l,a),a=Rg(s.stateNode,a,2),s=Us(s,a,2),s!==null&&(zi(s,2),Ei(s))}function ne(s,a,l){if(s.tag===3)g0(s,s,l);else for(;a!==null;){if(a.tag===3){g0(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ks===null||!Ks.has(c))){s=Ln(l,s),l=_v(2),c=Us(a,l,2),c!==null&&(vv(l,c,a,s),zi(c,2),Ei(c));break}}a=a.return}}function Jg(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new K1;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(Fg=!0,m.add(l),s=Z1.bind(null,s,a,l),a.then(s,s))}function Z1(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,se===s&&(zt&l)===l&&(pe===4||pe===3&&(zt&62914560)===zt&&300>On()-Yg?(Wt&2)===0&&_o(s,0):qg|=l,mo===zt&&(mo=0)),Ei(s)}function m0(s,a){a===0&&(a=ol()),s=Ja(s,a),s!==null&&(zi(s,a),Ei(s))}function J1(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),m0(s,l)}function tx(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),m0(s,l)}function ex(s,a){return Rr(s,a)}var wh=null,bo=null,tm=!1,Ah=!1,em=!1,la=0;function Ei(s){s!==bo&&s.next===null&&(bo===null?wh=bo=s:bo=bo.next=s),Ah=!0,tm||(tm=!0,ix())}function Zl(s,a){if(!em&&Ah){em=!0;do for(var l=!1,c=wh;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var p=0;else{var T=c.suspendedLanes,w=c.pingedLanes;p=(1<<31-tn(42|s)+1)-1,p&=m&~(T&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,v0(c,p))}else p=zt,p=Na(c,c===se?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||kr(c,p)||(l=!0,v0(c,p));c=c.next}while(l);em=!1}}function nx(){p0()}function p0(){Ah=tm=!1;var s=0;la!==0&&(hx()&&(s=la),la=0);for(var a=On(),l=null,c=wh;c!==null;){var m=c.next,p=y0(c,a);p===0?(c.next=null,l===null?wh=m:l.next=m,m===null&&(bo=l)):(l=c,(s!==0||(p&3)!==0)&&(Ah=!0)),c=m}Zl(s)}function y0(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var T=31-tn(p),w=1<<T,N=m[T];N===-1?((w&l)===0||(w&c)!==0)&&(m[T]=rl(w,a)):N<=a&&(s.expiredLanes|=w),p&=~w}if(a=se,l=zt,l=Na(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===a&&($t===2||$t===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Cr(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||kr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Cr(c),Pa(l)){case 2:case 8:l=Ma;break;case 32:l=Ir;break;case 268435456:l=ka;break;default:l=Ir}return c=_0.bind(null,s),l=Rr(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Cr(c),s.callbackPriority=2,s.callbackNode=null,2}function _0(s,a){if(We!==0&&We!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Sh()&&s.callbackNode!==l)return null;var c=zt;return c=Na(s,s===se?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(t0(s,c,a),y0(s,On()),s.callbackNode!=null&&s.callbackNode===l?_0.bind(null,s):null)}function v0(s,a){if(Sh())return null;t0(s,a,!0)}function ix(){dx(function(){(Wt&6)!==0?Rr(il,nx):p0()})}function nm(){return la===0&&(la=al()),la}function b0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ba(""+s)}function E0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function sx(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var p=b0((m[Te]||null).action),T=c.submitter;T&&(a=(a=T[Te]||null)?b0(a.formAction):T.getAttribute("formAction"),a!==null&&(p=a,T=null));var w=new Ha("action","action",null,c,m);s.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(la!==0){var N=T?E0(m,T):new FormData(m);Tg(l,{pending:!0,data:N,method:m.method,action:p},null,N)}}else typeof p=="function"&&(w.preventDefault(),N=T?E0(m,T):new FormData(m),Tg(l,{pending:!0,data:N,method:m.method,action:p},p,N))},currentTarget:m}]})}}for(var im=0;im<Bd.length;im++){var sm=Bd[im],rx=sm.toLowerCase(),ax=sm[0].toUpperCase()+sm.slice(1);Zn(rx,"on"+ax)}Zn(t_,"onAnimationEnd"),Zn(e_,"onAnimationIteration"),Zn(n_,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(S1,"onTransitionRun"),Zn(w1,"onTransitionStart"),Zn(A1,"onTransitionCancel"),Zn(i_,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ox=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function T0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;t:{var p=void 0;if(a)for(var T=c.length-1;0<=T;T--){var w=c[T],N=w.instance,q=w.currentTarget;if(w=w.listener,N!==p&&m.isPropagationStopped())break t;p=w,m.currentTarget=q;try{p(m)}catch(Z){fh(Z)}m.currentTarget=null,p=N}else for(T=0;T<c.length;T++){if(w=c[T],N=w.instance,q=w.currentTarget,w=w.listener,N!==p&&m.isPropagationStopped())break t;p=w,m.currentTarget=q;try{p(m)}catch(Z){fh(Z)}m.currentTarget=null,p=N}}}}function Nt(s,a){var l=a[cl];l===void 0&&(l=a[cl]=new Set);var c=s+"__bubble";l.has(c)||(S0(a,s,2,!1),l.add(c))}function rm(s,a,l){var c=0;a&&(c|=4),S0(l,s,c,a)}var xh="_reactListening"+Math.random().toString(36).slice(2);function am(s){if(!s[xh]){s[xh]=!0,hl.forEach(function(l){l!=="selectionchange"&&(ox.has(l)||rm(l,!1,s),rm(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[xh]||(a[xh]=!0,rm("selectionchange",!1,a))}}function S0(s,a,l,c){switch(K0(a)){case 2:var m=Nx;break;case 8:m=Px;break;default:m=bm}l=m.bind(null,a,l,s),m=void 0,!Pn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function om(s,a,l,c,m){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var w=c.stateNode.containerInfo;if(w===m)break;if(T===4)for(T=c.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;w!==null;){if(T=ji(w),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){c=p=T;continue t}w=w.parentNode}}c=c.return}Cc(function(){var q=p,Z=Nn(l),nt=[];t:{var Y=s_.get(s);if(Y!==void 0){var $=Ha,At=s;switch(s){case"keypress":if(fi(l)===0)break t;case"keydown":case"keyup":$=Wa;break;case"focusin":At="focus",$=Ga;break;case"focusout":At="blur",$=Ga;break;case"beforeblur":case"afterblur":$=Ga;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Vc;break;case t_:case e_:case n_:$=Ya;break;case i_:$=Uc;break;case"scroll":case"scrollend":$=Ic;break;case"wheel":$=$a;break;case"copy":case"cut":case"paste":$=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Sl;break;case"toggle":case"beforetoggle":$=jc}var bt=(a&4)!==0,ee=!bt&&(s==="scroll"||s==="scrollend"),j=bt?Y!==null?Y+"Capture":null:Y;bt=[];for(var z=q,H;z!==null;){var J=z;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||j===null||(J=Br(z,j),J!=null&&bt.push(tu(z,J,H))),ee)break;z=z.return}0<bt.length&&(Y=new $(Y,At,null,l,Z),nt.push({event:Y,listeners:bt}))}}if((a&7)===0){t:{if(Y=s==="mouseover"||s==="pointerover",$=s==="mouseout"||s==="pointerout",Y&&l!==qi&&(At=l.relatedTarget||l.fromElement)&&(ji(At)||At[Mn]))break t;if(($||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(At=l.relatedTarget||l.toElement,$=q,At=At?ji(At):null,At!==null&&(ee=o(At),bt=At.tag,At!==ee||bt!==5&&bt!==27&&bt!==6)&&(At=null)):($=null,At=q),$!==At)){if(bt=Vn,J="onMouseLeave",j="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(bt=Sl,J="onPointerLeave",j="onPointerEnter",z="pointer"),ee=$==null?Y:li($),H=At==null?Y:li(At),Y=new bt(J,z+"leave",$,l,Z),Y.target=ee,Y.relatedTarget=H,J=null,ji(Z)===q&&(bt=new bt(j,z+"enter",At,l,Z),bt.target=H,bt.relatedTarget=ee,J=bt),ee=J,$&&At)e:{for(bt=$,j=At,z=0,H=bt;H;H=Eo(H))z++;for(H=0,J=j;J;J=Eo(J))H++;for(;0<z-H;)bt=Eo(bt),z--;for(;0<H-z;)j=Eo(j),H--;for(;z--;){if(bt===j||j!==null&&bt===j.alternate)break e;bt=Eo(bt),j=Eo(j)}bt=null}else bt=null;$!==null&&w0(nt,Y,$,bt,!1),At!==null&&ee!==null&&w0(nt,ee,At,bt,!0)}}t:{if(Y=q?li(q):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var dt=Fy;else if(Oe(Y))if(qy)dt=b1;else{dt=_1;var Mt=y1}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&pl(q.elementType)&&(dt=Fy):dt=v1;if(dt&&(dt=dt(s,q))){$i(nt,dt,l,Z);break t}Mt&&Mt(s,Y,q),s==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&ks(Y,"number",Y.value)}switch(Mt=q?li(q):window,s){case"focusin":(Oe(Mt)||Mt.contentEditable==="true")&&(Xa=Mt,Ud=q,xl=null);break;case"focusout":xl=Ud=Xa=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,Zy(nt,l,Z);break;case"selectionchange":if(T1)break;case"keydown":case"keyup":Zy(nt,l,Z)}var mt;if(mi)t:{switch(s){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Lt?Q(s,l)&&(Et="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Et="onCompositionStart");Et&&(E&&l.locale!=="ko"&&(Lt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Lt&&(mt=_l()):(hi=Z,Ns="value"in hi?hi.value:hi.textContent,Lt=!0)),Mt=Rh(q,Et),0<Mt.length&&(Et=new El(Et,s,null,l,Z),nt.push({event:Et,listeners:Mt}),mt?Et.data=mt:(mt=lt(l),mt!==null&&(Et.data=mt)))),(mt=_?De(s,l):Ut(s,l))&&(Et=Rh(q,"onBeforeInput"),0<Et.length&&(Mt=new El("onBeforeInput","beforeinput",null,l,Z),nt.push({event:Mt,listeners:Et}),Mt.data=mt)),sx(nt,s,q,l,Z)}T0(nt,a)})}function tu(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Rh(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Br(s,l),m!=null&&c.unshift(tu(s,m,p)),m=Br(s,a),m!=null&&c.push(tu(s,m,p))),s.tag===3)return c;s=s.return}return[]}function Eo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function w0(s,a,l,c,m){for(var p=a._reactName,T=[];l!==null&&l!==c;){var w=l,N=w.alternate,q=w.stateNode;if(w=w.tag,N!==null&&N===c)break;w!==5&&w!==26&&w!==27||q===null||(N=q,m?(q=Br(l,p),q!=null&&T.unshift(tu(l,q,N))):m||(q=Br(l,p),q!=null&&T.push(tu(l,q,N)))),l=l.return}T.length!==0&&s.push({event:a,listeners:T})}var lx=/\r\n?/g,ux=/\u0000|\uFFFD/g;function A0(s){return(typeof s=="string"?s:""+s).replace(lx,`
`).replace(ux,"")}function x0(s,a){return a=A0(a),A0(s)===a}function Ch(){}function te(s,a,l,c,m,p){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||kn(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&kn(s,""+c);break;case"className":ui(s,"class",c);break;case"tabIndex":ui(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(s,l,c);break;case"style":ml(s,c,p);break;case"data":if(a!=="object"){ui(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ba(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&te(s,a,"name",m.name,m,null),te(s,a,"formEncType",m.formEncType,m,null),te(s,a,"formMethod",m.formMethod,m,null),te(s,a,"formTarget",m.formTarget,m,null)):(te(s,a,"encType",m.encType,m,null),te(s,a,"method",m.method,m,null),te(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ba(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Ch);break;case"onScroll":c!=null&&Nt("scroll",s);break;case"onScrollEnd":c!=null&&Nt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Ba(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Nt("beforetoggle",s),Nt("toggle",s),Ms(s,"popover",c);break;case"xlinkActuate":Ge(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ge(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ge(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ge(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ge(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ge(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ge(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ge(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ge(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ms(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Od.get(l)||l,Ms(s,l,c))}}function lm(s,a,l,c,m,p){switch(l){case"style":ml(s,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?kn(s,c):(typeof c=="number"||typeof c=="bigint")&&kn(s,""+c);break;case"onScroll":c!=null&&Nt("scroll",s);break;case"onScrollEnd":c!=null&&Nt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Ch);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),p=s[Te]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,m),typeof c=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break t}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Ms(s,l,c)}}}function $e(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",s),Nt("load",s);var c=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:te(s,a,p,T,l,null)}}m&&te(s,a,"srcSet",l.srcSet,l,null),c&&te(s,a,"src",l.src,l,null);return;case"input":Nt("invalid",s);var w=p=T=m=null,N=null,q=null;for(c in l)if(l.hasOwnProperty(c)){var Z=l[c];if(Z!=null)switch(c){case"name":m=Z;break;case"type":T=Z;break;case"checked":N=Z;break;case"defaultChecked":q=Z;break;case"value":p=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:te(s,a,c,Z,l,null)}}Ur(s,p,w,N,q,T,m,!1),ja(s);return;case"select":Nt("invalid",s),c=T=p=null;for(m in l)if(l.hasOwnProperty(m)&&(w=l[m],w!=null))switch(m){case"value":p=w;break;case"defaultValue":T=w;break;case"multiple":c=w;default:te(s,a,m,w,l,null)}a=p,l=T,s.multiple=!!c,a!=null?Fi(s,!!c,a,!1):l!=null&&Fi(s,!!c,l,!0);return;case"textarea":Nt("invalid",s),p=m=c=null;for(T in l)if(l.hasOwnProperty(T)&&(w=l[T],w!=null))switch(T){case"value":c=w;break;case"defaultValue":m=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:te(s,a,T,w,l,null)}zr(s,c,m,p),ja(s);return;case"option":for(N in l)if(l.hasOwnProperty(N)&&(c=l[N],c!=null))switch(N){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:te(s,a,N,c,l,null)}return;case"dialog":Nt("beforetoggle",s),Nt("toggle",s),Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":Nt("load",s);break;case"video":case"audio":for(c=0;c<Jl.length;c++)Nt(Jl[c],s);break;case"image":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"embed":case"source":case"link":Nt("error",s),Nt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:te(s,a,q,c,l,null)}return;default:if(pl(a)){for(Z in l)l.hasOwnProperty(Z)&&(c=l[Z],c!==void 0&&lm(s,a,Z,c,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(c=l[w],c!=null&&te(s,a,w,c,l,null))}function cx(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,T=null,w=null,N=null,q=null,Z=null;for($ in l){var nt=l[$];if(l.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=nt;default:c.hasOwnProperty($)||te(s,a,$,null,c,nt)}}for(var Y in c){var $=c[Y];if(nt=l[Y],c.hasOwnProperty(Y)&&($!=null||nt!=null))switch(Y){case"type":p=$;break;case"name":m=$;break;case"checked":q=$;break;case"defaultChecked":Z=$;break;case"value":T=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:$!==nt&&te(s,a,Y,$,c,nt)}}Tn(s,T,w,N,q,Z,p,m);return;case"select":$=T=w=Y=null;for(p in l)if(N=l[p],l.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":$=N;default:c.hasOwnProperty(p)||te(s,a,p,null,c,N)}for(m in c)if(p=c[m],N=l[m],c.hasOwnProperty(m)&&(p!=null||N!=null))switch(m){case"value":Y=p;break;case"defaultValue":w=p;break;case"multiple":T=p;default:p!==N&&te(s,a,m,p,c,N)}a=w,l=T,c=$,Y!=null?Fi(s,!!l,Y,!1):!!c!=!!l&&(a!=null?Fi(s,!!l,a,!0):Fi(s,!!l,l?[]:"",!1));return;case"textarea":$=Y=null;for(w in l)if(m=l[w],l.hasOwnProperty(w)&&m!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:te(s,a,w,null,c,m)}for(T in c)if(m=c[T],p=l[T],c.hasOwnProperty(T)&&(m!=null||p!=null))switch(T){case"value":Y=m;break;case"defaultValue":$=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&te(s,a,T,m,c,p)}Zt(s,Y,$);return;case"option":for(var At in l)if(Y=l[At],l.hasOwnProperty(At)&&Y!=null&&!c.hasOwnProperty(At))switch(At){case"selected":s.selected=!1;break;default:te(s,a,At,null,c,Y)}for(N in c)if(Y=c[N],$=l[N],c.hasOwnProperty(N)&&Y!==$&&(Y!=null||$!=null))switch(N){case"selected":s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:te(s,a,N,Y,c,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in l)Y=l[bt],l.hasOwnProperty(bt)&&Y!=null&&!c.hasOwnProperty(bt)&&te(s,a,bt,null,c,Y);for(q in c)if(Y=c[q],$=l[q],c.hasOwnProperty(q)&&Y!==$&&(Y!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:te(s,a,q,Y,c,$)}return;default:if(pl(a)){for(var ee in l)Y=l[ee],l.hasOwnProperty(ee)&&Y!==void 0&&!c.hasOwnProperty(ee)&&lm(s,a,ee,void 0,c,Y);for(Z in c)Y=c[Z],$=l[Z],!c.hasOwnProperty(Z)||Y===$||Y===void 0&&$===void 0||lm(s,a,Z,Y,c,$);return}}for(var j in l)Y=l[j],l.hasOwnProperty(j)&&Y!=null&&!c.hasOwnProperty(j)&&te(s,a,j,null,c,Y);for(nt in c)Y=c[nt],$=l[nt],!c.hasOwnProperty(nt)||Y===$||Y==null&&$==null||te(s,a,nt,Y,c,$)}var um=null,cm=null;function Ih(s){return s.nodeType===9?s:s.ownerDocument}function R0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function hm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var fm=null;function hx(){var s=window.event;return s&&s.type==="popstate"?s===fm?!1:(fm=s,!0):(fm=null,!1)}var I0=typeof setTimeout=="function"?setTimeout:void 0,fx=typeof clearTimeout=="function"?clearTimeout:void 0,D0=typeof Promise=="function"?Promise:void 0,dx=typeof queueMicrotask=="function"?queueMicrotask:typeof D0<"u"?function(s){return D0.resolve(null).then(s).catch(gx)}:I0;function gx(s){setTimeout(function(){throw s})}function Xs(s){return s==="head"}function O0(s,a){var l=a,c=0,m=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<c&&8>c){l=c;var T=s.ownerDocument;if(l&1&&eu(T.documentElement),l&2&&eu(T.body),l&4)for(l=T.head,eu(l),T=l.firstChild;T;){var w=T.nextSibling,N=T.nodeName;T[Nr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=w}}if(m===0){s.removeChild(p),uu(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=p}while(l);uu(a)}function dm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":dm(l),Os(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function mx(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Nr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=ti(s.nextSibling),s===null)break}return null}function px(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ti(s.nextSibling),s===null))return null;return s}function gm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function yx(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ti(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var mm=null;function M0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function k0(s,a,l){switch(a=Ih(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function eu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Os(s)}var Fn=new Map,N0=new Set;function Dh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ls=at.d;at.d={f:_x,r:vx,D:bx,C:Ex,L:Tx,m:Sx,X:Ax,S:wx,M:xx};function _x(){var s=ls.f(),a=Eh();return s||a}function vx(s){var a=oi(s);a!==null&&a.tag===5&&a.type==="form"?tv(a):ls.r(s)}var To=typeof document>"u"?null:document;function P0(s,a,l){var c=To;if(c&&typeof a=="string"&&a){var m=Se(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),N0.has(m)||(N0.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),$e(a,"link",s),ye(a),c.head.appendChild(a)))}}function bx(s){ls.D(s),P0("dns-prefetch",s,null)}function Ex(s,a){ls.C(s,a),P0("preconnect",s,a)}function Tx(s,a,l){ls.L(s,a,l);var c=To;if(c&&s&&a){var m='link[rel="preload"][as="'+Se(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Se(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Se(l.imageSizes)+'"]')):m+='[href="'+Se(s)+'"]';var p=m;switch(a){case"style":p=So(s);break;case"script":p=wo(s)}Fn.has(p)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Fn.set(p,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(nu(p))||a==="script"&&c.querySelector(iu(p))||(a=c.createElement("link"),$e(a,"link",s),ye(a),c.head.appendChild(a)))}}function Sx(s,a){ls.m(s,a);var l=To;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Se(c)+'"][href="'+Se(s)+'"]',p=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=wo(s)}if(!Fn.has(p)&&(s=y({rel:"modulepreload",href:s},a),Fn.set(p,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(iu(p)))return}c=l.createElement("link"),$e(c,"link",s),ye(c),l.head.appendChild(c)}}}function wx(s,a,l){ls.S(s,a,l);var c=To;if(c&&s){var m=un(c).hoistableStyles,p=So(s);a=a||"default";var T=m.get(p);if(!T){var w={loading:0,preload:null};if(T=c.querySelector(nu(p)))w.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Fn.get(p))&&pm(s,l);var N=T=c.createElement("link");ye(N),$e(N,"link",s),N._p=new Promise(function(q,Z){N.onload=q,N.onerror=Z}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Oh(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:w},m.set(p,T)}}}function Ax(s,a){ls.X(s,a);var l=To;if(l&&s){var c=un(l).hoistableScripts,m=wo(s),p=c.get(m);p||(p=l.querySelector(iu(m)),p||(s=y({src:s,async:!0},a),(a=Fn.get(m))&&ym(s,a),p=l.createElement("script"),ye(p),$e(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function xx(s,a){ls.M(s,a);var l=To;if(l&&s){var c=un(l).hoistableScripts,m=wo(s),p=c.get(m);p||(p=l.querySelector(iu(m)),p||(s=y({src:s,async:!0,type:"module"},a),(a=Fn.get(m))&&ym(s,a),p=l.createElement("script"),ye(p),$e(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function V0(s,a,l,c){var m=(m=yt.current)?Dh(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=So(l.href),l=un(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=So(l.href);var p=un(m).hoistableStyles,T=p.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,T),(p=m.querySelector(nu(s)))&&!p._p&&(T.instance=p,T.state.loading=5),Fn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Fn.set(s,l),p||Rx(m,s,l,T.state))),a&&c===null)throw Error(i(528,""));return T}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=wo(l),l=un(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function So(s){return'href="'+Se(s)+'"'}function nu(s){return'link[rel="stylesheet"]['+s+"]"}function L0(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function Rx(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),$e(a,"link",l),ye(a),s.head.appendChild(a))}function wo(s){return'[src="'+Se(s)+'"]'}function iu(s){return"script[async]"+s}function U0(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+Se(l.href)+'"]');if(c)return a.instance=c,ye(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),ye(c),$e(c,"style",m),Oh(c,l.precedence,s),a.instance=c;case"stylesheet":m=So(l.href);var p=s.querySelector(nu(m));if(p)return a.state.loading|=4,a.instance=p,ye(p),p;c=L0(l),(m=Fn.get(m))&&pm(c,m),p=(s.ownerDocument||s).createElement("link"),ye(p);var T=p;return T._p=new Promise(function(w,N){T.onload=w,T.onerror=N}),$e(p,"link",c),a.state.loading|=4,Oh(p,l.precedence,s),a.instance=p;case"script":return p=wo(l.src),(m=s.querySelector(iu(p)))?(a.instance=m,ye(m),m):(c=l,(m=Fn.get(p))&&(c=y({},l),ym(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),ye(m),$e(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Oh(c,l.precedence,s));return a.instance}function Oh(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,p=m,T=0;T<c.length;T++){var w=c[T];if(w.dataset.precedence===a)p=w;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function pm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function ym(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Mh=null;function z0(s,a,l){if(Mh===null){var c=new Map,m=Mh=new Map;m.set(l,c)}else m=Mh,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var p=l[m];if(!(p[Nr]||p[Ie]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(a)||"";T=s+T;var w=c.get(T);w?w.push(p):c.set(T,[p])}}return c}function j0(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function Cx(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function B0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var su=null;function Ix(){}function Dx(s,a,l){if(su===null)throw Error(i(475));var c=su;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=So(l.href),p=s.querySelector(nu(m));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=kh.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=p,ye(p);return}p=s.ownerDocument||s,l=L0(l),(m=Fn.get(m))&&pm(l,m),p=p.createElement("link"),ye(p);var T=p;T._p=new Promise(function(w,N){T.onload=w,T.onerror=N}),$e(p,"link",l),a.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=kh.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function Ox(){if(su===null)throw Error(i(475));var s=su;return s.stylesheets&&s.count===0&&_m(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&_m(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function kh(){if(this.count--,this.count===0){if(this.stylesheets)_m(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Nh=null;function _m(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Nh=new Map,a.forEach(Mx,s),Nh=null,kh.call(s))}function Mx(s,a){if(!(a.state.loading&4)){var l=Nh.get(s);if(l)var c=l.get(null);else{l=new Map,Nh.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var T=m[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}m=a.instance,T=m.getAttribute("data-precedence"),p=l.get(T)||c,p===c&&l.set(null,m),l.set(T,m),this.count++,c=kh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var ru={$$typeof:W,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function kx(s,a,l,c,m,p,T,w){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function H0(s,a,l,c,m,p,T,w,N,q,Z,nt){return s=new kx(s,a,l,T,w,N,q,nt),a=1,p===!0&&(a|=24),p=wn(3,null,null,a),s.current=p,p.stateNode=s,a=Jd(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:a},ig(p),s}function F0(s){return s?(s=to,s):to}function q0(s,a,l,c,m,p){m=F0(m),c.context===null?c.context=m:c.pendingContext=m,c=Ls(a),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=Us(s,c,a),l!==null&&(In(l,s,a),Pl(l,s,a))}function G0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function vm(s,a){G0(s,a),(s=s.alternate)&&G0(s,a)}function Y0(s){if(s.tag===13){var a=Ja(s,67108864);a!==null&&In(a,s,67108864),vm(s,67108864)}}var Ph=!0;function Nx(s,a,l,c){var m=X.T;X.T=null;var p=at.p;try{at.p=2,bm(s,a,l,c)}finally{at.p=p,X.T=m}}function Px(s,a,l,c){var m=X.T;X.T=null;var p=at.p;try{at.p=8,bm(s,a,l,c)}finally{at.p=p,X.T=m}}function bm(s,a,l,c){if(Ph){var m=Em(c);if(m===null)om(s,a,c,Vh,l),W0(s,c);else if(Lx(m,s,a,l,c))c.stopPropagation();else if(W0(s,c),a&4&&-1<Vx.indexOf(s)){for(;m!==null;){var p=oi(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=$n(p.pendingLanes);if(T!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var N=1<<31-tn(T);w.entanglements[1]|=N,T&=~N}Ei(p),(Wt&6)===0&&(vh=On()+500,Zl(0))}}break;case 13:w=Ja(p,2),w!==null&&In(w,p,2),Eh(),vm(p,2)}if(p=Em(c),p===null&&om(s,a,c,Vh,l),p===m)break;m=p}m!==null&&c.stopPropagation()}else om(s,a,c,null,l)}}function Em(s){return s=Nn(s),Tm(s)}var Vh=null;function Tm(s){if(Vh=null,s=ji(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=u(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Vh=s,null}function K0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ad()){case il:return 2;case Ma:return 8;case Ir:case xd:return 32;case ka:return 268435456;default:return 32}default:return 32}}var Sm=!1,Qs=null,Zs=null,Js=null,au=new Map,ou=new Map,tr=[],Vx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W0(s,a){switch(s){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":au.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(a.pointerId)}}function lu(s,a,l,c,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},a!==null&&(a=oi(a),a!==null&&Y0(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function Lx(s,a,l,c,m){switch(a){case"focusin":return Qs=lu(Qs,s,a,l,c,m),!0;case"dragenter":return Zs=lu(Zs,s,a,l,c,m),!0;case"mouseover":return Js=lu(Js,s,a,l,c,m),!0;case"pointerover":var p=m.pointerId;return au.set(p,lu(au.get(p)||null,s,a,l,c,m)),!0;case"gotpointercapture":return p=m.pointerId,ou.set(p,lu(ou.get(p)||null,s,a,l,c,m)),!0}return!1}function $0(s){var a=ji(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){s.blockedOn=a,Ec(s.priority,function(){if(l.tag===13){var c=Cn();c=Cs(c);var m=Ja(l,c);m!==null&&In(m,l,c),vm(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Lh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Em(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);qi=c,l.target.dispatchEvent(c),qi=null}else return a=oi(l),a!==null&&Y0(a),s.blockedOn=l,!1;a.shift()}return!0}function X0(s,a,l){Lh(s)&&l.delete(a)}function Ux(){Sm=!1,Qs!==null&&Lh(Qs)&&(Qs=null),Zs!==null&&Lh(Zs)&&(Zs=null),Js!==null&&Lh(Js)&&(Js=null),au.forEach(X0),ou.forEach(X0)}function Uh(s,a){s.blockedOn===a&&(s.blockedOn=null,Sm||(Sm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ux)))}var zh=null;function Q0(s){zh!==s&&(zh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zh===s&&(zh=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(Tm(c||l)===null)continue;break}var p=oi(l);p!==null&&(s.splice(a,3),a-=3,Tg(p,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function uu(s){function a(N){return Uh(N,s)}Qs!==null&&Uh(Qs,s),Zs!==null&&Uh(Zs,s),Js!==null&&Uh(Js,s),au.forEach(a),ou.forEach(a);for(var l=0;l<tr.length;l++){var c=tr[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<tr.length&&(l=tr[0],l.blockedOn===null);)$0(l),l.blockedOn===null&&tr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],p=l[c+1],T=m[Te]||null;if(typeof p=="function")T||Q0(l);else if(T){var w=null;if(p&&p.hasAttribute("formAction")){if(m=p,T=p[Te]||null)w=T.formAction;else if(Tm(m)!==null)continue}else w=T.action;typeof w=="function"?l[c+1]=w:(l.splice(c,3),c-=3),Q0(l)}}}function wm(s){this._internalRoot=s}jh.prototype.render=wm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=Cn();q0(l,c,s,a,null,null)},jh.prototype.unmount=wm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;q0(s.current,2,null,s,null,null),Eh(),a[Mn]=null}};function jh(s){this._internalRoot=s}jh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Is();s={blockedOn:null,target:s,priority:a};for(var l=0;l<tr.length&&a!==0&&a<tr[l].priority;l++);tr.splice(l,0,s),l===0&&$0(s)}};var Z0=t.version;if(Z0!=="19.1.0")throw Error(i(527,Z0,"19.1.0"));at.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var zx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{ge=Bh.inject(zx),Kt=Bh}catch{}}return hu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,c="",m=gv,p=mv,T=pv,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=H0(s,1,!1,null,null,l,c,m,p,T,w,null),s[Mn]=a.current,am(s),new wm(a)},hu.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var c=!1,m="",p=gv,T=mv,w=pv,N=null,q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(N=l.unstable_transitionCallbacks),l.formState!==void 0&&(q=l.formState)),a=H0(s,1,!0,a,l??null,c,m,p,T,w,N,q),a.context=F0(null),l=a.current,c=Cn(),c=Cs(c),m=Ls(c),m.callback=null,Us(l,m,c),l=c,a.current.lanes=l,zi(a,l),Ei(a),s[Mn]=a.current,am(s),new jh(a)},hu.version="19.1.0",hu}var lb;function Xx(){if(lb)return Rm.exports;lb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Rm.exports=$x(),Rm.exports}var Qx=Xx(),fu={},ub;function Zx(){if(ub)return fu;ub=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.parse=u,fu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,S){const A=new o,I=b.length;if(I<2)return A;const C=S?.decode||y;let M=0;do{const F=b.indexOf("=",M);if(F===-1)break;const W=b.indexOf(";",M),et=W===-1?I:W;if(F>et){M=b.lastIndexOf(";",F-1)+1;continue}const tt=h(b,M,F),ut=f(b,F,tt),P=b.slice(tt,ut);if(A[P]===void 0){let R=h(b,F+1,et),D=f(b,et,R);const k=C(b.slice(R,D));A[P]=k}M=et+1}while(M<I);return A}function h(b,S,A){do{const I=b.charCodeAt(S);if(I!==32&&I!==9)return S}while(++S<A);return A}function f(b,S,A){for(;S>A;){const I=b.charCodeAt(--S);if(I!==32&&I!==9)return S+1}return A}function g(b,S,A){const I=A?.encode||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=I(S);if(!t.test(C))throw new TypeError(`argument val is invalid: ${S}`);let M=b+"="+C;if(!A)return M;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);M+="; Max-Age="+A.maxAge}if(A.domain){if(!e.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);M+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);M+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);M+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(M+="; HttpOnly"),A.secure&&(M+="; Secure"),A.partitioned&&(M+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return M}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return r.call(b)==="[object Date]"}return fu}Zx();var cb="popstate";function Jx(n={}){function t(i,r){let{pathname:o,search:u,hash:h}=i.location;return tp("",{pathname:o,search:u,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:ju(r)}return eR(t,e,null,n)}function fe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ki(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tR(){return Math.random().toString(36).substring(2,10)}function hb(n,t){return{usr:n.state,key:n.key,idx:t}}function tp(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Go(t):t,state:e,key:t&&t.key||i||tR()}}function ju({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Go(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function eR(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,u=r.history,h="POP",f=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let C=y(),M=C==null?null:C-g;g=C,f&&f({action:h,location:I.location,delta:M})}function b(C,M){h="PUSH";let F=tp(I.location,C,M);g=y()+1;let W=hb(F,g),et=I.createHref(F);try{u.pushState(W,"",et)}catch(tt){if(tt instanceof DOMException&&tt.name==="DataCloneError")throw tt;r.location.assign(et)}o&&f&&f({action:h,location:I.location,delta:1})}function S(C,M){h="REPLACE";let F=tp(I.location,C,M);g=y();let W=hb(F,g),et=I.createHref(F);u.replaceState(W,"",et),o&&f&&f({action:h,location:I.location,delta:0})}function A(C){return nR(C)}let I={get action(){return h},get location(){return n(r,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(cb,v),f=C,()=>{r.removeEventListener(cb,v),f=null}},createHref(C){return t(r,C)},createURL:A,encodeLocation(C){let M=A(C);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:S,go(C){return u.go(C)}};return I}function nR(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),fe(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:ju(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function WT(n,t,e="/"){return iR(n,t,e,!1)}function iR(n,t,e,i){let r=typeof t=="string"?Go(t):t,o=vs(r.pathname||"/",e);if(o==null)return null;let u=$T(n);sR(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let g=mR(o);h=dR(u[f],g,i)}return h}function $T(n,t=[],e=[],i=""){let r=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(fe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=ms([i,f.relativePath]),y=e.concat(f);o.children&&o.children.length>0&&(fe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),$T(o.children,t,y,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:hR(g,o.index),routesMeta:y})};return n.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))r(o,u);else for(let h of XT(o.path))r(o,u,h)}),t}function XT(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let u=XT(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function sR(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:fR(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var rR=/^:[\w-]+$/,aR=3,oR=2,lR=1,uR=10,cR=-2,fb=n=>n==="*";function hR(n,t){let e=n.split("/"),i=e.length;return e.some(fb)&&(i+=cR),t&&(i+=oR),e.filter(r=>!fb(r)).reduce((r,o)=>r+(rR.test(o)?aR:o===""?lR:uR),i)}function fR(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function dR(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",v=Sf({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),b=f.route;if(!v&&g&&e&&!i[i.length-1].route.index&&(v=Sf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:ms([o,v.pathname]),pathnameBase:vR(ms([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=ms([o,v.pathnameBase]))}return u}function Sf(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=gR(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],u=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:v},b)=>{if(y==="*"){let A=h[b]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const S=h[b];return v&&!S?g[y]=void 0:g[y]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:n}}function gR(n,t=!1,e=!0){ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function mR(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function vs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function pR(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Go(n):n;return{pathname:e?e.startsWith("/")?e:yR(e,t):t,search:bR(i),hash:ER(r)}}function yR(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Om(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _R(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function QT(n){let t=_R(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function ZT(n,t,e,i=!1){let r;typeof n=="string"?r=Go(n):(r={...n},fe(!r.pathname||!r.pathname.includes("?"),Om("?","pathname","search",r)),fe(!r.pathname||!r.pathname.includes("#"),Om("#","pathname","hash",r)),fe(!r.search||!r.search.includes("#"),Om("#","search","hash",r)));let o=n===""||r.pathname==="",u=o?"/":r.pathname,h;if(u==null)h=e;else{let v=t.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}h=v>=0?t[v]:"/"}let f=pR(r,h),g=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}var ms=n=>n.join("/").replace(/\/\/+/g,"/"),vR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ER=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function TR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var JT=["POST","PUT","PATCH","DELETE"];new Set(JT);var SR=["GET",...JT];new Set(SR);var Yo=K.createContext(null);Yo.displayName="DataRouter";var nd=K.createContext(null);nd.displayName="DataRouterState";var tS=K.createContext({isTransitioning:!1});tS.displayName="ViewTransition";var wR=K.createContext(new Map);wR.displayName="Fetchers";var AR=K.createContext(null);AR.displayName="Await";var Vi=K.createContext(null);Vi.displayName="Navigation";var nc=K.createContext(null);nc.displayName="Location";var As=K.createContext({outlet:null,matches:[],isDataRoute:!1});As.displayName="Route";var Np=K.createContext(null);Np.displayName="RouteError";function xR(n,{relative:t}={}){fe(ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=K.useContext(Vi),{hash:r,pathname:o,search:u}=sc(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:ms([e,o])),i.createHref({pathname:h,search:u,hash:r})}function ic(){return K.useContext(nc)!=null}function xa(){return fe(ic(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(nc).location}var eS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nS(n){K.useContext(Vi).static||K.useLayoutEffect(n)}function Ko(){let{isDataRoute:n}=K.useContext(As);return n?zR():RR()}function RR(){fe(ic(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(Yo),{basename:t,navigator:e}=K.useContext(Vi),{matches:i}=K.useContext(As),{pathname:r}=xa(),o=JSON.stringify(QT(i)),u=K.useRef(!1);return nS(()=>{u.current=!0}),K.useCallback((f,g={})=>{if(ki(u.current,eS),!u.current)return;if(typeof f=="number"){e.go(f);return}let y=ZT(f,JSON.parse(o),r,g.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ms([t,y.pathname])),(g.replace?e.replace:e.push)(y,g.state,g)},[t,e,o,r,n])}K.createContext(null);function sc(n,{relative:t}={}){let{matches:e}=K.useContext(As),{pathname:i}=xa(),r=JSON.stringify(QT(e));return K.useMemo(()=>ZT(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function CR(n,t){return iS(n,t)}function iS(n,t,e,i){fe(ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=K.useContext(Vi),{matches:o}=K.useContext(As),u=o[o.length-1],h=u?u.params:{},f=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let M=y&&y.path||"";sS(f,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=xa(),b;if(t){let M=typeof t=="string"?Go(t):t;fe(g==="/"||M.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=v;let S=b.pathname||"/",A=S;if(g!=="/"){let M=g.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let I=WT(n,{pathname:A});ki(y||I!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ki(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=kR(I&&I.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:ms([g,r.encodeLocation?r.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:ms([g,r.encodeLocation?r.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),o,e,i);return t&&C?K.createElement(nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function IR(){let n=UR(),t=TR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:o},"ErrorBoundary")," or"," ",K.createElement("code",{style:o},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),e?K.createElement("pre",{style:r},e):null,u)}var DR=K.createElement(IR,null),OR=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?K.createElement(As.Provider,{value:this.props.routeContext},K.createElement(Np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MR({routeContext:n,match:t,children:e}){let i=K.useContext(Yo);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(As.Provider,{value:n},e)}function kR(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e?.errors;if(o!=null){let f=r.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);fe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,h=-1;if(e)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:y,errors:v}=e,b=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){u=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,g,y)=>{let v,b=!1,S=null,A=null;e&&(v=o&&g.route.id?o[g.route.id]:void 0,S=g.route.errorElement||DR,u&&(h<0&&y===0?(sS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,A=null):h===y&&(b=!0,A=g.route.hydrateFallbackElement||null)));let I=t.concat(r.slice(0,y+1)),C=()=>{let M;return v?M=S:b?M=A:g.route.Component?M=K.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=f,K.createElement(MR,{match:g,routeContext:{outlet:f,matches:I,isDataRoute:e!=null},children:M})};return e&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?K.createElement(OR,{location:e.location,revalidation:e.revalidation,component:S,error:v,children:C(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):C()},null)}function Pp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NR(n){let t=K.useContext(Yo);return fe(t,Pp(n)),t}function PR(n){let t=K.useContext(nd);return fe(t,Pp(n)),t}function VR(n){let t=K.useContext(As);return fe(t,Pp(n)),t}function Vp(n){let t=VR(n),e=t.matches[t.matches.length-1];return fe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function LR(){return Vp("useRouteId")}function UR(){let n=K.useContext(Np),t=PR("useRouteError"),e=Vp("useRouteError");return n!==void 0?n:t.errors?.[e]}function zR(){let{router:n}=NR("useNavigate"),t=Vp("useNavigate"),e=K.useRef(!1);return nS(()=>{e.current=!0}),K.useCallback(async(r,o={})=>{ki(e.current,eS),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var db={};function sS(n,t,e){!t&&!db[n]&&(db[n]=!0,ki(!1,e))}K.memo(jR);function jR({routes:n,future:t,state:e}){return iS(n,void 0,e,t)}function Ro(n){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BR({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){fe(!ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=K.useMemo(()=>({basename:u,navigator:r,static:o,future:{}}),[u,r,o]);typeof e=="string"&&(e=Go(e));let{pathname:f="/",search:g="",hash:y="",state:v=null,key:b="default"}=e,S=K.useMemo(()=>{let A=vs(f,u);return A==null?null:{location:{pathname:A,search:g,hash:y,state:v,key:b},navigationType:i}},[u,f,g,y,v,b,i]);return ki(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:K.createElement(Vi.Provider,{value:h},K.createElement(nc.Provider,{children:t,value:S}))}function HR({children:n,location:t}){return CR(ep(n),t)}function ep(n,t=[]){let e=[];return K.Children.forEach(n,(i,r)=>{if(!K.isValidElement(i))return;let o=[...t,r];if(i.type===K.Fragment){e.push.apply(e,ep(i.props.children,o));return}fe(i.type===Ro,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=ep(i.props.children,o)),e.push(u)}),e}var uf="get",cf="application/x-www-form-urlencoded";function id(n){return n!=null&&typeof n.tagName=="string"}function FR(n){return id(n)&&n.tagName.toLowerCase()==="button"}function qR(n){return id(n)&&n.tagName.toLowerCase()==="form"}function GR(n){return id(n)&&n.tagName.toLowerCase()==="input"}function YR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function KR(n,t){return n.button===0&&(!t||t==="_self")&&!YR(n)}var Hh=null;function WR(){if(Hh===null)try{new FormData(document.createElement("form"),0),Hh=!1}catch{Hh=!0}return Hh}var $R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(n){return n!=null&&!$R.has(n)?(ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cf}"`),null):n}function XR(n,t){let e,i,r,o,u;if(qR(n)){let h=n.getAttribute("action");i=h?vs(h,t):null,e=n.getAttribute("method")||uf,r=Mm(n.getAttribute("enctype"))||cf,o=new FormData(n)}else if(FR(n)||GR(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?vs(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||uf,r=Mm(n.getAttribute("formenctype"))||Mm(h.getAttribute("enctype"))||cf,o=new FormData(h,n),!WR()){let{name:g,type:y,value:v}=n;if(y==="image"){let b=g?`${g}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else g&&o.append(g,v)}}else{if(id(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=uf,i=null,r=cf,u=n}return o&&r==="text/plain"&&(u=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:u}}function Lp(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function QR(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function JR(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let u=await QR(o,e);return u.links?u.links():[]}return[]}));return iC(i.flat(1).filter(ZR).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function gb(n,t,e,i,r,o){let u=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,h=(f,g)=>e[g].pathname!==f.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,g)=>u(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function tC(n,t,{includeHydrateFallback:e}={}){return eC(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function eC(n){return[...new Set(n)]}function nC(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function iC(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(nC(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sC=new Set([100,101,204,205]);function rC(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&vs(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function rS(){let n=K.useContext(Yo);return Lp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function aC(){let n=K.useContext(nd);return Lp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Up=K.createContext(void 0);Up.displayName="FrameworkContext";function aS(){let n=K.useContext(Up);return Lp(n,"You must render this element inside a <HydratedRouter> element"),n}function oC(n,t){let e=K.useContext(Up),[i,r]=K.useState(!1),[o,u]=K.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=t,b=K.useRef(null);K.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=M=>{M.forEach(F=>{u(F.isIntersecting)})},C=new IntersectionObserver(I,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[n]),K.useEffect(()=>{if(i){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[i]);let S=()=>{r(!0)},A=()=>{r(!1),u(!1)};return e?n!=="intent"?[o,b,{}]:[o,b,{onFocus:du(h,S),onBlur:du(f,A),onMouseEnter:du(g,S),onMouseLeave:du(y,A),onTouchStart:du(v,S)}]:[!1,b,{}]}function du(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function lC({page:n,...t}){let{router:e}=rS(),i=K.useMemo(()=>WT(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?K.createElement(cC,{page:n,matches:i,...t}):null}function uC(n){let{manifest:t,routeModules:e}=aS(),[i,r]=K.useState([]);return K.useEffect(()=>{let o=!1;return JR(n,t,e).then(u=>{o||r(u)}),()=>{o=!0}},[n,t,e]),i}function cC({page:n,matches:t,...e}){let i=xa(),{manifest:r,routeModules:o}=aS(),{basename:u}=rS(),{loaderData:h,matches:f}=aC(),g=K.useMemo(()=>gb(n,t,f,r,i,"data"),[n,t,f,r,i]),y=K.useMemo(()=>gb(n,t,f,r,i,"assets"),[n,t,f,r,i]),v=K.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,I=!1;if(t.forEach(M=>{let F=r.routes[M.route.id];!F||!F.hasLoader||(!g.some(W=>W.route.id===M.route.id)&&M.route.id in h&&o[M.route.id]?.shouldRevalidate||F.hasClientLoader?I=!0:A.add(M.route.id))}),A.size===0)return[];let C=rC(n,u);return I&&A.size>0&&C.searchParams.set("_routes",t.filter(M=>A.has(M.route.id)).map(M=>M.route.id).join(",")),[C.pathname+C.search]},[u,h,i,r,g,t,n,o]),b=K.useMemo(()=>tC(y,r),[y,r]),S=uC(y);return K.createElement(K.Fragment,null,v.map(A=>K.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),b.map(A=>K.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),S.map(({key:A,link:I})=>K.createElement("link",{key:A,...I})))}function hC(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var oS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oS&&(window.__reactRouterVersion="7.6.3")}catch{}function fC({basename:n,children:t,window:e}){let i=K.useRef();i.current==null&&(i.current=Jx({window:e,v5Compat:!0}));let r=i.current,[o,u]=K.useState({action:r.action,location:r.location}),h=K.useCallback(f=>{K.startTransition(()=>u(f))},[u]);return K.useLayoutEffect(()=>r.listen(h),[r,h]),K.createElement(BR,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var lS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_a=K.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:u,state:h,target:f,to:g,preventScrollReset:y,viewTransition:v,...b},S){let{basename:A}=K.useContext(Vi),I=typeof g=="string"&&lS.test(g),C,M=!1;if(typeof g=="string"&&I&&(C=g,oS))try{let D=new URL(window.location.href),k=g.startsWith("//")?new URL(D.protocol+g):new URL(g),V=vs(k.pathname,A);k.origin===D.origin&&V!=null?g=V+k.search+k.hash:M=!0}catch{ki(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=xR(g,{relative:r}),[W,et,tt]=oC(i,b),ut=pC(g,{replace:u,state:h,target:f,preventScrollReset:y,relative:r,viewTransition:v});function P(D){t&&t(D),D.defaultPrevented||ut(D)}let R=K.createElement("a",{...b,...tt,href:C||F,onClick:M||o?t:P,ref:hC(S,et),target:f,"data-discover":!I&&e==="render"?"true":void 0});return W&&!I?K.createElement(K.Fragment,null,R,K.createElement(lC,{page:F})):R});_a.displayName="Link";var dC=K.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:u,viewTransition:h,children:f,...g},y){let v=sc(u,{relative:g.relative}),b=xa(),S=K.useContext(nd),{navigator:A,basename:I}=K.useContext(Vi),C=S!=null&&EC(v)&&h===!0,M=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,F=b.pathname,W=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;e||(F=F.toLowerCase(),W=W?W.toLowerCase():null,M=M.toLowerCase()),W&&I&&(W=vs(W,I)||W);const et=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let tt=F===M||!r&&F.startsWith(M)&&F.charAt(et)==="/",ut=W!=null&&(W===M||!r&&W.startsWith(M)&&W.charAt(M.length)==="/"),P={isActive:tt,isPending:ut,isTransitioning:C},R=tt?t:void 0,D;typeof i=="function"?D=i(P):D=[i,tt?"active":null,ut?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(P):o;return K.createElement(_a,{...g,"aria-current":R,className:D,ref:y,style:k,to:u,viewTransition:h},typeof f=="function"?f(P):f)});dC.displayName="NavLink";var gC=K.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:u=uf,action:h,onSubmit:f,relative:g,preventScrollReset:y,viewTransition:v,...b},S)=>{let A=vC(),I=bC(h,{relative:g}),C=u.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&lS.test(h),F=W=>{if(f&&f(W),W.defaultPrevented)return;W.preventDefault();let et=W.nativeEvent.submitter,tt=et?.getAttribute("formmethod")||u;A(et||W.currentTarget,{fetcherKey:t,method:tt,navigate:e,replace:r,state:o,relative:g,preventScrollReset:y,viewTransition:v})};return K.createElement("form",{ref:S,method:C,action:I,onSubmit:i?f:F,...b,"data-discover":!M&&n==="render"?"true":void 0})});gC.displayName="Form";function mC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uS(n){let t=K.useContext(Yo);return fe(t,mC(n)),t}function pC(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:u}={}){let h=Ko(),f=xa(),g=sc(n,{relative:o});return K.useCallback(y=>{if(KR(y,t)){y.preventDefault();let v=e!==void 0?e:ju(f)===ju(g);h(n,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:u})}},[f,h,g,e,i,t,n,r,o,u])}var yC=0,_C=()=>`__${String(++yC)}__`;function vC(){let{router:n}=uS("useSubmit"),{basename:t}=K.useContext(Vi),e=LR();return K.useCallback(async(i,r={})=>{let{action:o,method:u,encType:h,formData:f,body:g}=XR(i,t);if(r.navigate===!1){let y=r.fetcherKey||_C();await n.fetch(y,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function bC(n,{relative:t}={}){let{basename:e}=K.useContext(Vi),i=K.useContext(As);fe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...sc(n||".",{relative:t})},u=xa();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ms([e,o.pathname])),ju(o)}function EC(n,t={}){let e=K.useContext(tS);fe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=uS("useViewTransitionState"),r=sc(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=vs(e.currentLocation.pathname,i)||e.currentLocation.pathname,u=vs(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Sf(r.pathname,u)!=null||Sf(r.pathname,o)!=null}[...sC];const TC=()=>{};var mb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},SC=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],u=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|u&63)}}return t.join("")},hS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],u=r+1<n.length,h=u?n[r+1]:0,f=r+2<n.length,g=f?n[r+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let b=(h&15)<<2|g>>6,S=g&63;f||(S=64,u||(b=64)),i.push(e[y],e[v],e[b],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(cS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):SC(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||v==null)throw new wC;const b=o<<2|h>>4;if(i.push(b),g!==64){const S=h<<4&240|g>>2;if(i.push(S),v!==64){const A=g<<6&192|v;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AC=function(n){const t=cS(n);return hS.encodeByteArray(t,!0)},wf=function(n){return AC(n).replace(/\./g,"")},fS=function(n){try{return hS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=()=>xC().__FIREBASE_DEFAULTS__,CC=()=>{if(typeof process>"u"||typeof mb>"u")return;const n=mb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},IC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&fS(n[1]);return t&&JSON.parse(t)},sd=()=>{try{return TC()||RC()||CC()||IC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dS=n=>{var t,e;return(e=(t=sd())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},DC=n=>{const t=dS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},gS=()=>{var n;return(n=sd())===null||n===void 0?void 0:n.config},mS=n=>{var t;return(t=sd())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wf(JSON.stringify(e)),wf(JSON.stringify(u)),""].join(".")}const Iu={};function kC(){const n={prod:[],emulator:[]};for(const t of Object.keys(Iu))Iu[t]?n.emulator.push(t):n.prod.push(t);return n}function NC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let pb=!1;function yS(n,t){if(typeof window>"u"||typeof document>"u"||!Wo(window.location.host)||Iu[n]===t||Iu[n]||pb)return;Iu[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=kC().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{pb=!0,u()},b}function y(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=NC(i),S=e("text"),A=document.getElementById(S)||document.createElement("span"),I=e("learnmore"),C=document.getElementById(I)||document.createElement("a"),M=e("preprendIcon"),F=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const W=b.element;h(W),y(C,I);const et=g();f(F,M),W.append(F,A,C,et),document.body.appendChild(W)}o?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function VC(){var n;const t=(n=sd())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jC(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function BC(){return!VC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HC(){try{return typeof indexedDB=="object"}catch{return!1}}function FC(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="FirebaseError";class xs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=qC,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rc.prototype.create)}}class rc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],u=o?GC(o,i):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new xs(r,h,i)}}function GC(n,t){return n.replace(YC,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const YC=/\{\$([^}]+)}/g;function KC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function va(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],u=t[r];if(yb(o)&&yb(u)){if(!va(o,u))return!1}else if(o!==u)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function yb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function vu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function bu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function WC(n,t){const e=new $C(n,t);return e.subscribe.bind(e)}class $C{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");XC(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=km),r.error===void 0&&(r.error=km),r.complete===void 0&&(r.complete=km);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XC(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function km(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n){return n&&n._delegate?n._delegate:n}class ba{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new OC;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(JC(t))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fa){return this.instances.has(t)}getOptions(t=fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ZC(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=fa){return this.component?this.component.multipleInstances?t:fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZC(n){return n===fa?void 0:n}function JC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new QC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pt||(Pt={}));const e2={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},n2=Pt.INFO,i2={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},s2=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=i2[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zp{constructor(t){this.name=t,this._logLevel=n2,this._logHandler=s2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?e2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const r2=(n,t)=>t.some(e=>n instanceof e);let _b,vb;function a2(){return _b||(_b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o2(){return vb||(vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _S=new WeakMap,np=new WeakMap,vS=new WeakMap,Nm=new WeakMap,jp=new WeakMap;function l2(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(cr(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&_S.set(e,n)}).catch(()=>{}),jp.set(t,n),t}function u2(n){if(np.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});np.set(n,t)}let ip={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return np.get(n);if(t==="objectStoreNames")return n.objectStoreNames||vS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return cr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function c2(n){ip=n(ip)}function h2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Pm(this),t,...e);return vS.set(i,t.sort?t.sort():[t]),cr(i)}:o2().includes(n)?function(...t){return n.apply(Pm(this),t),cr(_S.get(this))}:function(...t){return cr(n.apply(Pm(this),t))}}function f2(n){return typeof n=="function"?h2(n):(n instanceof IDBTransaction&&u2(n),r2(n,a2())?new Proxy(n,ip):n)}function cr(n){if(n instanceof IDBRequest)return l2(n);if(Nm.has(n))return Nm.get(n);const t=f2(n);return t!==n&&(Nm.set(n,t),jp.set(t,n)),t}const Pm=n=>jp.get(n);function d2(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const u=indexedDB.open(n,t),h=cr(u);return i&&u.addEventListener("upgradeneeded",f=>{i(cr(u.result),f.oldVersion,f.newVersion,cr(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const g2=["get","getKey","getAll","getAllKeys","count"],m2=["put","add","delete","clear"],Vm=new Map;function bb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Vm.get(t))return Vm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=m2.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||g2.includes(e)))return;const o=async function(u,...h){const f=this.transaction(u,r?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&f.done]))[0]};return Vm.set(t,o),o}c2(n=>({...n,get:(t,e,i)=>bb(t,e)||n.get(t,e,i),has:(t,e)=>!!bb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(y2(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function y2(n){const t=n.getComponent();return t?.type==="VERSION"}const sp="@firebase/app",Eb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new zp("@firebase/app"),_2="@firebase/app-compat",v2="@firebase/analytics-compat",b2="@firebase/analytics",E2="@firebase/app-check-compat",T2="@firebase/app-check",S2="@firebase/auth",w2="@firebase/auth-compat",A2="@firebase/database",x2="@firebase/data-connect",R2="@firebase/database-compat",C2="@firebase/functions",I2="@firebase/functions-compat",D2="@firebase/installations",O2="@firebase/installations-compat",M2="@firebase/messaging",k2="@firebase/messaging-compat",N2="@firebase/performance",P2="@firebase/performance-compat",V2="@firebase/remote-config",L2="@firebase/remote-config-compat",U2="@firebase/storage",z2="@firebase/storage-compat",j2="@firebase/firestore",B2="@firebase/ai",H2="@firebase/firestore-compat",F2="firebase",q2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="[DEFAULT]",G2={[sp]:"fire-core",[_2]:"fire-core-compat",[b2]:"fire-analytics",[v2]:"fire-analytics-compat",[T2]:"fire-app-check",[E2]:"fire-app-check-compat",[S2]:"fire-auth",[w2]:"fire-auth-compat",[A2]:"fire-rtdb",[x2]:"fire-data-connect",[R2]:"fire-rtdb-compat",[C2]:"fire-fn",[I2]:"fire-fn-compat",[D2]:"fire-iid",[O2]:"fire-iid-compat",[M2]:"fire-fcm",[k2]:"fire-fcm-compat",[N2]:"fire-perf",[P2]:"fire-perf-compat",[V2]:"fire-rc",[L2]:"fire-rc-compat",[U2]:"fire-gcs",[z2]:"fire-gcs-compat",[j2]:"fire-fst",[H2]:"fire-fst-compat",[B2]:"fire-vertex","fire-js":"fire-js",[F2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,Y2=new Map,ap=new Map;function Tb(n,t){try{n.container.addComponent(t)}catch(e){bs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Uo(n){const t=n.name;if(ap.has(t))return bs.debug(`There were multiple attempts to register component ${t}.`),!1;ap.set(t,n);for(const e of Af.values())Tb(e,n);for(const e of Y2.values())Tb(e,n);return!0}function Bp(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Gn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new rc("app","Firebase",K2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=q2;function bS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:rp,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw hr.create("bad-app-name",{appName:String(r)});if(e||(e=gS()),!e)throw hr.create("no-options");const o=Af.get(r);if(o){if(va(e,o.options)&&va(i,o.config))return o;throw hr.create("duplicate-app",{appName:r})}const u=new t2(r);for(const f of ap.values())u.addComponent(f);const h=new W2(e,i,u);return Af.set(r,h),h}function ES(n=rp){const t=Af.get(n);if(!t&&n===rp&&gS())return bS();if(!t)throw hr.create("no-app",{appName:n});return t}function fr(n,t,e){var i;let r=(i=G2[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bs.warn(h.join(" "));return}Uo(new ba(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="firebase-heartbeat-database",X2=1,Bu="firebase-heartbeat-store";let Lm=null;function TS(){return Lm||(Lm=d2($2,X2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Bu)}catch(e){console.warn(e)}}}}).catch(n=>{throw hr.create("idb-open",{originalErrorMessage:n.message})})),Lm}async function Q2(n){try{const e=(await TS()).transaction(Bu),i=await e.objectStore(Bu).get(SS(n));return await e.done,i}catch(t){if(t instanceof xs)bs.warn(t.message);else{const e=hr.create("idb-get",{originalErrorMessage:t?.message});bs.warn(e.message)}}}async function Sb(n,t){try{const i=(await TS()).transaction(Bu,"readwrite");await i.objectStore(Bu).put(t,SS(n)),await i.done}catch(e){if(e instanceof xs)bs.warn(e.message);else{const i=hr.create("idb-set",{originalErrorMessage:e?.message});bs.warn(i.message)}}}function SS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=1024,J2=30;class tI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new nI(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wb();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>J2){const u=iI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){bs.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wb(),{heartbeatsToSend:i,unsentEntries:r}=eI(this._heartbeatsCache.heartbeats),o=wf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bs.warn(e),""}}}function wb(){return new Date().toISOString().substring(0,10)}function eI(n,t=Z2){const e=[];let i=n.slice();for(const r of n){const o=e.find(u=>u.agent===r.agent);if(o){if(o.dates.push(r.date),Ab(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Ab(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class nI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HC()?FC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Q2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Sb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Sb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Ab(n){return wf(JSON.stringify({version:2,heartbeats:n})).length}function iI(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(n){Uo(new ba("platform-logger",t=>new p2(t),"PRIVATE")),Uo(new ba("heartbeat",t=>new tI(t),"PRIVATE")),fr(sp,Eb,n),fr(sp,Eb,"esm2017"),fr("fire-js","")}sI("");function Hp(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function wS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rI=wS,AS=new rc("auth","Firebase",wS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new zp("@firebase/auth");function aI(n,...t){xf.logLevel<=Pt.WARN&&xf.warn(`Auth (${$o}): ${n}`,...t)}function hf(n,...t){xf.logLevel<=Pt.ERROR&&xf.error(`Auth (${$o}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(n,...t){throw Fp(n,...t)}function Ri(n,...t){return Fp(n,...t)}function xS(n,t,e){const i=Object.assign(Object.assign({},rI()),{[t]:e});return new rc("auth","Firebase",i).create(t,{appName:n.name})}function ps(n){return xS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return AS.create(n,...t)}function Tt(n,t,...e){if(!n)throw Fp(t,...e)}function ds(n){const t="INTERNAL ASSERTION FAILED: "+n;throw hf(t),new Error(t)}function Es(n,t){n||ds(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function oI(){return xb()==="http:"||xb()==="https:"}function xb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oI()||UC()||"connection"in navigator)?navigator.onLine:!0}function uI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Es(e>t,"Short delay should be less than long delay!"),this.isMobile=PC()||zC()}get(){return lI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n,t){Es(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fI=new oc(3e4,6e4);function wr(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Ar(n,t,e,i,r={}){return CS(n,r,async()=>{let o={},u={};i&&(t==="GET"?u=i:o={body:JSON.stringify(i)});const h=ac(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:f},o);return LC()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Wo(n.emulatorConfig.host)&&(g.credentials="include"),RS.fetch()(await IS(n,n.config.apiHost,e,h),g)})}async function CS(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},cI),t);try{const r=new gI(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Fh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Fh(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Fh(n,"user-disabled",u);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw xS(n,y,g);ii(n,y)}}catch(r){if(r instanceof xs)throw r;ii(n,"network-request-failed",{message:String(r)})}}async function lc(n,t,e,i,r={}){const o=await Ar(n,t,e,i,r);return"mfaPendingCredential"in o&&ii(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function IS(n,t,e,i){const r=`${t}${e}?${i}`,o=n,u=o.config.emulator?qp(n.config,r):`${n.config.apiScheme}://${r}`;return hI.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function dI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ri(this.auth,"network-request-failed")),fI.get())})}}function Fh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Ri(n,t,i);return r.customData._tokenResponse=e,r}function Rb(n){return n!==void 0&&n.enterprise!==void 0}class mI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return dI(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pI(n,t){return Ar(n,"GET","/v2/recaptchaConfig",wr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(n,t){return Ar(n,"POST","/v1/accounts:delete",t)}async function Rf(n,t){return Ar(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _I(n,t=!1){const e=bn(n),i=await e.getIdToken(t),r=Gp(i);Tt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,u=o?.sign_in_provider;return{claims:r,token:i,authTime:Du(Um(r.auth_time)),issuedAtTime:Du(Um(r.iat)),expirationTime:Du(Um(r.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Um(n){return Number(n)*1e3}function Gp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const r=fS(e);return r?JSON.parse(r):(hf("Failed to decode base64 JWT payload"),null)}catch(r){return hf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Cb(n){const t=Gp(n);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof xs&&vI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function vI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Hu(n,Rf(e,{idToken:i}));Tt(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?DS(o.providerUserInfo):[],h=TI(n.providerData,u),f=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!h?.length,y=f?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function EI(n){const t=bn(n);await Cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function TI(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function DS(n){return n.map(t=>{var{providerId:e}=t,i=Hp(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(n,t){const e=await CS(n,{},async()=>{const i=ac({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,u=await IS(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&Wo(n.emulatorConfig.host)&&(f.credentials="include"),RS.fetch()(u,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function wI(n,t){return Ar(n,"POST","/v2/accounts:revokeToken",wr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Cb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const e=Cb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await SI(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,u=new ko;return i&&(Tt(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),r&&(Tt(typeof r=="string","internal-error",{appName:t}),u.accessToken=r),o&&(Tt(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,t){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ei{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=Hp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Hu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return _I(this,t)}reload(){return EI(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ei(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Cf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(ps(this.auth));const t=await this.getIdToken();return await Hu(this,yI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,u,h,f,g,y;const v=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(r=e.email)!==null&&r!==void 0?r:void 0,S=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=e.photoURL)!==null&&u!==void 0?u:void 0,I=(h=e.tenantId)!==null&&h!==void 0?h:void 0,C=(f=e._redirectEventId)!==null&&f!==void 0?f:void 0,M=(g=e.createdAt)!==null&&g!==void 0?g:void 0,F=(y=e.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:W,emailVerified:et,isAnonymous:tt,providerData:ut,stsTokenManager:P}=e;Tt(W&&P,t,"internal-error");const R=ko.fromJSON(this.name,P);Tt(typeof W=="string",t,"internal-error"),nr(v,t.name),nr(b,t.name),Tt(typeof et=="boolean",t,"internal-error"),Tt(typeof tt=="boolean",t,"internal-error"),nr(S,t.name),nr(A,t.name),nr(I,t.name),nr(C,t.name),nr(M,t.name),nr(F,t.name);const D=new ei({uid:W,auth:t,email:b,emailVerified:et,displayName:v,isAnonymous:tt,photoURL:A,phoneNumber:S,tenantId:I,stsTokenManager:R,createdAt:M,lastLoginAt:F});return ut&&Array.isArray(ut)&&(D.providerData=ut.map(k=>Object.assign({},k))),C&&(D._redirectEventId=C),D}static async _fromIdTokenResponse(t,e,i=!1){const r=new ko;r.updateFromServerResponse(e);const o=new ei({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Cf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Tt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?DS(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!o?.length,h=new ko;h.updateFromIdToken(i);const f=new ei({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:u}),g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new lp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;function gs(n){Es(n instanceof Function,"Expected a class definition");let t=Ib.get(n);return t?(Es(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Ib.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}OS.type="NONE";const Db=OS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(n,t,e){return`firebase:${n}:${t}:${e}`}class No{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=ff(this.userKey,r.apiKey,o),this.fullPersistenceKey=ff("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Rf(this.auth,{idToken:t}).catch(()=>{});return e?ei._fromGetAccountInfoResponse(this.auth,e,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new No(gs(Db),t,i);const r=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=r[0]||gs(Db);const u=ff(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const y=await g._get(u);if(y){let v;if(typeof y=="string"){const b=await Rf(t,{idToken:y}).catch(()=>{});if(!b)break;v=await ei._fromGetAccountInfoResponse(t,b,y)}else v=ei._fromJSON(t,y);g!==o&&(h=v),o=g;break}}catch{}const f=r.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new No(o,t,i):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new No(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LS(t))return"Blackberry";if(US(t))return"Webos";if(kS(t))return"Safari";if((t.includes("chrome/")||NS(t))&&!t.includes("edge/"))return"Chrome";if(VS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function MS(n=ln()){return/firefox\//i.test(n)}function kS(n=ln()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function NS(n=ln()){return/crios\//i.test(n)}function PS(n=ln()){return/iemobile/i.test(n)}function VS(n=ln()){return/android/i.test(n)}function LS(n=ln()){return/blackberry/i.test(n)}function US(n=ln()){return/webos/i.test(n)}function Yp(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AI(n=ln()){var t;return Yp(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function xI(){return jC()&&document.documentMode===10}function zS(n=ln()){return Yp(n)||VS(n)||US(n)||LS(n)||/windows phone/i.test(n)||PS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n,t=[]){let e;switch(n){case"Browser":e=Ob(ln());break;case"Worker":e=`${Ob(ln())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${$o}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((u,h)=>{try{const f=t(o);u(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(n,t={}){return Ar(n,"GET","/v2/passwordPolicy",wr(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=6;class DI{constructor(t){var e,i,r,o;const u=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=u.minPasswordLength)!==null&&e!==void 0?e:II,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(e=f.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mb(this),this.idTokenSubscription=new Mb(this),this.beforeStateQueue=new RI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=gs(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await No.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Rf(this,{idToken:t}),i=await ei._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Gn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r?._redirectEventId,f=await this.tryRedirectSignIn(t);(!u||u===h)&&f?.user&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Cf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gn(this.app))return Promise.reject(ps(this));const e=t?bn(t):null;return e&&Tt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await CI(this),e=new DI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new rc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await wI(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&gs(t)||this._popupRedirectResolver;Tt(e,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[gs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{u=!0,f()}}else{const f=t.addObserver(e);return()=>{u=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e?.error&&aI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ra(n){return bn(n)}class Mb{constructor(t){this.auth=t,this.observer=null,this.addObserver=WC(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MI(n){rd=n}function BS(n){return rd.loadJS(n)}function kI(){return rd.recaptchaEnterpriseScript}function NI(){return rd.gapiScript}function PI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class VI{constructor(){this.enterprise=new LI}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class LI{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const UI="recaptcha-enterprise",HS="NO_RECAPTCHA";class zI{constructor(t){this.type=UI,this.auth=Ra(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{pI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new mI(f);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,u(g.siteKey)}}).catch(f=>{h(f)})})}function r(o,u,h){const f=window.grecaptcha;Rb(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(g=>{u(g)}).catch(()=>{u(HS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VI().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!e&&Rb(window.grecaptcha))r(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=kI();f.length!==0&&(f+=h),BS(f).then(()=>{r(h,o,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function kb(n,t,e,i=!1,r=!1){const o=new zI(n);let u;if(r)u=HS;else try{u=await o.verify(e)}catch{u=await o.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function up(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await kb(n,t,e,e==="getOobCode");return i(n,u)}else return i(n,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await kb(n,t,e,e==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(n,t){const e=Bp(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(va(o,t??{}))return r;ii(r,"already-initialized")}return e.initialize({options:t})}function BI(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(gs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function HI(n,t,e){const i=Ra(n);Tt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=FS(t),{host:u,port:h}=FI(t),f=h===null?"":`:${h}`,g={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Tt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Tt(va(g,i.config.emulator)&&va(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Wo(u)?(pS(`${o}//${u}${f}`),yS("Auth",!0)):qI()}function FS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function FI(n){const t=FS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Nb(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:Nb(u)}}}function Nb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function qI(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ds("not implemented")}_getIdTokenResponse(t){return ds("not implemented")}_linkToIdToken(t,e){return ds("not implemented")}_getReauthenticationResolver(t){return ds("not implemented")}}async function GI(n,t){return Ar(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n,t){return lc(n,"POST","/v1/accounts:signInWithPassword",wr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(n,t){return lc(n,"POST","/v1/accounts:signInWithEmailLink",wr(n,t))}async function WI(n,t){return lc(n,"POST","/v1/accounts:signInWithEmailLink",wr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends Kp{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Fu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Fu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(t,e,"signInWithPassword",YI);case"emailLink":return KI(t,{email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(t,i,"signUpPassword",GI);case"emailLink":return WI(t,{idToken:e,email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(n,t){return lc(n,"POST","/v1/accounts:signInWithIdp",wr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="http://localhost";class Ea extends Kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ii("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=Hp(e,["providerId","signInMethod"]);if(!i||!r)return null;const u=new Ea(i,r);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Po(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Po(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Po(t,e)}buildRequest(){const t={requestUri:$I,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ac(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QI(n){const t=vu(bu(n)).link,e=t?vu(bu(t)).deep_link_id:null,i=vu(bu(n)).deep_link_id;return(i?vu(bu(i)).link:null)||i||e||t||n}class Wp{constructor(t){var e,i,r,o,u,h;const f=vu(bu(t)),g=(e=f.apiKey)!==null&&e!==void 0?e:null,y=(i=f.oobCode)!==null&&i!==void 0?i:null,v=XI((r=f.mode)!==null&&r!==void 0?r:null);Tt(g&&y&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=QI(t);try{return new Wp(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(t,e){return Fu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Wp.parseLink(e);return Tt(i,"argument-error"),Fu._fromEmailAndCode(t,i.code,i.tenantId)}}Xo.PROVIDER_ID="password";Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends qS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends uc{constructor(){super("facebook.com")}static credential(t){return Ea._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ea._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return sr.credential(e,i)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends uc{constructor(){super("github.com")}static credential(t){return Ea._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends uc{constructor(){super("twitter.com")}static credential(t,e){return Ea._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return ar.credential(e,i)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(n,t){return lc(n,"POST","/v1/accounts:signUp",wr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await ei._fromIdTokenResponse(t,i,r),u=Pb(i);return new Ta({user:o,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=Pb(i);return new Ta({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function Pb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends xs{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,If.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new If(t,e,i,r)}}function GS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(n,o,t,i):o})}async function JI(n,t,e=!1){const i=await Hu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ta._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(n,t,e=!1){const{auth:i}=n;if(Gn(i.app))return Promise.reject(ps(i));const r="reauthenticate";try{const o=await Hu(n,GS(i,r,t,n),e);Tt(o.idToken,i,"internal-error");const u=Gp(o.idToken);Tt(u,i,"internal-error");const{sub:h}=u;return Tt(n.uid===h,i,"user-mismatch"),Ta._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ii(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(n,t,e=!1){if(Gn(n.app))return Promise.reject(ps(n));const i="signIn",r=await GS(n,i,t),o=await Ta._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function eD(n,t){return YS(Ra(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(n){const t=Ra(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function nD(n,t,e){if(Gn(n.app))return Promise.reject(ps(n));const i=Ra(n),u=await up(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZI).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&KS(n),f}),h=await Ta._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function iD(n,t,e){return Gn(n.app)?Promise.reject(ps(n)):eD(bn(n),Xo.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&KS(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n,t){return bn(n).setPersistence(t)}function rD(n,t,e,i){return bn(n).onIdTokenChanged(t,e,i)}function aD(n,t,e){return bn(n).beforeAuthStateChanged(t,e)}function oD(n,t,e,i){return bn(n).onAuthStateChanged(t,e,i)}function lD(n){return bn(n).signOut()}const Df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=1e3,cD=10;class $S extends WS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);xI()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,cD):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},uD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}$S.type="LOCAL";const hD=$S;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS extends WS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}XS.type="SESSION";const $p=XS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new ad(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,u=this.handlersMap[r];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(u).map(async g=>g(e.origin,o)),f=await fD(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const g=Xp("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function gD(n){Ci().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function mD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pD(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function yD(){return QS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firebaseLocalStorageDb",_D=1,Of="firebaseLocalStorage",JS="fbase_key";class cc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function od(n,t){return n.transaction([Of],t?"readwrite":"readonly").objectStore(Of)}function vD(){const n=indexedDB.deleteDatabase(ZS);return new cc(n).toPromise()}function cp(){const n=indexedDB.open(ZS,_D);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Of,{keyPath:JS})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Of)?t(i):(i.close(),await vD(),t(await cp()))})})}async function Vb(n,t,e){const i=od(n,!0).put({[JS]:t,value:e});return new cc(i).toPromise()}async function bD(n,t){const e=od(n,!1).get(t),i=await new cc(e).toPromise();return i===void 0?null:i.value}function Lb(n,t){const e=od(n,!0).delete(t);return new cc(e).toPromise()}const ED=800,TD=3;class tw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>TD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(yD()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await mD(),!this.activeServiceWorker)return;this.sender=new dD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cp();return await Vb(t,Df,"1"),await Lb(t,Df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Vb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>bD(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Lb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=od(r,!1).getAll();return new cc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ED)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tw.type="LOCAL";const SD=tw;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(n,t){return t?gs(t):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Kp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Po(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Po(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Po(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function AD(n){return YS(n.auth,new Qp(n),n.bypassAuthState)}function xD(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),tD(e,new Qp(n),n.bypassAuthState)}async function RD(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),JI(e,new Qp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:u,type:h}=t;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return AD;case"linkViaPopup":case"linkViaRedirect":return RD;case"reauthViaPopup":case"reauthViaRedirect":return xD;default:ii(this.auth,"internal-error")}}resolve(t){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new oc(2e3,1e4);class Mo extends ew{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const t=Xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,CD.get())};t()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="pendingRedirect",df=new Map;class DD extends ew{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=df.get(this.auth._key());if(!t){try{const i=await OD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}df.set(this.auth._key(),t)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OD(n,t){const e=ND(t),i=kD(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function MD(n,t){df.set(n._key(),t)}function kD(n){return gs(n._redirectPersistence)}function ND(n){return ff(ID,n.config.apiKey,n.name)}async function PD(n,t,e=!1){if(Gn(n.app))return Promise.reject(ps(n));const i=Ra(n),r=wD(i,t),u=await new DD(i,r,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=10*60*1e3;class LD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!UD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!nw(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Ri(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=VD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ub(t))}saveEventToCache(t){this.cachedEventUids.add(Ub(t)),this.lastProcessedEventTime=Date.now()}}function Ub(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function nw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function UD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n,t={}){return Ar(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BD=/^https?/;async function HD(n){if(n.config.emulator)return;const{authorizedDomains:t}=await zD(n);for(const e of t)try{if(FD(e))return}catch{}ii(n,"unauthorized-domain")}function FD(n){const t=op(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!BD.test(e))return!1;if(jD.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new oc(3e4,6e4);function zb(){const n=Ci().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function GD(n){return new Promise((t,e)=>{var i,r,o;function u(){zb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zb(),e(Ri(n,"network-request-failed"))},timeout:qD.get()})}if(!((r=(i=Ci().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Ci().gapi)===null||o===void 0)&&o.load)u();else{const h=PI("iframefcb");return Ci()[h]=()=>{gapi.load?u():e(Ri(n,"network-request-failed"))},BS(`${NI()}?onload=${h}`).catch(f=>e(f))}}).catch(t=>{throw gf=null,t})}let gf=null;function YD(n){return gf=gf||GD(n),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new oc(5e3,15e3),WD="__/auth/iframe",$D="emulator/auth/iframe",XD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZD(n){const t=n.config;Tt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?qp(t,$D):`https://${n.config.authDomain}/${WD}`,i={apiKey:t.apiKey,appName:n.name,v:$o},r=QD.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${ac(i).slice(1)}`}async function JD(n){const t=await YD(n),e=Ci().gapi;return Tt(e,n,"internal-error"),t.open({where:document.body,url:ZD(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XD,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const u=Ri(n,"network-request-failed"),h=Ci().setTimeout(()=>{o(u)},KD.get());function f(){Ci().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eO=500,nO=600,iO="_blank",sO="http://localhost";class jb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rO(n,t,e,i=eO,r=nO){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},tO),{width:i.toString(),height:r.toString(),top:o,left:u}),g=ln().toLowerCase();e&&(h=NS(g)?iO:e),MS(g)&&(t=t||sO,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[S,A])=>`${b}${S}=${A},`,"");if(AI(g)&&h!=="_self")return aO(t||"",h),new jb(null);const v=window.open(t||"",h,y);Tt(v,n,"popup-blocked");try{v.focus()}catch{}return new jb(v)}function aO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="__/auth/handler",lO="emulator/auth/handler",uO=encodeURIComponent("fac");async function Bb(n,t,e,i,r,o){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:$o,eventId:r};if(t instanceof qS){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",KC(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(t instanceof uc){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),g=f?`#${uO}=${encodeURIComponent(f)}`:"";return`${cO(n)}?${ac(h).slice(1)}${g}`}function cO({config:n}){return n.emulator?qp(n,lO):`https://${n.authDomain}/${oO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class hO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$p,this._completeRedirectFn=PD,this._overrideRedirectResult=MD}async _openPopup(t,e,i,r){var o;Es((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Bb(t,e,i,op(),r);return rO(t,u,Xp())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await Bb(t,e,i,op(),r);return gD(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Es(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await JD(t),i=new LD(t);return e.register("authEvent",r=>(Tt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(zm,{type:zm},r=>{var o;const u=(o=r?.[0])===null||o===void 0?void 0:o[zm];u!==void 0&&e(!!u),ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=HD(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return zS()||kS()||Yp()}}const fO=hO;var Hb="@firebase/auth",Fb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mO(n){Uo(new ba("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Tt(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jS(n)},g=new OI(i,r,o,f);return BI(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Uo(new ba("auth-internal",t=>{const e=Ra(t.getProvider("auth").getImmediate());return(i=>new dO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(Hb,Fb,gO(n)),fr(Hb,Fb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=5*60,yO=mS("authIdTokenMaxAge")||pO;let qb=null;const _O=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>yO)return;const r=e?.token;qb!==r&&(qb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function vO(n=ES()){const t=Bp(n,"auth");if(t.isInitialized())return t.getImmediate();const e=jI(n,{popupRedirectResolver:fO,persistence:[SD,hD,$p]}),i=mS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=_O(o.toString());aD(e,u,()=>u(e.currentUser)),rD(e,h=>u(h))}}const r=dS("auth");return r&&HI(e,`http://${r}`),e}function bO(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}MI({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Ri("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",bO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mO("Browser");var EO="firebase",TO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(EO,TO,"app");var Gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dr,iw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,R){function D(){}D.prototype=R.prototype,P.D=R.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(k,V,U){for(var O=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)O[Ft-2]=arguments[Ft];return R.prototype[V].apply(k,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(P,R,D){D||(D=0);var k=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)k[V]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(V=0;16>V;++V)k[V]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=P.g[0],D=P.g[1],V=P.g[2];var U=P.g[3],O=R+(U^D&(V^U))+k[0]+3614090360&4294967295;R=D+(O<<7&4294967295|O>>>25),O=U+(V^R&(D^V))+k[1]+3905402710&4294967295,U=R+(O<<12&4294967295|O>>>20),O=V+(D^U&(R^D))+k[2]+606105819&4294967295,V=U+(O<<17&4294967295|O>>>15),O=D+(R^V&(U^R))+k[3]+3250441966&4294967295,D=V+(O<<22&4294967295|O>>>10),O=R+(U^D&(V^U))+k[4]+4118548399&4294967295,R=D+(O<<7&4294967295|O>>>25),O=U+(V^R&(D^V))+k[5]+1200080426&4294967295,U=R+(O<<12&4294967295|O>>>20),O=V+(D^U&(R^D))+k[6]+2821735955&4294967295,V=U+(O<<17&4294967295|O>>>15),O=D+(R^V&(U^R))+k[7]+4249261313&4294967295,D=V+(O<<22&4294967295|O>>>10),O=R+(U^D&(V^U))+k[8]+1770035416&4294967295,R=D+(O<<7&4294967295|O>>>25),O=U+(V^R&(D^V))+k[9]+2336552879&4294967295,U=R+(O<<12&4294967295|O>>>20),O=V+(D^U&(R^D))+k[10]+4294925233&4294967295,V=U+(O<<17&4294967295|O>>>15),O=D+(R^V&(U^R))+k[11]+2304563134&4294967295,D=V+(O<<22&4294967295|O>>>10),O=R+(U^D&(V^U))+k[12]+1804603682&4294967295,R=D+(O<<7&4294967295|O>>>25),O=U+(V^R&(D^V))+k[13]+4254626195&4294967295,U=R+(O<<12&4294967295|O>>>20),O=V+(D^U&(R^D))+k[14]+2792965006&4294967295,V=U+(O<<17&4294967295|O>>>15),O=D+(R^V&(U^R))+k[15]+1236535329&4294967295,D=V+(O<<22&4294967295|O>>>10),O=R+(V^U&(D^V))+k[1]+4129170786&4294967295,R=D+(O<<5&4294967295|O>>>27),O=U+(D^V&(R^D))+k[6]+3225465664&4294967295,U=R+(O<<9&4294967295|O>>>23),O=V+(R^D&(U^R))+k[11]+643717713&4294967295,V=U+(O<<14&4294967295|O>>>18),O=D+(U^R&(V^U))+k[0]+3921069994&4294967295,D=V+(O<<20&4294967295|O>>>12),O=R+(V^U&(D^V))+k[5]+3593408605&4294967295,R=D+(O<<5&4294967295|O>>>27),O=U+(D^V&(R^D))+k[10]+38016083&4294967295,U=R+(O<<9&4294967295|O>>>23),O=V+(R^D&(U^R))+k[15]+3634488961&4294967295,V=U+(O<<14&4294967295|O>>>18),O=D+(U^R&(V^U))+k[4]+3889429448&4294967295,D=V+(O<<20&4294967295|O>>>12),O=R+(V^U&(D^V))+k[9]+568446438&4294967295,R=D+(O<<5&4294967295|O>>>27),O=U+(D^V&(R^D))+k[14]+3275163606&4294967295,U=R+(O<<9&4294967295|O>>>23),O=V+(R^D&(U^R))+k[3]+4107603335&4294967295,V=U+(O<<14&4294967295|O>>>18),O=D+(U^R&(V^U))+k[8]+1163531501&4294967295,D=V+(O<<20&4294967295|O>>>12),O=R+(V^U&(D^V))+k[13]+2850285829&4294967295,R=D+(O<<5&4294967295|O>>>27),O=U+(D^V&(R^D))+k[2]+4243563512&4294967295,U=R+(O<<9&4294967295|O>>>23),O=V+(R^D&(U^R))+k[7]+1735328473&4294967295,V=U+(O<<14&4294967295|O>>>18),O=D+(U^R&(V^U))+k[12]+2368359562&4294967295,D=V+(O<<20&4294967295|O>>>12),O=R+(D^V^U)+k[5]+4294588738&4294967295,R=D+(O<<4&4294967295|O>>>28),O=U+(R^D^V)+k[8]+2272392833&4294967295,U=R+(O<<11&4294967295|O>>>21),O=V+(U^R^D)+k[11]+1839030562&4294967295,V=U+(O<<16&4294967295|O>>>16),O=D+(V^U^R)+k[14]+4259657740&4294967295,D=V+(O<<23&4294967295|O>>>9),O=R+(D^V^U)+k[1]+2763975236&4294967295,R=D+(O<<4&4294967295|O>>>28),O=U+(R^D^V)+k[4]+1272893353&4294967295,U=R+(O<<11&4294967295|O>>>21),O=V+(U^R^D)+k[7]+4139469664&4294967295,V=U+(O<<16&4294967295|O>>>16),O=D+(V^U^R)+k[10]+3200236656&4294967295,D=V+(O<<23&4294967295|O>>>9),O=R+(D^V^U)+k[13]+681279174&4294967295,R=D+(O<<4&4294967295|O>>>28),O=U+(R^D^V)+k[0]+3936430074&4294967295,U=R+(O<<11&4294967295|O>>>21),O=V+(U^R^D)+k[3]+3572445317&4294967295,V=U+(O<<16&4294967295|O>>>16),O=D+(V^U^R)+k[6]+76029189&4294967295,D=V+(O<<23&4294967295|O>>>9),O=R+(D^V^U)+k[9]+3654602809&4294967295,R=D+(O<<4&4294967295|O>>>28),O=U+(R^D^V)+k[12]+3873151461&4294967295,U=R+(O<<11&4294967295|O>>>21),O=V+(U^R^D)+k[15]+530742520&4294967295,V=U+(O<<16&4294967295|O>>>16),O=D+(V^U^R)+k[2]+3299628645&4294967295,D=V+(O<<23&4294967295|O>>>9),O=R+(V^(D|~U))+k[0]+4096336452&4294967295,R=D+(O<<6&4294967295|O>>>26),O=U+(D^(R|~V))+k[7]+1126891415&4294967295,U=R+(O<<10&4294967295|O>>>22),O=V+(R^(U|~D))+k[14]+2878612391&4294967295,V=U+(O<<15&4294967295|O>>>17),O=D+(U^(V|~R))+k[5]+4237533241&4294967295,D=V+(O<<21&4294967295|O>>>11),O=R+(V^(D|~U))+k[12]+1700485571&4294967295,R=D+(O<<6&4294967295|O>>>26),O=U+(D^(R|~V))+k[3]+2399980690&4294967295,U=R+(O<<10&4294967295|O>>>22),O=V+(R^(U|~D))+k[10]+4293915773&4294967295,V=U+(O<<15&4294967295|O>>>17),O=D+(U^(V|~R))+k[1]+2240044497&4294967295,D=V+(O<<21&4294967295|O>>>11),O=R+(V^(D|~U))+k[8]+1873313359&4294967295,R=D+(O<<6&4294967295|O>>>26),O=U+(D^(R|~V))+k[15]+4264355552&4294967295,U=R+(O<<10&4294967295|O>>>22),O=V+(R^(U|~D))+k[6]+2734768916&4294967295,V=U+(O<<15&4294967295|O>>>17),O=D+(U^(V|~R))+k[13]+1309151649&4294967295,D=V+(O<<21&4294967295|O>>>11),O=R+(V^(D|~U))+k[4]+4149444226&4294967295,R=D+(O<<6&4294967295|O>>>26),O=U+(D^(R|~V))+k[11]+3174756917&4294967295,U=R+(O<<10&4294967295|O>>>22),O=V+(R^(U|~D))+k[2]+718787259&4294967295,V=U+(O<<15&4294967295|O>>>17),O=D+(U^(V|~R))+k[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+U&4294967295}i.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var D=R-this.blockSize,k=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=D;)r(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<R;)if(k[V++]=P.charCodeAt(U++),V==this.blockSize){r(this,k),V=0;break}}else for(;U<R;)if(k[V++]=P[U++],V==this.blockSize){r(this,k),V=0;break}}this.h=V,this.o+=R},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var D=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=D&255,D/=256;for(this.u(P),P=Array(16),R=D=0;4>R;++R)for(var k=0;32>k;k+=8)P[D++]=this.g[R]>>>k&255;return P};function o(P,R){var D=h;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=R(P)}function u(P,R){this.h=R;for(var D=[],k=!0,V=P.length-1;0<=V;V--){var U=P[V]|0;k&&U==R||(D[V]=U,k=!1)}this.g=D}var h={};function f(P){return-128<=P&&128>P?o(P,function(R){return new u([R|0],0>R?-1:0)}):new u([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return C(g(-P));for(var R=[],D=1,k=0;P>=D;k++)R[k]=P/D|0,D*=4294967296;return new u(R,0)}function y(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return C(y(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(R,8)),k=v,V=0;V<P.length;V+=8){var U=Math.min(8,P.length-V),O=parseInt(P.substring(V,V+U),R);8>U?(U=g(Math.pow(R,U)),k=k.j(U).add(g(O))):(k=k.j(D),k=k.add(g(O)))}return k}var v=f(0),b=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(I(this))return-C(this).m();for(var P=0,R=1,D=0;D<this.g.length;D++){var k=this.i(D);P+=(0<=k?k:4294967296+k)*R,R*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A(this))return"0";if(I(this))return"-"+C(this).toString(P);for(var R=g(Math.pow(P,6)),D=this,k="";;){var V=et(D,R).g;D=M(D,V.j(R));var U=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=V,A(D))return U+k;for(;6>U.length;)U="0"+U;k=U+k}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function A(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function I(P){return P.h==-1}n.l=function(P){return P=M(this,P),I(P)?-1:A(P)?0:1};function C(P){for(var R=P.g.length,D=[],k=0;k<R;k++)D[k]=~P.g[k];return new u(D,~P.h).add(b)}n.abs=function(){return I(this)?C(this):this},n.add=function(P){for(var R=Math.max(this.g.length,P.g.length),D=[],k=0,V=0;V<=R;V++){var U=k+(this.i(V)&65535)+(P.i(V)&65535),O=(U>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);k=O>>>16,U&=65535,O&=65535,D[V]=O<<16|U}return new u(D,D[D.length-1]&-2147483648?-1:0)};function M(P,R){return P.add(C(R))}n.j=function(P){if(A(this)||A(P))return v;if(I(this))return I(P)?C(this).j(C(P)):C(C(this).j(P));if(I(P))return C(this.j(C(P)));if(0>this.l(S)&&0>P.l(S))return g(this.m()*P.m());for(var R=this.g.length+P.g.length,D=[],k=0;k<2*R;k++)D[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<P.g.length;V++){var U=this.i(k)>>>16,O=this.i(k)&65535,Ft=P.i(V)>>>16,vt=P.i(V)&65535;D[2*k+2*V]+=O*vt,F(D,2*k+2*V),D[2*k+2*V+1]+=U*vt,F(D,2*k+2*V+1),D[2*k+2*V+1]+=O*Ft,F(D,2*k+2*V+1),D[2*k+2*V+2]+=U*Ft,F(D,2*k+2*V+2)}for(k=0;k<R;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=R;k<2*R;k++)D[k]=0;return new u(D,0)};function F(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function W(P,R){this.g=P,this.h=R}function et(P,R){if(A(R))throw Error("division by zero");if(A(P))return new W(v,v);if(I(P))return R=et(C(P),R),new W(C(R.g),C(R.h));if(I(R))return R=et(P,C(R)),new W(C(R.g),R.h);if(30<P.g.length){if(I(P)||I(R))throw Error("slowDivide_ only works with positive integers.");for(var D=b,k=R;0>=k.l(P);)D=tt(D),k=tt(k);var V=ut(D,1),U=ut(k,1);for(k=ut(k,2),D=ut(D,2);!A(k);){var O=U.add(k);0>=O.l(P)&&(V=V.add(D),U=O),k=ut(k,1),D=ut(D,1)}return R=M(P,V.j(R)),new W(V,R)}for(V=v;0<=P.l(R);){for(D=Math.max(1,Math.floor(P.m()/R.m())),k=Math.ceil(Math.log(D)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),U=g(D),O=U.j(R);I(O)||0<O.l(P);)D-=k,U=g(D),O=U.j(R);A(U)&&(U=b),V=V.add(U),P=M(P,O)}return new W(V,P)}n.A=function(P){return et(this,P).h},n.and=function(P){for(var R=Math.max(this.g.length,P.g.length),D=[],k=0;k<R;k++)D[k]=this.i(k)&P.i(k);return new u(D,this.h&P.h)},n.or=function(P){for(var R=Math.max(this.g.length,P.g.length),D=[],k=0;k<R;k++)D[k]=this.i(k)|P.i(k);return new u(D,this.h|P.h)},n.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),D=[],k=0;k<R;k++)D[k]=this.i(k)^P.i(k);return new u(D,this.h^P.h)};function tt(P){for(var R=P.g.length+1,D=[],k=0;k<R;k++)D[k]=P.i(k)<<1|P.i(k-1)>>>31;return new u(D,P.h)}function ut(P,R){var D=R>>5;R%=32;for(var k=P.g.length-D,V=[],U=0;U<k;U++)V[U]=0<R?P.i(U+D)>>>R|P.i(U+D+1)<<32-R:P.i(U+D);return new u(V,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,iw=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,dr=u}).apply(typeof Gb<"u"?Gb:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sw,Eu,rw,mf,hp,aw,ow,lw;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(d,_){if(_)t:{var E=i;d=d.split(".");for(var x=0;x<d.length-1;x++){var B=d[x];if(!(B in E))break t;E=E[B]}d=d[d.length-1],x=E[d],_=_(x),_!=x&&_!=null&&t(E,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var E=0,x=!1,B={next:function(){if(!x&&E<d.length){var Q=E++;return{value:_(Q,d[Q]),done:!1}}return x=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}r("Array.prototype.values",function(d){return d||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function g(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,E){return d.call.apply(d.bind,arguments)}function v(d,_,E){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,x),d.apply(_,B)}}return function(){return d.apply(_,arguments)}}function b(d,_,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,b.apply(null,arguments)}function S(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function A(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(x,B,Q){for(var lt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)lt[Lt-2]=arguments[Lt];return _.prototype[B].apply(x,lt)}}function I(d){const _=d.length;if(0<_){const E=Array(_);for(let x=0;x<_;x++)E[x]=d[x];return E}return[]}function C(d,_){for(let E=1;E<arguments.length;E++){const x=arguments[E];if(f(x)){const B=d.length||0,Q=x.length||0;d.length=B+Q;for(let lt=0;lt<Q;lt++)d[B+lt]=x[lt]}else d.push(x)}}class M{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function F(d){return/^[\s\xa0]*$/.test(d)}function W(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function et(d){return et[" "](d),d}et[" "]=function(){};var tt=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ut(d,_,E){for(const x in d)_.call(E,d[x],x,d)}function P(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function R(d){const _={};for(const E in d)_[E]=d[E];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,_){let E,x;for(let B=1;B<arguments.length;B++){x=arguments[B];for(E in x)d[E]=x[E];for(let Q=0;Q<D.length;Q++)E=D[Q],Object.prototype.hasOwnProperty.call(x,E)&&(d[E]=x[E])}}function V(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function U(d){h.setTimeout(()=>{throw d},0)}function O(){var d=wt;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Ft{constructor(){this.h=this.g=null}add(_,E){const x=vt.get();x.set(_,E),this.h?this.h.next=x:this.g=x,this.h=x}}var vt=new M(()=>new X,d=>d.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,wt=new Ft,L=()=>{const d=h.Promise.resolve(void 0);at=()=>{d.then(st)}};var st=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(E){U(E)}var _=vt;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}ft=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};h.addEventListener("test",E,_),h.removeEventListener("test",E,_)}catch{}return d}();function Rt(d,_){if(ot.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(tt){t:{try{et(_.nodeName);var B=!0;break t}catch{}B=!1}B||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:yt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Rt.aa.h.call(this)}}A(Rt,ot);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),ie=0;function ri(d,_,E,x,B){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!x,this.ha=B,this.key=++ie,this.da=this.fa=!1}function Rs(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Li(d){this.src=d,this.g={},this.h=0}Li.prototype.add=function(d,_,E,x,B){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var lt=Rr(d,_,x,B);return-1<lt?(_=d[lt],E||(_.fa=!1)):(_=new ri(_,this.src,Q,!!x,B),_.fa=E,d.push(_)),_};function xr(d,_){var E=_.type;if(E in d.g){var x=d.g[E],B=Array.prototype.indexOf.call(x,_,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(x,B,1),Q&&(Rs(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Rr(d,_,E,x){for(var B=0;B<d.length;++B){var Q=d[B];if(!Q.da&&Q.listener==_&&Q.capture==!!E&&Q.ha==x)return B}return-1}var Cr="closure_lm_"+(1e6*Math.random()|0),nl={};function _c(d,_,E,x,B){if(Array.isArray(_)){for(var Q=0;Q<_.length;Q++)_c(d,_[Q],E,x,B);return null}return E=vc(E),d&&d[Le]?d.K(_,E,g(x)?!!x.capture:!1,B):On(d,_,E,!1,x,B)}function On(d,_,E,x,B,Q){if(!_)throw Error("Invalid event type");var lt=g(B)?!!B.capture:!!B,Lt=ka(d);if(Lt||(d[Cr]=Lt=new Li(d)),E=Lt.add(_,E,x,lt,Q),E.proxy)return E;if(x=Ad(),E.proxy=x,x.src=d,x.listener=E,d.addEventListener)gt||(B=lt),B===void 0&&(B=!1),d.addEventListener(_.toString(),x,B);else if(d.attachEvent)d.attachEvent(Ir(_.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ad(){function d(E){return _.call(d.src,d.listener,E)}const _=xd;return d}function il(d,_,E,x,B){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)il(d,_[Q],E,x,B);else x=g(x)?!!x.capture:!!x,E=vc(E),d&&d[Le]?(d=d.i,_=String(_).toString(),_ in d.g&&(Q=d.g[_],E=Rr(Q,E,x,B),-1<E&&(Rs(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete d.g[_],d.h--)))):d&&(d=ka(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Rr(_,E,x,B)),(E=-1<d?_[d]:null)&&Ma(E))}function Ma(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Le])xr(_.i,d);else{var E=d.type,x=d.proxy;_.removeEventListener?_.removeEventListener(E,x,d.capture):_.detachEvent?_.detachEvent(Ir(E),x):_.addListener&&_.removeListener&&_.removeListener(x),(E=ka(_))?(xr(E,d),E.h==0&&(E.src=null,_[Cr]=null)):Rs(d)}}}function Ir(d){return d in nl?nl[d]:nl[d]="on"+d}function xd(d,_){if(d.da)d=!0;else{_=new Rt(_,this);var E=d.listener,x=d.ha||d.src;d.fa&&Ma(d),d=E.call(x,_)}return d}function ka(d){return d=d[Cr],d instanceof Li?d:null}var sl="__closure_events_fn_"+(1e9*Math.random()>>>0);function vc(d){return typeof d=="function"?d:(d[sl]||(d[sl]=function(_){return d.handleEvent(_)}),d[sl])}function ge(){ct.call(this),this.i=new Li(this),this.M=this,this.F=null}A(ge,ct),ge.prototype[Le]=!0,ge.prototype.removeEventListener=function(d,_,E,x){il(this,d,_,E,x)};function Kt(d,_){var E,x=d.F;if(x)for(E=[];x;x=x.F)E.push(x);if(d=d.M,x=_.type||_,typeof _=="string")_=new ot(_,d);else if(_ instanceof ot)_.target=_.target||d;else{var B=_;_=new ot(x,d),k(_,B)}if(B=!0,E)for(var Q=E.length-1;0<=Q;Q--){var lt=_.g=E[Q];B=En(lt,x,!0,_)&&B}if(lt=_.g=d,B=En(lt,x,!0,_)&&B,B=En(lt,x,!1,_)&&B,E)for(Q=0;Q<E.length;Q++)lt=_.g=E[Q],B=En(lt,x,!1,_)&&B}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],x=0;x<E.length;x++)Rs(E[x]);delete d.g[_],d.h--}}this.F=null},ge.prototype.K=function(d,_,E,x){return this.i.add(String(d),_,!1,E,x)},ge.prototype.L=function(d,_,E,x){return this.i.add(String(d),_,!0,E,x)};function En(d,_,E,x){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,Q=0;Q<_.length;++Q){var lt=_[Q];if(lt&&!lt.da&&lt.capture==E){var Lt=lt.listener,De=lt.ha||lt.src;lt.fa&&xr(d.i,lt),B=Lt.call(De,x)!==!1&&B}}return B&&!x.defaultPrevented}function tn(d,_,E){if(typeof d=="function")E&&(d=b(d,E));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(d,_||0)}function bc(d){d.g=tn(()=>{d.g=null,d.i&&(d.i=!1,bc(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Rd extends ct{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:bc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(d){ct.call(this),this.h=d,this.g={}}A(Dr,ct);var Or=[];function Mr(d){ut(d.g,function(_,E){this.g.hasOwnProperty(E)&&Ma(_)},d),d.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),Mr(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=h.JSON.stringify,Na=h.JSON.parse,kr=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function rl(){}rl.prototype.h=null;function al(d){return d.h||(d.h=d.i())}function ol(){}var Ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){ot.call(this,"d")}A(zi,ot);function ll(){ot.call(this,"c")}A(ll,ot);var ai={},ul=null;function Cs(){return ul=ul||new ge}ai.La="serverreachability";function Pa(d){ot.call(this,ai.La,d)}A(Pa,ot);function Is(d){const _=Cs();Kt(_,new Pa(_))}ai.STAT_EVENT="statevent";function Ec(d,_){ot.call(this,ai.STAT_EVENT,d),this.stat=_}A(Ec,ot);function le(d){const _=Cs();Kt(_,new Ec(_,d))}ai.Ma="timingevent";function Ie(d,_){ot.call(this,ai.Ma,d),this.size=_}A(Ie,ot);function Te(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},_)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function cl(d,_,E,x,B,Q){d.info(function(){if(d.g)if(Q)for(var lt="",Lt=Q.split("&"),De=0;De<Lt.length;De++){var Ut=Lt[De].split("=");if(1<Ut.length){var ze=Ut[0];Ut=Ut[1];var Oe=ze.split("_");lt=2<=Oe.length&&Oe[1]=="type"?lt+(ze+"="+Ut+"&"):lt+(ze+"=redacted&")}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+_+`
`+E+`
`+lt})}function Cd(d,_,E,x,B,Q,lt){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+_+`
`+E+`
`+Q+" "+lt})}function Ds(d,_,E,x){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Nr(d,E)+(x?" "+x:"")})}function Tc(d,_){d.info(function(){return"TIMEOUT: "+_})}Mn.prototype.info=function(){};function Nr(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var x=E[d];if(!(2>x.length)){var B=x[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var lt=1;lt<B.length;lt++)B[lt]=""}}}}return $n(E)}catch{return _}}var Os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oi;function li(){}A(li,rl),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},oi=new li;function un(d,_,E,x){this.j=d,this.i=_,this.l=E,this.R=x||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var hl={},Va={};function Xn(d,_,E){d.L=1,d.v=zr(Tn(_)),d.m=E,d.P=!0,Bi(d,null)}function Bi(d,_){d.F=Date.now(),Pr(d),d.A=Tn(d.v);var E=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),yl(E.i,"t",x),d.C=0,E=d.j.J,d.h=new ye,d.g=Uc(d.j,E?_:null,!d.m),0<d.O&&(d.M=new Rd(b(d.Y,d,d.g),d.O)),_=d.U,E=d.g,x=d.ca;var B="readystatechange";Array.isArray(B)||(B&&(Or[0]=B.toString()),B=Or);for(var Q=0;Q<B.length;Q++){var lt=_c(E,B[Q],x||_.handleEvent,!1,_.h||_);if(!lt)break;_.g[lt.key]=lt}_=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Is(),cl(d.i,d.u,d.A,d.l,d.R,d.m)}un.prototype.ca=function(d){d=d.target;const _=this.M;_&&Vn(d)==3?_.j():this.Y(d)},un.prototype.Y=function(d){try{if(d==this.g)t:{const Oe=Vn(this.g);var _=this.g.Ba();const $i=this.g.Z();if(!(3>Oe)&&(Oe!=3||this.g&&(this.h.h||this.g.oa()||Dc(this.g)))){this.J||Oe!=4||_==7||(_==8||0>=$i?Is(3):Is(2)),Ms(this);var E=this.g.Z();this.X=E;e:if(Sc(this)){var x=Dc(this.g);d="";var B=x.length,Q=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ge(this),ui(this);var lt="";break e}this.h.i=new h.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,d+=this.h.i.decode(x[_],{stream:!(Q&&_==B-1)});x.length=0,this.h.g+=d,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=E==200,Cd(this.i,this.u,this.A,this.l,this.R,Oe,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,De=this.g;if((Lt=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Lt)){var Ut=Lt;break e}}Ut=null}if(E=Ut)Ds(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vr(this,E);else{this.o=!1,this.s=3,le(12),Ge(this),ui(this);break t}}if(this.P){E=!0;let Ye;for(;!this.J&&this.C<lt.length;)if(Ye=wc(this,lt),Ye==Va){Oe==4&&(this.s=4,le(14),E=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==hl){this.s=4,le(15),Ds(this.i,this.l,lt,"[Invalid Chunk]"),E=!1;break}else Ds(this.i,this.l,Ye,null),Vr(this,Ye);if(Sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||lt.length!=0||this.h.h||(this.s=1,le(16),E=!1),this.o=this.o&&E,!E)Ds(this.i,this.l,lt,"[Invalid Chunked Response]"),Ge(this),ui(this);else if(0<lt.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Kr(ze),ze.M=!0,le(11))}}else Ds(this.i,this.l,lt,null),Vr(this,lt);Oe==4&&Ge(this),this.o&&!this.J&&(Oe==4?Pc(this.j,this):(this.o=!1,Pr(this)))}else kd(this.g),E==400&&0<lt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Ge(this),ui(this)}}}catch{}finally{}};function Sc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function wc(d,_){var E=d.C,x=_.indexOf(`
`,E);return x==-1?Va:(E=Number(_.substring(E,x)),isNaN(E)?hl:(x+=1,x+E>_.length?Va:(_=_.slice(x,x+E),d.C=x+E,_)))}un.prototype.cancel=function(){this.J=!0,Ge(this)};function Pr(d){d.S=Date.now()+d.I,Ac(d,d.I)}function Ac(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Te(b(d.ba,d),_)}function Ms(d){d.B&&(h.clearTimeout(d.B),d.B=null)}un.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Tc(this.i,this.A),this.L!=2&&(Is(),le(17)),Ge(this),this.s=2,ui(this)):Ac(this,this.S-d)};function ui(d){d.j.G==0||d.J||Pc(d.j,d)}function Ge(d){Ms(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Mr(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Vr(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||fl(E.h,d))){if(!d.K&&fl(E.h,d)&&E.G==3){try{var x=E.Da.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var B=x;if(B[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Wa(E),Ya(E);else break t;Tl(E),le(18)}}else E.za=B[1],0<E.za-E.T&&37500>B[2]&&E.F&&E.v==0&&!E.C&&(E.C=Te(b(E.Za,E),6e3));if(1>=Ua(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Wi(E,11)}else if((d.K||E.g==d)&&Wa(E),!F(_))for(B=E.Da.g.parse(_),_=0;_<B.length;_++){let Ut=B[_];if(E.T=Ut[0],Ut=Ut[1],E.G==2)if(Ut[0]=="c"){E.K=Ut[1],E.ia=Ut[2];const ze=Ut[3];ze!=null&&(E.la=ze,E.j.info("VER="+E.la));const Oe=Ut[4];Oe!=null&&(E.Aa=Oe,E.j.info("SVER="+E.Aa));const $i=Ut[5];$i!=null&&typeof $i=="number"&&0<$i&&(x=1.5*$i,E.L=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const Ye=d.g;if(Ye){const pi=Ye.g?Ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var Q=x.h;Q.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(za(Q,Q.h),Q.h=null))}if(x.D){const wl=Ye.g?Ye.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(x.ya=wl,Zt(x.I,x.D,wl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),x=E;var lt=d;if(x.qa=Lc(x,x.J?x.ia:null,x.W),lt.K){cn(x.h,lt);var Lt=lt,De=x.L;De&&(Lt.I=De),Lt.B&&(Ms(Lt),Pr(Lt)),x.g=lt}else kc(x);0<E.i.length&&Ka(E)}else Ut[0]!="stop"&&Ut[0]!="close"||Wi(E,7);else E.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Wi(E,7):bl(E):Ut[0]!="noop"&&E.l&&E.l.ta(Ut),E.v=0)}}Is(4)}catch{}}var xc=class{constructor(d,_){this.g=d,this.map=_}};function Hi(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function La(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ua(d){return d.h?1:d.g?d.g.size:0}function fl(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function za(d,_){d.g?d.g.add(_):d.h=_}function cn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Hi.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function dl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return I(d.i)}function Id(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],E=d.length,x=0;x<E;x++)_.push(d[x]);return _}_=[],E=0;for(x in d)_[E++]=d[x];return _}function ja(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const x in d)_[E++]=x;return _}}}function gl(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=ja(d),x=Id(d),B=x.length,Q=0;Q<B;Q++)_.call(void 0,x[Q],E&&E[Q],d)}var Lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dd(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var x=d[E].indexOf("="),B=null;if(0<=x){var Q=d[E].substring(0,x);B=d[E].substring(x+1)}else Q=d[E];_(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Se(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Se){this.h=d.h,Ur(this,d.j),this.o=d.o,this.g=d.g,ks(this,d.s),this.l=d.l;var _=d.i,E=new qi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Fi(this,E),this.m=d.m}else d&&(_=String(d).match(Lr))?(this.h=!1,Ur(this,_[1]||"",!0),this.o=kn(_[2]||""),this.g=kn(_[3]||"",!0),ks(this,_[4]),this.l=kn(_[5]||"",!0),Fi(this,_[6]||"",!0),this.m=kn(_[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}Se.prototype.toString=function(){var d=[],_=this.j;_&&d.push(jr(_,ml,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(jr(_,ml,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(jr(E,E.charAt(0)=="/"?Od:pl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",jr(E,Ba)),d.join("")};function Tn(d){return new Se(d)}function Ur(d,_,E){d.j=E?kn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ks(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Fi(d,_,E){_ instanceof qi?(d.i=_,Cc(d.i,d.h)):(E||(_=jr(_,Md)),d.i=new qi(_,d.h))}function Zt(d,_,E){d.i.set(_,E)}function zr(d){return Zt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function kn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function jr(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,Rc),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Rc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ml=/[#\/\?@]/g,pl=/[#\?:]/g,Od=/[#\?]/g,Md=/[#\?@]/g,Ba=/#/g;function qi(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Nn(d){d.g||(d.g=new Map,d.h=0,d.i&&Dd(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=qi.prototype,n.add=function(d,_){Nn(this),this.i=null,d=ci(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function Gi(d,_){Nn(d),_=ci(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Yi(d,_){return Nn(d),_=ci(d,_),d.g.has(_)}n.forEach=function(d,_){Nn(this),this.g.forEach(function(E,x){E.forEach(function(B){d.call(_,B,x,this)},this)},this)},n.na=function(){Nn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let x=0;x<_.length;x++){const B=d[x];for(let Q=0;Q<B.length;Q++)E.push(_[x])}return E},n.V=function(d){Nn(this);let _=[];if(typeof d=="string")Yi(this,d)&&(_=_.concat(this.g.get(ci(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},n.set=function(d,_){return Nn(this),this.i=null,d=ci(this,d),Yi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function yl(d,_,E){Gi(d,_),0<E.length&&(d.i=null,d.g.set(ci(d,_),I(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var x=_[E];const Q=encodeURIComponent(String(x)),lt=this.V(x);for(x=0;x<lt.length;x++){var B=Q;lt[x]!==""&&(B+="="+encodeURIComponent(String(lt[x]))),d.push(B)}}return this.i=d.join("&")};function ci(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Cc(d,_){_&&!d.j&&(Nn(d),d.i=null,d.g.forEach(function(E,x){var B=x.toLowerCase();x!=B&&(Gi(this,x),yl(this,B,E))},d)),d.j=_}function Br(d,_){const E=new Mn;if(h.Image){const x=new Image;x.onload=S(Pn,E,"TestLoadImage: loaded",!0,_,x),x.onerror=S(Pn,E,"TestLoadImage: error",!1,_,x),x.onabort=S(Pn,E,"TestLoadImage: abort",!1,_,x),x.ontimeout=S(Pn,E,"TestLoadImage: timeout",!1,_,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else _(!1)}function Qn(d,_){const E=new Mn,x=new AbortController,B=setTimeout(()=>{x.abort(),Pn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:x.signal}).then(Q=>{clearTimeout(B),Q.ok?Pn(E,"TestPingServer: ok",!0,_):Pn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),Pn(E,"TestPingServer: error",!1,_)})}function Pn(d,_,E,x,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),x(E)}catch{}}function Hr(){this.g=new kr}function hi(d,_,E){const x=E||"";try{gl(d,function(B,Q){let lt=B;g(B)&&(lt=$n(B)),_.push(x+Q+"="+encodeURIComponent(lt))})}catch(B){throw _.push(x+"type="+encodeURIComponent("_badmap")),B}}function Ns(d){this.l=d.Ub||null,this.j=d.eb||!1}A(Ns,rl),Ns.prototype.g=function(){return new Ki(this.l,this.j)},Ns.prototype.i=function(d){return function(){return d}}({});function Ki(d,_){ge.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ki,ge),n=Ki.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,di(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_l(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function _l(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?fi(this):di(this),this.readyState==3&&_l(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,fi(this))},n.Qa=function(d){this.g&&(this.response=d,fi(this))},n.ga=function(){this.g&&fi(this)};function fi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,di(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function di(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function vl(d){let _="";return ut(d,function(E,x){_+=x,_+=":",_+=E,_+=`\r
`}),_}function Ue(d,_,E){t:{for(x in E){var x=!1;break t}x=!0}x||(E=vl(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Zt(d,_,E))}function Gt(d){ge.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Gt,ge);var Ha=/^https?$/i,Fr=["POST","PUT"];n=Gt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?al(this.o):al(oi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(Q){Ic(this,Q);return}if(d=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var B in x)E.set(B,x[B]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())E.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Fr,_,void 0))||x||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of E)this.g.setRequestHeader(Q,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qr(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){Ic(this,Q)}};function Ic(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Fa(d),gi(d)}function Fa(d){d.A||(d.A=!0,Kt(d,"complete"),Kt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Kt(this,"complete"),Kt(this,"abort"),gi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},n.bb=function(){qa(this)};function qa(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Vn(d)!=4||d.Z()!=2)){if(d.u&&Vn(d)==4)tn(d.Ea,0,d);else if(Kt(d,"readystatechange"),Vn(d)==4){d.h=!1;try{const lt=d.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var x;if(x=lt===0){var B=String(d.D).match(Lr)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),x=!Ha.test(B?B.toLowerCase():"")}E=x}if(E)Kt(d,"complete"),Kt(d,"success");else{d.m=6;try{var Q=2<Vn(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",Fa(d)}}finally{gi(d)}}}}function gi(d,_){if(d.g){qr(d);const E=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Kt(d,"ready");try{E.onreadystatechange=x}catch{}}}function qr(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Vn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Na(_)}};function Dc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function kd(d){const _={};d=(d.g&&2<=Vn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(F(d[x]))continue;var E=V(d[x]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=_[B]||[];_[B]=Q,Q.push(E)}P(_,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function Ga(d){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,d),this.cb=Gr("retryDelaySeedMs",1e4,d),this.Wa=Gr("forwardChannelMaxRetries",2,d),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(d&&d.concurrentRequestLimit),this.Da=new Hr,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ga.prototype,n.la=8,n.G=1,n.connect=function(d,_,E,x){le(0),this.W=d,this.H=_||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.I=Lc(this,null,this.W),Ka(this)};function bl(d){if(Oc(d),d.G==3){var _=d.U++,E=Tn(d.I);if(Zt(E,"SID",d.K),Zt(E,"RID",_),Zt(E,"TYPE","terminate"),Yr(d,E),_=new un(d,d.j,_),_.L=2,_.v=zr(Tn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=_.v,E=!0),E||(_.g=Uc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Pr(_)}Vc(d)}function Ya(d){d.g&&(Kr(d),d.g.cancel(),d.g=null)}function Oc(d){Ya(d),d.u&&(h.clearTimeout(d.u),d.u=null),Wa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Ka(d){if(!La(d.h)&&!d.s){d.s=!0;var _=d.Ga;at||L(),ft||(at(),ft=!0),wt.add(_,d),d.B=0}}function Nd(d,_){return Ua(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Te(b(d.Ga,d,_),Sl(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const B=new un(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=R(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(_+=x,4096<_){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Mc(this,B,_),E=Tn(this.I),Zt(E,"RID",d),Zt(E,"CVER",22),this.D&&Zt(E,"X-HTTP-Session-Id",this.D),Yr(this,E),Q&&(this.O?_="headers="+encodeURIComponent(String(vl(Q)))+"&"+_:this.m&&Ue(E,this.m,Q)),za(this.h,B),this.Ua&&Zt(E,"TYPE","init"),this.P?(Zt(E,"$req",_),Zt(E,"SID","null"),B.T=!0,Xn(B,E,null)):Xn(B,E,_),this.G=2}}else this.G==3&&(d?El(this,d):this.i.length==0||La(this.h)||El(this))};function El(d,_){var E;_?E=_.l:E=d.U++;const x=Tn(d.I);Zt(x,"SID",d.K),Zt(x,"RID",E),Zt(x,"AID",d.T),Yr(d,x),d.m&&d.o&&Ue(x,d.m,d.o),E=new un(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Mc(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),za(d.h,E),Xn(E,x,_)}function Yr(d,_){d.H&&ut(d.H,function(E,x){Zt(_,x,E)}),d.l&&gl({},function(E,x){Zt(_,x,E)})}function Mc(d,_,E){E=Math.min(d.i.length,E);var x=d.l?b(d.l.Na,d.l,d):null;t:{var B=d.i;let Q=-1;for(;;){const lt=["count="+E];Q==-1?0<E?(Q=B[0].g,lt.push("ofs="+Q)):Q=0:lt.push("ofs="+Q);let Lt=!0;for(let De=0;De<E;De++){let Ut=B[De].g;const ze=B[De].map;if(Ut-=Q,0>Ut)Q=Math.max(0,B[De].g-100),Lt=!1;else try{hi(ze,lt,"req"+Ut+"_")}catch{x&&x(ze)}}if(Lt){x=lt.join("&");break t}}}return d=d.i.splice(0,E),_.D=d,x}function kc(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;at||L(),ft||(at(),ft=!0),wt.add(_,d),d.v=0}}function Tl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Te(b(d.Fa,d),Sl(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Te(b(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),Ya(this),Nc(this))};function Kr(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Nc(d){d.g=new un(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Tn(d.qa);Zt(_,"RID","rpc"),Zt(_,"SID",d.K),Zt(_,"AID",d.T),Zt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Zt(_,"TO",d.ja),Zt(_,"TYPE","xmlhttp"),Yr(d,_),d.m&&d.o&&Ue(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=zr(Tn(_)),E.m=null,E.P=!0,Bi(E,d)}n.Za=function(){this.C!=null&&(this.C=null,Ya(this),Tl(this),le(19))};function Wa(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Pc(d,_){var E=null;if(d.g==_){Wa(d),Kr(d),d.g=null;var x=2}else if(fl(d.h,_))E=_.D,cn(d.h,_),x=1;else return;if(d.G!=0){if(_.o)if(x==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var B=d.B;x=Cs(),Kt(x,new Ie(x,E)),Ka(d)}else kc(d);else if(B=_.s,B==3||B==0&&0<_.X||!(x==1&&Nd(d,_)||x==2&&Tl(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),B){case 1:Wi(d,5);break;case 4:Wi(d,10);break;case 3:Wi(d,6);break;default:Wi(d,2)}}}function Sl(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function Wi(d,_){if(d.j.info("Error code "+_),_==2){var E=b(d.fb,d),x=d.Xa;const B=!x;x=new Se(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ur(x,"https"),zr(x),B?Br(x.toString(),E):Qn(x.toString(),E)}else le(2);d.G=0,d.l&&d.l.sa(_),Vc(d),Oc(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Vc(d){if(d.G=0,d.ka=[],d.l){const _=dl(d.h);(_.length!=0||d.i.length!=0)&&(C(d.ka,_),C(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Lc(d,_,E){var x=E instanceof Se?Tn(E):new Se(E);if(x.g!="")_&&(x.g=_+"."+x.g),ks(x,x.s);else{var B=h.location;x=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var Q=new Se(null);x&&Ur(Q,x),_&&(Q.g=_),B&&ks(Q,B),E&&(Q.l=E),x=Q}return E=d.D,_=d.ya,E&&_&&Zt(x,E,_),Zt(x,"VER",d.la),Yr(d,x),x}function Uc(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Gt(new Ns({eb:E})):new Gt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zc(){}n=zc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $a(){}$a.prototype.g=function(d,_){return new hn(d,_)};function hn(d,_){ge.call(this),this.g=new Ga(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!F(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!F(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new mi(this)}A(hn,ge),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){bl(this.g)},hn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=$n(d),d=E);_.i.push(new xc(_.Ya++,d)),_.G==3&&Ka(_)},hn.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,hn.aa.N.call(this)};function jc(d){zi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){t:{for(const E in _){d=E;break t}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}A(jc,zi);function Bc(){ll.call(this),this.status=1}A(Bc,ll);function mi(d){this.g=d}A(mi,zc),mi.prototype.ua=function(){Kt(this.g,"a")},mi.prototype.ta=function(d){Kt(this.g,new jc(d))},mi.prototype.sa=function(d){Kt(this.g,new Bc)},mi.prototype.ra=function(){Kt(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,lw=function(){return new $a},ow=function(){return Cs()},aw=ai,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,mf=Os,ji.COMPLETE="complete",rw=ji,ol.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Eu=ol,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,sw=Gt}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});const Yb="@firebase/firestore",Kb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new zp("@firebase/firestore");function Co(){return Sa.logLevel}function ht(n,...t){if(Sa.logLevel<=Pt.DEBUG){const e=t.map(Zp);Sa.debug(`Firestore (${Qo}): ${n}`,...e)}}function Ts(n,...t){if(Sa.logLevel<=Pt.ERROR){const e=t.map(Zp);Sa.error(`Firestore (${Qo}): ${n}`,...e)}}function pr(n,...t){if(Sa.logLevel<=Pt.WARN){const e=t.map(Zp);Sa.warn(`Firestore (${Qo}): ${n}`,...e)}}function Zp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,uw(n,i,e)}function uw(n,t,e){let i=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ts(i),new Error(i)}function Yt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||uw(t,r,i)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends xs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(rn.UNAUTHENTICATED))}shutdown(){}}class wO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class AO{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Yt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gr,t.enqueueRetryable(()=>r(this.currentUser))};const u=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},h=f=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gr)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yt(typeof i.accessToken=="string",31837,{l:i}),new cw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class xO{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RO{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new xO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Yt(this.o===void 0,3512);const i=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Wb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Yt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Wb(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=IO(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ot(n,t){return n<t?-1:n>t?1:0}function fp(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return Ot(i,r);{const o=hw(),u=DO(o.encode($b(n,e)),o.encode($b(t,e)));return u!==0?u:Ot(i,r)}}e+=i>65535?2:1}return Ot(n.length,t.length)}function $b(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function DO(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Ot(n[e],t[e]);return Ot(n.length,t.length)}function zo(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="__name__";class Ai{constructor(t,e,i){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&St(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Ai.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ot(t.length,e.length)}static compareSegments(t,e){const i=Ai.isNumericId(t),r=Ai.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Ai.extractNumericId(t).compare(Ai.extractNumericId(e)):fp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return dr.fromString(t.substring(4,t.length-2))}}class he extends Ai{construct(t,e,i){return new he(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new pt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new he(e)}static emptyPath(){return new he([])}}const OO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ai{construct(t,e,i){return new Qe(t,e,i)}static isValidIdentifier(t){return OO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xb}static keyField(){return new Qe([Xb])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new pt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new pt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new pt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(e)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(he.fromString(t))}static fromName(t){return new _t(he.fromString(t).popFirst(5))}static empty(){return new _t(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return he.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new he(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(n,t,e){if(!e)throw new pt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function kO(n,t,e,i){if(t===!0&&i===!0)throw new pt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Qb(n){if(!_t.isDocumentKey(n))throw new pt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ty(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function qu(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new pt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ty(n);throw new pt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,t){const e={typeString:n};return t&&(e.value=t),e}function hc(n,t){if(!fw(n))throw new pt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const u=n[i];if(r&&typeof u!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new pt(rt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=-62135596800,Jb=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Jb);return new ae(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Zb)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jb}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(hc(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Zb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Re("string",ae._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new ae(0,0))}static max(){return new xt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=-1;function NO(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(i===1e9?new ae(e+1,0):new ae(e,i));return new yr(r,_t.empty(),t)}function PO(n){return new yr(n.readTime,n.key,Gu)}class yr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new yr(xt.min(),_t.empty(),Gu)}static max(){return new yr(xt.max(),_t.empty(),Gu)}}function VO(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=_t.comparator(n.documentKey,t.documentKey),e!==0?e:Ot(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==LO)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):it.reject(e)}static resolve(t){return new it((e,i)=>{e(t)})}static reject(t){return new it((e,i)=>{i(t)})}static waitFor(t){return new it((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},f=>i(f))}),u=!0,o===r&&e()})}static or(t){let e=it.resolve(!1);for(const i of t)e=e.next(r=>r?it.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new it((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next(y=>{u[g]=y,++h,h===o&&i(u)},y=>r(y))}})}static doWhile(t,e){return new it((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function zO(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Jo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this._e(i),this.ae=i=>e.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}ld.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=-1;function ud(n){return n==null}function Mf(n){return n===0&&1/n==-1/0}function jO(n){return typeof n=="number"&&Number.isInteger(n)&&!Mf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="";function BO(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=tE(t)),t=HO(n.get(e),t);return tE(t)}function HO(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case dw:e+="";break;default:e+=o}}return e}function tE(n){return n+dw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ca(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function gw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,e){this.comparator=t,this.root=e||Xe.EMPTY}insert(t,e){return new de(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gh(this.root,t,this.comparator,!0)}}class Gh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Xe.RED,this.left=r??Xe.EMPTY,this.right=o??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Xe(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Xe.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Xe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(t){return new nE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ve(this.comparator);return e.data=t,e}}class nE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new ni([])}unionWith(t){let e=new Ve(Qe.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ni(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return zo(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mw("Invalid base64 string: "+o):o}}(t);return new Je(e)}static fromUint8Array(t){const e=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(t);return new Je(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const FO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(n){if(Yt(!!n,39018),typeof n=="string"){let t=0;const e=FO.exec(n);if(Yt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vr(n){return typeof n=="string"?Je.fromBase64String(n):Je.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="server_timestamp",yw="__type__",_w="__previous_value__",vw="__local_write_time__";function ny(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[yw])===null||e===void 0?void 0:e.stringValue)===pw}function cd(n){const t=n.mapValue.fields[_w];return ny(t)?cd(t):t}function Yu(n){const t=_r(n.mapValue.fields[vw].timestampValue);return new ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t,e,i,r,o,u,h,f,g,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=y}}const kf="(default)";class Ku{constructor(t,e){this.projectId=t,this.database=e||kf}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===kf}isEqual(t){return t instanceof Ku&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="__type__",GO="__max__",Yh={mapValue:{}},Ew="__vector__",Nf="value";function br(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ny(n)?4:KO(n)?9007199254740991:YO(n)?10:11:St(28295,{value:n})}function Ni(n,t){if(n===t)return!0;const e=br(n);if(e!==br(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Yu(n).isEqual(Yu(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=_r(r.timestampValue),h=_r(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return vr(r.bytesValue).isEqual(vr(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return be(r.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(r.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return be(r.integerValue)===be(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=be(r.doubleValue),h=be(o.doubleValue);return u===h?Mf(u)===Mf(h):isNaN(u)&&isNaN(h)}return!1}(n,t);case 9:return zo(n.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(eE(u)!==eE(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ni(u[f],h[f])))return!1;return!0}(n,t);default:return St(52216,{left:n})}}function Wu(n,t){return(n.values||[]).find(e=>Ni(e,t))!==void 0}function jo(n,t){if(n===t)return 0;const e=br(n),i=br(t);if(e!==i)return Ot(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,t.booleanValue);case 2:return function(o,u){const h=be(o.integerValue||o.doubleValue),f=be(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,t);case 3:return iE(n.timestampValue,t.timestampValue);case 4:return iE(Yu(n),Yu(t));case 5:return fp(n.stringValue,t.stringValue);case 6:return function(o,u){const h=vr(o),f=vr(u);return h.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=Ot(h[g],f[g]);if(y!==0)return y}return Ot(h.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,u){const h=Ot(be(o.latitude),be(u.latitude));return h!==0?h:Ot(be(o.longitude),be(u.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return sE(n.arrayValue,t.arrayValue);case 10:return function(o,u){var h,f,g,y;const v=o.fields||{},b=u.fields||{},S=(h=v[Nf])===null||h===void 0?void 0:h.arrayValue,A=(f=b[Nf])===null||f===void 0?void 0:f.arrayValue,I=Ot(((g=S?.values)===null||g===void 0?void 0:g.length)||0,((y=A?.values)===null||y===void 0?void 0:y.length)||0);return I!==0?I:sE(S,A)}(n.mapValue,t.mapValue);case 11:return function(o,u){if(o===Yh.mapValue&&u===Yh.mapValue)return 0;if(o===Yh.mapValue)return 1;if(u===Yh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=u.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const b=fp(f[v],y[v]);if(b!==0)return b;const S=jo(h[f[v]],g[y[v]]);if(S!==0)return S}return Ot(f.length,y.length)}(n.mapValue,t.mapValue);default:throw St(23264,{le:e})}}function iE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ot(n,t);const e=_r(n),i=_r(t),r=Ot(e.seconds,i.seconds);return r!==0?r:Ot(e.nanos,i.nanos)}function sE(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=jo(e[r],i[r]);if(o)return o}return Ot(e.length,i.length)}function Bo(n){return dp(n)}function dp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=_r(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return vr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return _t.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=dp(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const u of i)o?o=!1:r+=",",r+=`${u}:${dp(e.fields[u])}`;return r+"}"}(n.mapValue):St(61005,{value:n})}function pf(n){switch(br(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=cd(n);return t?16+pf(t):16;case 5:return 2*n.stringValue.length;case 6:return vr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+pf(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Ca(i.fields,(o,u)=>{r+=o.length+pf(u)}),r}(n.mapValue);default:throw St(13486,{value:n})}}function gp(n){return!!n&&"integerValue"in n}function iy(n){return!!n&&"arrayValue"in n}function rE(n){return!!n&&"nullValue"in n}function aE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yf(n){return!!n&&"mapValue"in n}function YO(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[bw])===null||e===void 0?void 0:e.stringValue)===Ew}function Ou(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ca(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Ou(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ou(n.arrayValue.values[e]);return t}return Object.assign({},n)}function KO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===GO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.value=t}static empty(){return new Yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!yf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ou(e)}setAll(t){let e=Qe.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Ou(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());yf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];yf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ca(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Yn(Ou(this.value))}}function Tw(n){const t=[];return Ca(n.fields,(e,i)=>{const r=new Qe([e]);if(yf(i)){const o=Tw(i.mapValue).fields;if(o.length===0)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new ni(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t,e,i,r,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new an(t,0,xt.min(),xt.min(),xt.min(),Yn.empty(),0)}static newFoundDocument(t,e,i,r){return new an(t,1,e,xt.min(),i,r,0)}static newNoDocument(t,e){return new an(t,2,e,xt.min(),xt.min(),Yn.empty(),0)}static newUnknownDocument(t,e){return new an(t,3,e,xt.min(),xt.min(),Yn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,e){this.position=t,this.inclusive=e}}function oE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(o.field.isKeyField()?i=_t.comparator(_t.fromName(u.referenceValue),e.key):i=jo(u,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function lE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ni(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,e="asc"){this.field=t,this.dir=e}}function WO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{}class Ne extends Sw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new XO(t,e,i):e==="array-contains"?new JO(t,i):e==="in"?new tM(t,i):e==="not-in"?new eM(t,i):e==="array-contains-any"?new nM(t,i):new Ne(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new QO(t,i):new ZO(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(jo(e,this.value)):e!==null&&br(this.value)===br(e)&&this.matchesComparison(jo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends Sw{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new Pi(t,e)}matches(t){return ww(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ww(n){return n.op==="and"}function Aw(n){return $O(n)&&ww(n)}function $O(n){for(const t of n.filters)if(t instanceof Pi)return!1;return!0}function mp(n){if(n instanceof Ne)return n.field.canonicalString()+n.op.toString()+Bo(n.value);if(Aw(n))return n.filters.map(t=>mp(t)).join(",");{const t=n.filters.map(e=>mp(e)).join(",");return`${n.op}(${t})`}}function xw(n,t){return n instanceof Ne?function(i,r){return r instanceof Ne&&i.op===r.op&&i.field.isEqual(r.field)&&Ni(i.value,r.value)}(n,t):n instanceof Pi?function(i,r){return r instanceof Pi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,u,h)=>o&&xw(u,r.filters[h]),!0):!1}(n,t):void St(19439)}function Rw(n){return n instanceof Ne?function(e){return`${e.field.canonicalString()} ${e.op} ${Bo(e.value)}`}(n):n instanceof Pi?function(e){return e.op.toString()+" {"+e.getFilters().map(Rw).join(" ,")+"}"}(n):"Filter"}class XO extends Ne{constructor(t,e,i){super(t,e,i),this.key=_t.fromName(i.referenceValue)}matches(t){const e=_t.comparator(t.key,this.key);return this.matchesComparison(e)}}class QO extends Ne{constructor(t,e){super(t,"in",e),this.keys=Cw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class ZO extends Ne{constructor(t,e){super(t,"not-in",e),this.keys=Cw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Cw(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>_t.fromName(i.referenceValue))}class JO extends Ne{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return iy(e)&&Wu(e.arrayValue,this.value)}}class tM extends Ne{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Wu(this.value.arrayValue,e)}}class eM extends Ne{constructor(t,e){super(t,"not-in",e)}matches(t){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Wu(this.value.arrayValue,e)}}class nM extends Ne{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!iy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Wu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.Pe=null}}function uE(n,t=null,e=[],i=[],r=null,o=null,u=null){return new iM(n,t,e,i,r,o,u)}function sy(n){const t=Ct(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>mp(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),ud(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Bo(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Bo(i)).join(",")),t.Pe=e}return t.Pe}function ry(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!WO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!xw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!lE(n.startAt,t.startAt)&&lE(n.endAt,t.endAt)}function pp(n){return _t.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function sM(n,t,e,i,r,o,u,h){return new hd(n,t,e,i,r,o,u,h)}function ay(n){return new hd(n)}function cE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rM(n){return n.collectionGroup!==null}function Mu(n){const t=Ct(n);if(t.Te===null){t.Te=[];const e=new Set;for(const o of t.explicitOrderBy)t.Te.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ve(Qe.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Te.push(new Vf(o,i))}),e.has(Qe.keyField().canonicalString())||t.Te.push(new Vf(Qe.keyField(),i))}return t.Te}function Ii(n){const t=Ct(n);return t.Ie||(t.Ie=aM(t,Mu(n))),t.Ie}function aM(n,t){if(n.limitType==="F")return uE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Vf(r.field,o)});const e=n.endAt?new Pf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pf(n.startAt.position,n.startAt.inclusive):null;return uE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function yp(n,t,e){return new hd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function fd(n,t){return ry(Ii(n),Ii(t))&&n.limitType===t.limitType}function Iw(n){return`${sy(Ii(n))}|lt:${n.limitType}`}function Io(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>Rw(r)).join(", ")}]`),ud(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Bo(r)).join(",")),`Target(${i})`}(Ii(n))}; limitType=${n.limitType})`}function dd(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):_t.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Mu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(u,h,f){const g=oE(u,h,f);return u.inclusive?g<=0:g<0}(i.startAt,Mu(i),r)||i.endAt&&!function(u,h,f){const g=oE(u,h,f);return u.inclusive?g>=0:g>0}(i.endAt,Mu(i),r))}(n,t)}function oM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Dw(n){return(t,e)=>{let i=!1;for(const r of Mu(n)){const o=lM(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function lM(n,t,e){const i=n.field.isKeyField()?_t.comparator(t.key,e.key):function(o,u,h){const f=u.data.field(o),g=h.data.field(o);return f!==null&&g!==null?jo(f,g):St(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return St(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ca(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new de(_t.comparator);function Ss(){return uM}const Ow=new de(_t.comparator);function Tu(...n){let t=Ow;for(const e of n)t=t.insert(e.key,e);return t}function Mw(n){let t=Ow;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ga(){return ku()}function kw(){return ku()}function ku(){return new Ia(n=>n.toString(),(n,t)=>n.isEqual(t))}const cM=new de(_t.comparator),hM=new Ve(_t.comparator);function Vt(...n){let t=hM;for(const e of n)t=t.add(e);return t}const fM=new Ve(Ot);function dM(){return fM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(t)?"-0":t}}function Nw(n){return{integerValue:""+n}}function gM(n,t){return jO(t)?Nw(t):oy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this._=void 0}}function mM(n,t,e){return n instanceof Lf?function(r,o){const u={fields:{[yw]:{stringValue:pw},[vw]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ny(o)&&(o=cd(o)),o&&(u.fields[_w]=o),{mapValue:u}}(e,t):n instanceof $u?Vw(n,t):n instanceof Xu?Lw(n,t):function(r,o){const u=Pw(r,o),h=hE(u)+hE(r.Ee);return gp(u)&&gp(r.Ee)?Nw(h):oy(r.serializer,h)}(n,t)}function pM(n,t,e){return n instanceof $u?Vw(n,t):n instanceof Xu?Lw(n,t):e}function Pw(n,t){return n instanceof Uf?function(i){return gp(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Lf extends gd{}class $u extends gd{constructor(t){super(),this.elements=t}}function Vw(n,t){const e=Uw(t);for(const i of n.elements)e.some(r=>Ni(r,i))||e.push(i);return{arrayValue:{values:e}}}class Xu extends gd{constructor(t){super(),this.elements=t}}function Lw(n,t){let e=Uw(t);for(const i of n.elements)e=e.filter(r=>!Ni(r,i));return{arrayValue:{values:e}}}class Uf extends gd{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function hE(n){return be(n.integerValue||n.doubleValue)}function Uw(n){return iy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function yM(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof $u&&r instanceof $u||i instanceof Xu&&r instanceof Xu?zo(i.elements,r.elements,Ni):i instanceof Uf&&r instanceof Uf?Ni(i.Ee,r.Ee):i instanceof Lf&&r instanceof Lf}(n.transform,t.transform)}class _M{constructor(t,e){this.version=t,this.transformResults=e}}class ys{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ys}static exists(t){return new ys(void 0,t)}static updateTime(t){return new ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _f(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class md{}function zw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Bw(n.key,ys.none()):new fc(n.key,n.data,ys.none());{const e=n.data,i=Yn.empty();let r=new Ve(Qe.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?i.delete(o):i.set(o,u),r=r.add(o)}return new Da(n.key,i,new ni(r.toArray()),ys.none())}}function vM(n,t,e){n instanceof fc?function(r,o,u){const h=r.value.clone(),f=dE(r.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,t,e):n instanceof Da?function(r,o,u){if(!_f(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=dE(r.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(jw(r)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,t,e):function(r,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,e)}function Nu(n,t,e,i){return n instanceof fc?function(o,u,h,f){if(!_f(o.precondition,u))return h;const g=o.value.clone(),y=gE(o.fieldTransforms,f,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof Da?function(o,u,h,f){if(!_f(o.precondition,u))return h;const g=gE(o.fieldTransforms,f,u),y=u.data;return y.setAll(jw(o)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(o,u,h){return _f(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,t,e)}function bM(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Pw(i.transform,r||null);o!=null&&(e===null&&(e=Yn.empty()),e.set(i.field,o))}return e||null}function fE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&zo(i,r,(o,u)=>yM(o,u))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class fc extends md{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Da extends md{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function jw(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function dE(n,t,e){const i=new Map;Yt(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,pM(u,h,e[r]))}return i}function gE(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,mM(o,u,t))}return i}class Bw extends md{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EM extends md{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&vM(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Nu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Nu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=kw();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const f=zw(u,h);f!==null&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(xt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vt())}isEqual(t){return this.batchId===t.batchId&&zo(this.mutations,t.mutations,(e,i)=>fE(e,i))&&zo(this.baseMutations,t.baseMutations,(e,i)=>fE(e,i))}}class ly{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Yt(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let r=function(){return cM}();const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new ly(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,jt;function AM(n){switch(n){case rt.OK:return St(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function Hw(n){if(n===void 0)return Ts("GRPC error has no .code"),rt.UNKNOWN;switch(n){case xe.OK:return rt.OK;case xe.CANCELLED:return rt.CANCELLED;case xe.UNKNOWN:return rt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return rt.INTERNAL;case xe.UNAVAILABLE:return rt.UNAVAILABLE;case xe.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case xe.NOT_FOUND:return rt.NOT_FOUND;case xe.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case xe.ABORTED:return rt.ABORTED;case xe.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case xe.DATA_LOSS:return rt.DATA_LOSS;default:return St(39323,{code:n})}}(jt=xe||(xe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new dr([4294967295,4294967295],0);function mE(n){const t=hw().encode(n),e=new iw;return e.update(t),new Uint8Array(e.digest())}function pE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new dr([e,i],0),new dr([r,o],0)]}class uy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Su(`Invalid padding: ${e}`);if(i<0)throw new Su(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Su(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=dr.fromNumber(this.fe)}pe(t,e,i){let r=t.add(e.multiply(dr.fromNumber(i)));return r.compare(xM)===1&&(r=new dr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=mE(t),[i,r]=pE(e);for(let o=0;o<this.hashCount;o++){const u=this.pe(i,r,o);if(!this.ye(u))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new uy(o,r,e);return i.forEach(h=>u.insert(h)),u}insert(t){if(this.fe===0)return;const e=mE(t),[i,r]=pE(e);for(let o=0;o<this.hashCount;o++){const u=this.pe(i,r,o);this.we(u)}}we(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,dc.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new pd(xt.min(),r,new de(Ot),Ss(),Vt())}}class dc{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new dc(i,e,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.be=r}}class Fw{constructor(t,e){this.targetId=t,this.De=e}}class qw{constructor(t,e,i=Je.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class yE{constructor(){this.ve=0,this.Ce=_E(),this.Fe=Je.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Vt(),e=Vt(),i=Vt();return this.Ce.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:St(38017,{changeType:o})}}),new dc(this.Fe,this.Me,t,e,i)}ke(){this.xe=!1,this.Ce=_E()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class RM{constructor(t){this.We=t,this.Ge=new Map,this.ze=Ss(),this.je=Kh(),this.Je=Kh(),this.He=new de(Ot)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{const i=this.tt(e);switch(t.state){case 0:this.nt(e)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),i.Be(t.resumeToken));break;default:St(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((i,r)=>{this.nt(r)&&e(r)})}it(t){const e=t.targetId,i=t.De.count,r=this.st(e);if(r){const o=r.target;if(pp(o))if(i===0){const u=new _t(o.path);this.Xe(e,u,an.newNoDocument(u,xt.min()))}else Yt(i===1,20013,{expectedCount:i});else{const u=this.ot(e);if(u!==i){const h=this._t(t),f=h?this.ut(h,t,u):1;if(f!==0){this.rt(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,g)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let u,h;try{u=vr(i).toUint8Array()}catch(f){if(f instanceof mw)return pr("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new uy(u,r,o)}catch(f){return pr(f instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.fe===0?null:h}ut(t,e,i){return e.De.count===i-this.ht(t,e.targetId)?0:2}ht(t,e){const i=this.We.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const u=this.We.lt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.Xe(e,o,null),r++)}),r}Pt(t){const e=new Map;this.Ge.forEach((o,u)=>{const h=this.st(u);if(h){if(o.current&&pp(h.target)){const f=new _t(h.target.path);this.Tt(f).has(u)||this.It(u,f)||this.Xe(u,f,an.newNoDocument(f,t))}o.Ne&&(e.set(u,o.Le()),o.ke())}});let i=Vt();this.Je.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const g=this.st(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.ze.forEach((o,u)=>u.setReadTime(t));const r=new pd(t,e,this.He,this.ze,i);return this.ze=Ss(),this.je=Kh(),this.Je=Kh(),this.He=new de(Ot),r}Ze(t,e){if(!this.nt(t))return;const i=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,i),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,i){if(!this.nt(t))return;const r=this.tt(t);this.It(t,e)?r.qe(e,1):r.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),i&&(this.ze=this.ze.insert(e,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new yE,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new Ve(Ot),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new Ve(Ot),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new yE),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function Kh(){return new de(_t.comparator)}function _E(){return new de(_t.comparator)}const CM={asc:"ASCENDING",desc:"DESCENDING"},IM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DM={and:"AND",or:"OR"};class OM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function _p(n,t){return n.useProto3Json||ud(t)?t:{value:t}}function zf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Gw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function MM(n,t){return zf(n,t.toTimestamp())}function Di(n){return Yt(!!n,49232),xt.fromTimestamp(function(e){const i=_r(e);return new ae(i.seconds,i.nanos)}(n))}function cy(n,t){return vp(n,t).canonicalString()}function vp(n,t){const e=function(r){return new he(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function Yw(n){const t=he.fromString(n);return Yt(Qw(t),10190,{key:t.toString()}),t}function bp(n,t){return cy(n.databaseId,t.path)}function jm(n,t){const e=Yw(t);if(e.get(1)!==n.databaseId.projectId)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new _t(Ww(e))}function Kw(n,t){return cy(n.databaseId,t)}function kM(n){const t=Yw(n);return t.length===4?he.emptyPath():Ww(t)}function Ep(n){return new he(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ww(n){return Yt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vE(n,t,e){return{name:bp(n,t),fields:e.value.mapValue.fields}}function NM(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(g,y){return g.useProto3Json?(Yt(y===void 0||typeof y=="string",58123),Je.fromBase64String(y||"")):(Yt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Je.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const y=g.code===void 0?rt.UNKNOWN:Hw(g.code);return new pt(y,g.message||"")}(u);e=new qw(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=jm(n,i.document.name),o=Di(i.document.updateTime),u=i.document.createTime?Di(i.document.createTime):xt.min(),h=new Yn({mapValue:{fields:i.document.fields}}),f=an.newFoundDocument(r,o,u,h),g=i.targetIds||[],y=i.removedTargetIds||[];e=new vf(g,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=jm(n,i.document),o=i.readTime?Di(i.readTime):xt.min(),u=an.newNoDocument(r,o),h=i.removedTargetIds||[];e=new vf([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=jm(n,i.document),o=i.removedTargetIds||[];e=new vf([],o,r,null)}else{if(!("filter"in t))return St(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,u=new wM(r,o),h=i.targetId;e=new Fw(h,u)}}return e}function PM(n,t){let e;if(t instanceof fc)e={update:vE(n,t.key,t.value)};else if(t instanceof Bw)e={delete:bp(n,t.key)};else if(t instanceof Da)e={update:vE(n,t.key,t.data),updateMask:qM(t.fieldMask)};else{if(!(t instanceof EM))return St(16599,{Rt:t.type});e={verify:bp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,u){const h=u.transform;if(h instanceof Lf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof $u)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Xu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Uf)return{fieldPath:u.field.canonicalString(),increment:h.Ee};throw St(20930,{transform:u.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:MM(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St(27497)}(n,t.precondition)),e}function VM(n,t){return n&&n.length>0?(Yt(t!==void 0,14353),n.map(e=>function(r,o){let u=r.updateTime?Di(r.updateTime):Di(o);return u.isEqual(xt.min())&&(u=Di(o)),new _M(u,r.transformResults||[])}(e,t))):[]}function LM(n,t){return{documents:[Kw(n,t.path)]}}function UM(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Kw(n,r);const o=function(g){if(g.length!==0)return Xw(Pi.create(g,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(y=>function(b){return{field:Do(b.field),direction:BM(b.dir)}}(y))}(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=_p(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{Vt:e,parent:r}}function zM(n){let t=kM(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Yt(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=function(v){const b=$w(v);return b instanceof Pi&&Aw(b)?b.getFilters():[b]}(e.where));let u=[];e.orderBy&&(u=function(v){return v.map(b=>function(A){return new Vf(Oo(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(b))}(e.orderBy));let h=null;e.limit&&(h=function(v){let b;return b=typeof v=="object"?v.value:v,ud(b)?null:b}(e.limit));let f=null;e.startAt&&(f=function(v){const b=!!v.before,S=v.values||[];return new Pf(S,b)}(e.startAt));let g=null;return e.endAt&&(g=function(v){const b=!v.before,S=v.values||[];return new Pf(S,b)}(e.endAt)),sM(t,r,u,o,h,"F",f,g)}function jM(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function $w(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Oo(e.unaryFilter.field);return Ne.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Oo(e.unaryFilter.field);return Ne.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Oo(e.unaryFilter.field);return Ne.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Oo(e.unaryFilter.field);return Ne.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(n):n.fieldFilter!==void 0?function(e){return Ne.create(Oo(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Pi.create(e.compositeFilter.filters.map(i=>$w(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(e.compositeFilter.op))}(n):St(30097,{filter:n})}function BM(n){return CM[n]}function HM(n){return IM[n]}function FM(n){return DM[n]}function Do(n){return{fieldPath:n.canonicalString()}}function Oo(n){return Qe.fromServerFormat(n.fieldPath)}function Xw(n){return n instanceof Ne?function(e){if(e.op==="=="){if(aE(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NAN"}};if(rE(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(aE(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NOT_NAN"}};if(rE(e.value))return{unaryFilter:{field:Do(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(e.field),op:HM(e.op),value:e.value}}}(n):n instanceof Pi?function(e){const i=e.getFilters().map(r=>Xw(r));return i.length===1?i[0]:{compositeFilter:{op:FM(e.op),filters:i}}}(n):St(54877,{filter:n})}function qM(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Qw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t,e,i,r,o=xt.min(),u=xt.min(),h=Je.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t){this.gt=t}}function YM(n){const t=zM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.Dn=new WM}addToCollectionParentIndex(t,e){return this.Dn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(yr.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(yr.min())}updateCollectionGroup(t,e,i){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class WM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ve(he.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ve(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zw=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Zw,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ho(0)}static ur(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="LruGarbageCollector",$M=1048576;function TE([n,t],[e,i]){const r=Ot(n,e);return r===0?Ot(t,i):r}class XM{constructor(t){this.Tr=t,this.buffer=new Ve(TE),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();TE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class QM{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ht(EE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Jo(e)?ht(EE,"Ignoring IndexedDB error during garbage collection: ",e):await Zo(e)}await this.Rr(3e5)})}}class ZM{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return it.resolve(ld.ue);const i=new XM(e);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(bE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bE):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let i,r,o,u,h,f,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,u=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,h=Date.now(),this.removeTargets(t,i,e))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(g=Date.now(),Co()<=Pt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(g-f)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function JM(n,t){return new ZM(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.changes=new Ia(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?it.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Nu(i.mutation,r,ni.empty(),ae.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Vt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Vt()){const r=ga();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=Tu();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=ga();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Vt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=Ss();const u=ku(),h=function(){return ku()}();return e.forEach((f,g)=>{const y=i.get(g.key);r.has(g.key)&&(y===void 0||y.mutation instanceof Da)?o=o.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),Nu(y.mutation,g,y.mutation.getFieldMask(),ae.now())):u.set(g.key,ni.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((g,y)=>u.set(g,y)),e.forEach((g,y)=>{var v;return h.set(g,new ek(y,(v=u.get(g))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(t,e){const i=ku();let r=new de((u,h)=>u-h),o=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(f=>{const g=e.get(f);if(g===null)return;let y=i.get(f)||ni.empty();y=h.applyToLocalView(g,y),i.set(f,y);const v=(r.get(h.batchId)||Vt()).add(f);r=r.insert(h.batchId,v)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,y=f.value,v=kw();y.forEach(b=>{if(!o.has(b)){const S=zw(e.get(b),i.get(b));S!==null&&v.set(b,S),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(t,g,v))}return it.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(u){return _t.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):rM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):it.resolve(ga());let h=Gu,f=o;return u.next(g=>it.forEach(g,(y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{f=f.insert(y,b)}))).next(()=>this.populateOverlays(t,g,o)).next(()=>this.computeViews(t,f,g,Vt())).next(y=>({batchId:h,changes:Mw(y)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _t(e)).next(i=>{let r=Tu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let u=Tu();return this.indexManager.getCollectionParents(t,o).next(h=>it.forEach(h,f=>{const g=function(v,b){return new hd(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,r).next(y=>{y.forEach((v,b)=>{u=u.insert(v,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(u=>{o.forEach((f,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,an.newInvalidDocument(y)))});let h=Tu();return u.forEach((f,g)=>{const y=o.get(f);y!==void 0&&Nu(y.mutation,g,ni.empty(),ae.now()),dd(e,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return it.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(r){return{id:r.id,version:r.version,createTime:Di(r.createTime)}}(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(r){return{name:r.name,query:YM(r.bundledQuery),readTime:Di(r.readTime)}}(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.overlays=new de(_t.comparator),this.kr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ga();return it.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.wt(t,e,o)}),it.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),it.resolve()}getOverlaysForCollection(t,e,i){const r=ga(),o=e.length+1,u=new _t(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return it.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new de((g,y)=>g-y);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let y=o.get(g.largestBatchId);y===null&&(y=ga(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=ga(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,y)=>h.set(g,y)),!(h.size()>=r)););return it.resolve(h)}wt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new SM(e,i));let o=this.kr.get(e);o===void 0&&(o=Vt(),this.kr.set(e,o)),this.kr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.qr=new Ve(Fe.Qr),this.$r=new Ve(Fe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const i=new Fe(t,e);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Wr(new Fe(t,e))}Gr(t,e){t.forEach(i=>this.removeReference(i,e))}zr(t){const e=new _t(new he([])),i=new Fe(e,t),r=new Fe(e,t+1),o=[];return this.$r.forEachInRange([i,r],u=>{this.Wr(u),o.push(u.key)}),o}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new _t(new he([])),i=new Fe(e,t),r=new Fe(e,t+1);let o=Vt();return this.$r.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Fe(t,0),i=this.qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Fe{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return _t.comparator(t.key,e.key)||Ot(t.Hr,e.Hr)}static Ur(t,e){return Ot(t.Hr,e.Hr)||_t.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new Ve(Fe.Qr)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new TM(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.Yr=this.Yr.add(new Fe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return it.resolve(u)}lookupMutationBatch(t,e){return it.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),o=r<0?0:r;return it.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?ey:this.er-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Fe(e,0),r=new Fe(e,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],u=>{const h=this.Zr(u.Hr);o.push(h)}),it.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ve(Ot);return e.forEach(r=>{const o=new Fe(r,0),u=new Fe(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,u],h=>{i=i.add(h.Hr)})}),it.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;_t.isDocumentKey(o)||(o=o.child(""));const u=new Fe(new _t(o),0);let h=new Ve(Ot);return this.Yr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(h=h.add(f.Hr)),!0)},u),it.resolve(this.ei(h))}ei(t){const e=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Yt(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return it.forEach(e.mutations,r=>{const o=new Fe(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,e){const i=new Fe(e,0),r=this.Yr.firstAfterOrEqual(i);return it.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t){this.ni=t,this.docs=function(){return new de(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.ni(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return it.resolve(i?i.document.mutableCopy():an.newInvalidDocument(e))}getEntries(t,e){let i=Ss();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():an.newInvalidDocument(r))}),it.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ss();const u=e.path,h=new _t(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||VO(PO(y),i)<=0||(r.has(y.key)||dd(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return it.resolve(o)}getAllFromCollectionGroup(t,e,i,r){St(9500)}ri(t,e){return it.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new lk(this)}getSize(t){return it.resolve(this.size)}}class lk extends tk{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Or.addEntry(t,r)):this.Or.removeEntry(i)}),it.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t){this.persistence=t,this.ii=new Ia(e=>sy(e),ry),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.si=0,this.oi=new hy,this.targetCount=0,this._i=Ho.ar()}forEachTarget(t,e){return this.ii.forEach((i,r)=>e(r)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.si&&(this.si=e),it.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new Ho(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.hr(e),it.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ii.forEach((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ii.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),it.waitFor(o).next(()=>r)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const i=this.ii.get(e)||null;return it.resolve(i)}addMatchingKeys(t,e,i){return this.oi.Kr(e,i),it.resolve()}removeMatchingKeys(t,e,i){this.oi.Gr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),it.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const i=this.oi.Jr(e);return it.resolve(i)}containsKey(t,e){return it.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,e){this.ai={},this.overlays={},this.ui=new ld(0),this.ci=!1,this.ci=!0,this.li=new rk,this.referenceDelegate=t(this),this.hi=new uk(this),this.indexManager=new KM,this.remoteDocumentCache=function(r){return new ok(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new GM(e),this.Ti=new ik(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new sk,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ai[t.toKey()];return i||(i=new ak(e,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const r=new ck(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(t,e){return it.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,e)))}}class ck extends UO{constructor(t){super(),this.currentSequenceNumber=t}}class fy{constructor(t){this.persistence=t,this.Ai=new hy,this.Ri=null}static Vi(t){return new fy(t)}get mi(){if(this.Ri)return this.Ri;throw St(60996)}addReference(t,e,i){return this.Ai.addReference(i,e),this.mi.delete(i.toString()),it.resolve()}removeReference(t,e,i){return this.Ai.removeReference(i,e),this.mi.add(i.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.mi,i=>{const r=_t.fromPath(i);return this.fi(t,r).next(o=>{o||e.removeEntry(r,xt.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(i=>{i?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return it.or([()=>it.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class jf{constructor(t,e){this.persistence=t,this.gi=new Ia(i=>BO(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=JM(this,e)}static Vi(t,e){return new jf(t,e)}Ii(){}di(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}yr(t){let e=0;return this.gr(t,i=>{e++}).next(()=>e)}gr(t,e){return it.forEach(this.gi,(i,r)=>this.Sr(t,i,r).next(o=>o?it.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(t,u=>this.Sr(t,u,e).next(h=>{h||(i++,o.removeEntry(u,xt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),it.resolve()}removeReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),it.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=pf(t.data.value)),e}Sr(t,e,i){return it.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.gi.get(e);return it.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Is=i,this.ds=r}static Es(t,e){let i=Vt(),r=Vt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new dy(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return BC()?8:zO(ln())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ps(t,e).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ys(t,e,r,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new hk;return this.ws(t,e,u).next(h=>{if(o.result=h,this.Rs)return this.Ss(t,e,u,h.size)})}).next(()=>o.result)}Ss(t,e,i,r){return i.documentReadCount<this.Vs?(Co()<=Pt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Io(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),it.resolve()):(Co()<=Pt.DEBUG&&ht("QueryEngine","Query:",Io(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Co()<=Pt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Io(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(e))):it.resolve())}ps(t,e){if(cE(e))return it.resolve(null);let i=Ii(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=yp(e,null,"F"),i=Ii(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Vt(...o);return this.gs.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.bs(e,h);return this.Ds(e,g,u,f.readTime)?this.ps(t,yp(e,null,"F")):this.vs(t,g,e,f)}))})))}ys(t,e,i,r){return cE(e)||r.isEqual(xt.min())?it.resolve(null):this.gs.getDocuments(t,i).next(o=>{const u=this.bs(e,o);return this.Ds(e,u,i,r)?it.resolve(null):(Co()<=Pt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Io(e)),this.vs(t,u,e,NO(r,Gu)).next(h=>h))})}bs(t,e){let i=new Ve(Dw(t));return e.forEach((r,o)=>{dd(t,o)&&(i=i.add(o))}),i}Ds(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(t,e,i){return Co()<=Pt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Io(e)),this.gs.getDocumentsMatchingQuery(t,e,yr.min(),i)}vs(t,e,i,r){return this.gs.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="LocalStore",dk=3e8;class gk{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.Fs=new de(Ot),this.Ms=new Ia(o=>sy(o),ry),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nk(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}}function mk(n,t,e,i){return new gk(n,t,e,i)}async function tA(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Ns(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let f=Vt();for(const g of r){u.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of o){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next(g=>({Bs:g,removedBatchIds:u,addedBatchIds:h}))})})}function pk(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Os.newChangeBuffer({trackRemovals:!0});return function(h,f,g,y){const v=g.batch,b=v.keys();let S=it.resolve();return b.forEach(A=>{S=S.next(()=>y.getEntry(f,A)).next(I=>{const C=g.docVersions.get(A);Yt(C!==null,48541),I.version.compareTo(C)<0&&(v.applyToRemoteDocument(I,g),I.isValidDocument()&&(I.setReadTime(g.commitVersion),y.addEntry(I)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Vt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function eA(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function yk(n,t){const e=Ct(n),i=t.snapshotVersion;let r=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Os.newChangeBuffer({trackRemovals:!0});r=e.Fs;const h=[];t.targetChanges.forEach((y,v)=>{const b=r.get(v);if(!b)return;h.push(e.hi.removeMatchingKeys(o,y.removedDocuments,v).next(()=>e.hi.addMatchingKeys(o,y.addedDocuments,v)));let S=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken(Je.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),r=r.insert(v,S),function(I,C,M){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=dk?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(b,S,y)&&h.push(e.hi.updateTargetData(o,S))});let f=Ss(),g=Vt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(_k(o,u,t.documentUpdates).next(y=>{f=y.Ls,g=y.ks})),!i.isEqual(xt.min())){const y=e.hi.getLastRemoteSnapshotVersion(o).next(v=>e.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return it.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,g)).next(()=>f)}).then(o=>(e.Fs=r,o))}function _k(n,t,e){let i=Vt(),r=Vt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=Ss();return e.forEach((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(xt.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):ht(gy,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{Ls:u,ks:r}})}function vk(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=ey),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function bk(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.hi.getTargetData(i,t).next(o=>o?(r=o,it.resolve(r)):e.hi.allocateTargetId(i).next(u=>(r=new or(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(i.targetId,i),e.Ms.set(t,i.targetId)),i})}async function Tp(n,t,e){const i=Ct(n),r=i.Fs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r))}catch(u){if(!Jo(u))throw u;ht(gy,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)}function SE(n,t,e){const i=Ct(n);let r=xt.min(),o=Vt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,g,y){const v=Ct(f),b=v.Ms.get(y);return b!==void 0?it.resolve(v.Fs.get(b)):v.hi.getTargetData(g,y)}(i,u,Ii(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>i.Cs.getDocumentsMatchingQuery(u,t,e?r:xt.min(),e?o:Vt())).next(h=>(Ek(i,oM(t),h),{documents:h,qs:o})))}function Ek(n,t,e){let i=n.xs.get(t)||xt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(t,i)}class wE{constructor(){this.activeTargetIds=dM()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Tk{constructor(){this.Fo=new wE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,i){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new wE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="ConnectivityMonitor";class xE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ht(AE,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ht(AE,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh=null;function Sp(){return Wh===null?Wh=function(){return 268435456+Math.round(2147483648*Math.random())}():Wh++,"0x"+Wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",wk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ak{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===kf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){const u=Sp(),h=this.Go(t,e.toUriEncodedString());ht(Bm,`Sending RPC '${t}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,r,o);const{host:g}=new URL(h),y=Wo(g);return this.jo(t,h,f,i,y).then(v=>(ht(Bm,`Received RPC '${t}' ${u}: `,v),v),v=>{throw pr(Bm,`RPC '${t}' ${u} failed with error: `,v,"url: ",h,"request:",i),v})}Jo(t,e,i,r,o,u){return this.Wo(t,e,i,r,o)}zo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Go(t,e){const i=wk[t];return`${this.$o}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class Rk extends Ak{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,i,r,o){const u=Sp();return new Promise((h,f)=>{const g=new sw;g.setWithCredentials(!0),g.listenOnce(rw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case mf.NO_ERROR:const v=g.getResponseJson();ht(sn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case mf.TIMEOUT:ht(sn,`RPC '${t}' ${u} timed out`),f(new pt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case mf.HTTP_ERROR:const b=g.getStatus();if(ht(sn,`RPC '${t}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S?.error;if(A&&A.status&&A.message){const I=function(M){const F=M.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(F)>=0?F:rt.UNKNOWN}(A.status);f(new pt(I,A.message))}else f(new pt(rt.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new pt(rt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{c_:t,streamId:u,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ht(sn,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(r);ht(sn,`RPC '${t}' ${u} sending request:`,r),g.send(e,"POST",y,i,15)})}P_(t,e,i){const r=Sp(),o=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=lw(),h=ow(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ht(sn,`Creating RPC '${t}' stream ${r}: ${y}`,f);const v=u.createWebChannel(y,f);this.T_(v);let b=!1,S=!1;const A=new xk({Ho:C=>{S?ht(sn,`Not sending because RPC '${t}' stream ${r} is closed:`,C):(b||(ht(sn,`Opening RPC '${t}' stream ${r} transport.`),v.open(),b=!0),ht(sn,`RPC '${t}' stream ${r} sending:`,C),v.send(C))},Yo:()=>v.close()}),I=(C,M,F)=>{C.listen(M,W=>{try{F(W)}catch(et){setTimeout(()=>{throw et},0)}})};return I(v,Eu.EventType.OPEN,()=>{S||(ht(sn,`RPC '${t}' stream ${r} transport opened.`),A.s_())}),I(v,Eu.EventType.CLOSE,()=>{S||(S=!0,ht(sn,`RPC '${t}' stream ${r} transport closed`),A.__(),this.I_(v))}),I(v,Eu.EventType.ERROR,C=>{S||(S=!0,pr(sn,`RPC '${t}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),A.__(new pt(rt.UNAVAILABLE,"The operation could not be completed")))}),I(v,Eu.EventType.MESSAGE,C=>{var M;if(!S){const F=C.data[0];Yt(!!F,16349);const W=F,et=W?.error||((M=W[0])===null||M===void 0?void 0:M.error);if(et){ht(sn,`RPC '${t}' stream ${r} received error:`,et);const tt=et.status;let ut=function(D){const k=xe[D];if(k!==void 0)return Hw(k)}(tt),P=et.message;ut===void 0&&(ut=rt.INTERNAL,P="Unknown error status: "+tt+" with message "+et.message),S=!0,A.__(new pt(ut,P)),v.close()}else ht(sn,`RPC '${t}' stream ${r} received:`,F),A.a_(F)}}),I(h,aw.STAT_EVENT,C=>{C.stat===hp.PROXY?ht(sn,`RPC '${t}' stream ${r} detected buffering proxy`):C.stat===hp.NOPROXY&&ht(sn,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}}function Hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(n){return new OM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Fi=t,this.timerId=e,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-i);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="PersistentStream";class iA{constructor(t,e,i,r,o,u,h,f){this.Fi=t,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new nA(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Ts(e.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===e&&this.W_(i,r)},i=>{t(()=>{const r=new pt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(t,e){const i=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return ht(RE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(ht(RE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ck extends iA{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=NM(this.serializer,t),i=function(o){if(!("targetChange"in o))return xt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?xt.min():u.readTime?Di(u.readTime):xt.min()}(t);return this.listener.J_(e,i)}H_(t){const e={};e.database=Ep(this.serializer),e.addTarget=function(o,u){let h;const f=u.target;if(h=pp(f)?{documents:LM(o,f)}:{query:UM(o,f).Vt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Gw(o,u.resumeToken);const g=_p(o,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(xt.min())>0){h.readTime=zf(o,u.snapshotVersion.toTimestamp());const g=_p(o,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,t);const i=jM(this.serializer,t);i&&(e.labels=i),this.k_(e)}Y_(t){const e={};e.database=Ep(this.serializer),e.removeTarget=t,this.k_(e)}}class Ik extends iA{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=VM(t.writeResults,t.commitTime),i=Di(t.commitTime);return this.listener.ta(i,e)}na(){const t={};t.database=Ep(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>PM(this.serializer,i))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{}class Ok extends Dk{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Wo(t,vp(e,i),r,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(rt.UNKNOWN,o.toString())})}Jo(t,e,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Jo(t,vp(e,i),r,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(rt.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Mk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ts(e),this._a=!1):ht("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class kk{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(u=>{i.enqueueAndForget(async()=>{Oa(this)&&(ht(wa,"Restarting streams for network reachability change."),await async function(f){const g=Ct(f);g.Ia.add(4),await gc(g),g.Aa.set("Unknown"),g.Ia.delete(4),await _d(g)}(this))})}),this.Aa=new Mk(i,r)}}async function _d(n){if(Oa(n))for(const t of n.da)await t(!0)}async function gc(n){for(const t of n.da)await t(!1)}function sA(n,t){const e=Ct(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),_y(e)?yy(e):tl(e).x_()&&py(e,t))}function my(n,t){const e=Ct(n),i=tl(e);e.Ta.delete(t),i.x_()&&rA(e,t),e.Ta.size===0&&(i.x_()?i.B_():Oa(e)&&e.Aa.set("Unknown"))}function py(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}tl(n).H_(t)}function rA(n,t){n.Ra.$e(t),tl(n).Y_(t)}function yy(n){n.Ra=new RM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),tl(n).start(),n.Aa.aa()}function _y(n){return Oa(n)&&!tl(n).M_()&&n.Ta.size>0}function Oa(n){return Ct(n).Ia.size===0}function aA(n){n.Ra=void 0}async function Nk(n){n.Aa.set("Online")}async function Pk(n){n.Ta.forEach((t,e)=>{py(n,t)})}async function Vk(n,t){aA(n),_y(n)?(n.Aa.la(t),yy(n)):n.Aa.set("Unknown")}async function Lk(n,t,e){if(n.Aa.set("Online"),t instanceof qw&&t.state===2&&t.cause)try{await async function(r,o){const u=o.cause;for(const h of o.targetIds)r.Ta.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r.Ta.delete(h),r.Ra.removeTarget(h))}(n,t)}catch(i){ht(wa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Bf(n,i)}else if(t instanceof vf?n.Ra.Ye(t):t instanceof Fw?n.Ra.it(t):n.Ra.et(t),!e.isEqual(xt.min()))try{const i=await eA(n.localStore);e.compareTo(i)>=0&&await function(o,u){const h=o.Ra.Pt(u);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ta.get(g);y&&o.Ta.set(g,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,g)=>{const y=o.Ta.get(f);if(!y)return;o.Ta.set(f,y.withResumeToken(Je.EMPTY_BYTE_STRING,y.snapshotVersion)),rA(o,f);const v=new or(y.target,f,g,y.sequenceNumber);py(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){ht(wa,"Failed to raise snapshot:",i),await Bf(n,i)}}async function Bf(n,t,e){if(!Jo(t))throw t;n.Ia.add(1),await gc(n),n.Aa.set("Offline"),e||(e=()=>eA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(wa,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await _d(n)})}function oA(n,t){return t().catch(e=>Bf(n,e,t))}async function vd(n){const t=Ct(n),e=Er(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:ey;for(;Uk(t);)try{const r=await vk(t.localStore,i);if(r===null){t.Pa.length===0&&e.B_();break}i=r.batchId,zk(t,r)}catch(r){await Bf(t,r)}lA(t)&&uA(t)}function Uk(n){return Oa(n)&&n.Pa.length<10}function zk(n,t){n.Pa.push(t);const e=Er(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function lA(n){return Oa(n)&&!Er(n).M_()&&n.Pa.length>0}function uA(n){Er(n).start()}async function jk(n){Er(n).na()}async function Bk(n){const t=Er(n);for(const e of n.Pa)t.X_(e.mutations)}async function Hk(n,t,e){const i=n.Pa.shift(),r=ly.from(i,t,e);await oA(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await vd(n)}async function Fk(n,t){t&&Er(n).Z_&&await async function(i,r){if(function(u){return AM(u)&&u!==rt.ABORTED}(r.code)){const o=i.Pa.shift();Er(i).N_(),await oA(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await vd(i)}}(n,t),lA(n)&&uA(n)}async function CE(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),ht(wa,"RemoteStore received new credentials");const i=Oa(e);e.Ia.add(3),await gc(e),i&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await _d(e)}async function qk(n,t){const e=Ct(n);t?(e.Ia.delete(2),await _d(e)):t||(e.Ia.add(2),await gc(e),e.Aa.set("Unknown"))}function tl(n){return n.Va||(n.Va=function(e,i,r){const o=Ct(e);return o.ia(),new Ck(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:Nk.bind(null,n),e_:Pk.bind(null,n),n_:Vk.bind(null,n),J_:Lk.bind(null,n)}),n.da.push(async t=>{t?(n.Va.N_(),_y(n)?yy(n):n.Aa.set("Unknown")):(await n.Va.stop(),aA(n))})),n.Va}function Er(n){return n.ma||(n.ma=function(e,i,r){const o=Ct(e);return o.ia(),new Ik(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:jk.bind(null,n),n_:Fk.bind(null,n),ea:Bk.bind(null,n),ta:Hk.bind(null,n)}),n.da.push(async t=>{t?(n.ma.N_(),await vd(n)):(await n.ma.stop(),n.Pa.length>0&&(ht(wa,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new vy(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(n,t){if(Ts("AsyncQueue",`${t}: ${n}`),Jo(n))return new pt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(t){return new Vo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||_t.comparator(e.key,i.key):(e,i)=>_t.comparator(e.key,i.key),this.keyedMap=Tu(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Vo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Vo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.fa=new de(_t.comparator)}track(t){const e=t.doc.key,i=this.fa.get(e);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(e,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(e):t.type===1&&i.type===2?this.fa=this.fa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):St(63341,{At:t,ga:i}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal((e,i)=>{t.push(i)}),t}}class Fo{constructor(t,e,i,r,o,u,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,r,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new Fo(t,e,Vo.emptySet(e),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class Yk{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,i){const r=Ct(e),o=r.queries;r.queries=DE(),o.forEach((u,h)=>{for(const f of h.wa)f.onError(i)})})(this,new pt(rt.ABORTED,"Firestore shutting down"))}}function DE(){return new Ia(n=>Iw(n),fd)}async function Kk(n,t){const e=Ct(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Sa()&&t.ba()&&(i=2):(o=new Gk,i=t.ba()?0:1);try{switch(i){case 0:o.ya=await e.onListen(r,!0);break;case 1:o.ya=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(u){const h=by(u,`Initialization of query '${Io(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.wa.push(t),t.va(e.onlineState),o.ya&&t.Ca(o.ya)&&Ey(e)}async function Wk(n,t){const e=Ct(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const u=o.wa.indexOf(t);u>=0&&(o.wa.splice(u,1),o.wa.length===0?r=t.ba()?0:1:!o.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function $k(n,t){const e=Ct(n);let i=!1;for(const r of t){const o=r.query,u=e.queries.get(o);if(u){for(const h of u.wa)h.Ca(r)&&(i=!0);u.ya=r}}i&&Ey(e)}function Xk(n,t,e){const i=Ct(n),r=i.queries.get(t);if(r)for(const o of r.wa)o.onError(e);i.queries.delete(t)}function Ey(n){n.Da.forEach(t=>{t.next()})}var wp,OE;(OE=wp||(wp={})).Fa="default",OE.Cache="cache";class Qk{constructor(t,e,i){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Fo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const i=e!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=Fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t){this.key=t}}class hA{constructor(t){this.key=t}}class Zk{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Vt(),this.mutatedKeys=Vt(),this.Xa=Dw(t),this.eu=new Vo(this.Xa)}get tu(){return this.Ha}nu(t,e){const i=e?e.ru:new IE,r=e?e.eu:this.eu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,g=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((y,v)=>{const b=r.get(y),S=dd(this.query,v)?v:null,A=!!b&&this.mutatedKeys.has(b.key),I=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;b&&S?b.data.isEqual(S.data)?A!==I&&(i.track({type:3,doc:S}),C=!0):this.iu(b,S)||(i.track({type:2,doc:S}),C=!0,(f&&this.Xa(S,f)>0||g&&this.Xa(S,g)<0)&&(h=!0)):!b&&S?(i.track({type:0,doc:S}),C=!0):b&&!S&&(i.track({type:1,doc:b}),C=!0,(f||g)&&(h=!0)),C&&(S?(u=u.add(S),o=I?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{eu:u,ru:i,Ds:h,mutatedKeys:o}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const u=t.ru.pa();u.sort((y,v)=>function(S,A){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{At:C})}};return I(S)-I(A)}(y.type,v.type)||this.Xa(y.doc,v.doc)),this.su(i),r=r!=null&&r;const h=e&&!r?this.ou():[],f=this.Za.size===0&&this.current&&!r?1:0,g=f!==this.Ya;return this.Ya=f,u.length!==0||g?{snapshot:new Fo(this.query,t.eu,o,u,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new IE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Vt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const e=[];return t.forEach(i=>{this.Za.has(i)||e.push(new hA(i))}),this.Za.forEach(i=>{t.has(i)||e.push(new cA(i))}),e}uu(t){this.Ha=t.qs,this.Za=Vt();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return Fo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ty="SyncEngine";class Jk{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class tN{constructor(t){this.key=t,this.lu=!1}}class eN{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Ia(h=>Iw(h),fd),this.Tu=new Map,this.Iu=new Set,this.du=new de(_t.comparator),this.Eu=new Map,this.Au=new hy,this.Ru={},this.Vu=new Map,this.mu=Ho.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function nN(n,t,e=!0){const i=yA(n);let r;const o=i.Pu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=await fA(i,t,e,!0),r}async function iN(n,t){const e=yA(n);await fA(e,t,!0,!1)}async function fA(n,t,e,i){const r=await bk(n.localStore,Ii(t)),o=r.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await sN(n,t,o,u==="current",r.resumeToken)),n.isPrimaryClient&&e&&sA(n.remoteStore,r),h}async function sN(n,t,e,i,r){n.gu=(v,b,S)=>async function(I,C,M,F){let W=C.view.nu(M);W.Ds&&(W=await SE(I.localStore,C.query,!1).then(({documents:P})=>C.view.nu(P,W)));const et=F&&F.targetChanges.get(C.targetId),tt=F&&F.targetMismatches.get(C.targetId)!=null,ut=C.view.applyChanges(W,I.isPrimaryClient,et,tt);return kE(I,C.targetId,ut._u),ut.snapshot}(n,v,b,S);const o=await SE(n.localStore,t,!0),u=new Zk(t,o.qs),h=u.nu(o.documents),f=dc.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),g=u.applyChanges(h,n.isPrimaryClient,f);kE(n,e,g._u);const y=new Jk(t,e,u);return n.Pu.set(t,y),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),g.snapshot}async function rN(n,t,e){const i=Ct(n),r=i.Pu.get(t),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(u=>!fd(u,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Tp(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&my(i.remoteStore,r.targetId),Ap(i,r.targetId)}).catch(Zo)):(Ap(i,r.targetId),await Tp(i.localStore,r.targetId,!0))}async function aN(n,t){const e=Ct(n),i=e.Pu.get(t),r=e.Tu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),my(e.remoteStore,i.targetId))}async function oN(n,t,e){const i=gN(n);try{const r=await function(u,h){const f=Ct(u),g=ae.now(),y=h.reduce((S,A)=>S.add(A.key),Vt());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=Ss(),I=Vt();return f.Os.getEntries(S,y).next(C=>{A=C,A.forEach((M,F)=>{F.isValidDocument()||(I=I.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,A)).next(C=>{v=C;const M=[];for(const F of h){const W=bM(F,v.get(F.key).overlayedDocument);W!=null&&M.push(new Da(F.key,W,Tw(W.value.mapValue),ys.exists(!0)))}return f.mutationQueue.addMutationBatch(S,g,M,h)}).next(C=>{b=C;const M=C.applyToLocalDocumentSet(v,I);return f.documentOverlayCache.saveOverlays(S,C.batchId,M)})}).then(()=>({batchId:b.batchId,changes:Mw(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(u,h,f){let g=u.Ru[u.currentUser.toKey()];g||(g=new de(Ot)),g=g.insert(h,f),u.Ru[u.currentUser.toKey()]=g}(i,r.batchId,e),await mc(i,r.changes),await vd(i.remoteStore)}catch(r){const o=by(r,"Failed to persist write");e.reject(o)}}async function dA(n,t){const e=Ct(n);try{const i=await yk(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.Eu.get(o);u&&(Yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.lu=!0:r.modifiedDocuments.size>0?Yt(u.lu,14607):r.removedDocuments.size>0&&(Yt(u.lu,42227),u.lu=!1))}),await mc(e,i,t)}catch(i){await Zo(i)}}function ME(n,t,e){const i=Ct(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Pu.forEach((o,u)=>{const h=u.view.va(t);h.snapshot&&r.push(h.snapshot)}),function(u,h){const f=Ct(u);f.onlineState=h;let g=!1;f.queries.forEach((y,v)=>{for(const b of v.wa)b.va(h)&&(g=!0)}),g&&Ey(f)}(i.eventManager,t),r.length&&i.hu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function lN(n,t,e){const i=Ct(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Eu.get(t),o=r&&r.key;if(o){let u=new de(_t.comparator);u=u.insert(o,an.newNoDocument(o,xt.min()));const h=Vt().add(o),f=new pd(xt.min(),new Map,new de(Ot),u,h);await dA(i,f),i.du=i.du.remove(o),i.Eu.delete(t),Sy(i)}else await Tp(i.localStore,t,!1).then(()=>Ap(i,t,e)).catch(Zo)}async function uN(n,t){const e=Ct(n),i=t.batch.batchId;try{const r=await pk(e.localStore,t);mA(e,i,null),gA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await mc(e,r)}catch(r){await Zo(r)}}async function cN(n,t,e){const i=Ct(n);try{const r=await function(u,h){const f=Ct(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return f.mutationQueue.lookupMutationBatch(g,h).next(v=>(Yt(v!==null,37113),y=v.keys(),f.mutationQueue.removeMutationBatch(g,v))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>f.localDocuments.getDocuments(g,y))})}(i.localStore,t);mA(i,t,e),gA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await mc(i,r)}catch(r){await Zo(r)}}function gA(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function mA(n,t,e){const i=Ct(n);let r=i.Ru[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ru[i.currentUser.toKey()]=r}}function Ap(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Tu.get(t))n.Pu.delete(i),e&&n.hu.pu(i,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(i=>{n.Au.containsKey(i)||pA(n,i)})}function pA(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(my(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),Sy(n))}function kE(n,t,e){for(const i of e)i instanceof cA?(n.Au.addReference(i.key,t),hN(n,i)):i instanceof hA?(ht(Ty,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,t),n.Au.containsKey(i.key)||pA(n,i.key)):St(19791,{yu:i})}function hN(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Iu.has(i)||(ht(Ty,"New document in limbo: "+e),n.Iu.add(i),Sy(n))}function Sy(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new _t(he.fromString(t)),i=n.mu.next();n.Eu.set(i,new tN(e)),n.du=n.du.insert(e,i),sA(n.remoteStore,new or(Ii(ay(e.path)),i,"TargetPurposeLimboResolution",ld.ue))}}async function mc(n,t,e){const i=Ct(n),r=[],o=[],u=[];i.Pu.isEmpty()||(i.Pu.forEach((h,f)=>{u.push(i.gu(f,t,e).then(g=>{var y;if((g||e)&&i.isPrimaryClient){const v=g?!g.fromCache:(y=e?.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(g){r.push(g);const v=dy.Es(f.targetId,g);o.push(v)}}))}),await Promise.all(u),i.hu.J_(r),await async function(f,g){const y=Ct(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>it.forEach(g,b=>it.forEach(b.Is,S=>y.persistence.referenceDelegate.addReference(v,b.targetId,S)).next(()=>it.forEach(b.ds,S=>y.persistence.referenceDelegate.removeReference(v,b.targetId,S)))))}catch(v){if(!Jo(v))throw v;ht(gy,"Failed to update sequence numbers: "+v)}for(const v of g){const b=v.targetId;if(!v.fromCache){const S=y.Fs.get(b),A=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(A);y.Fs=y.Fs.insert(b,I)}}}(i.localStore,o))}async function fN(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){ht(Ty,"User change. New user:",t.toKey());const i=await tA(e.localStore,t);e.currentUser=t,function(o,u){o.Vu.forEach(h=>{h.forEach(f=>{f.reject(new pt(rt.CANCELLED,u))})}),o.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await mc(e,i.Bs)}}function dN(n,t){const e=Ct(n),i=e.Eu.get(t);if(i&&i.lu)return Vt().add(i.key);{let r=Vt();const o=e.Tu.get(t);if(!o)return r;for(const u of o){const h=e.Pu.get(u);r=r.unionWith(h.view.tu)}return r}}function yA(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lN.bind(null,t),t.hu.J_=$k.bind(null,t.eventManager),t.hu.pu=Xk.bind(null,t.eventManager),t}function gN(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cN.bind(null,t),t}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return mk(this.persistence,new fk,t.initialUser,this.serializer)}Du(t){return new Jw(fy.Vi,this.serializer)}bu(t){return new Tk}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class mN extends Hf{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){Yt(this.persistence.referenceDelegate instanceof jf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new QM(i,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Jw(i=>jf.Vi(i,e),this.serializer)}}class xp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ME(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fN.bind(null,this.syncEngine),await qk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Yk}()}createDatastore(t){const e=yd(t.databaseInfo.databaseId),i=function(o){return new Rk(o)}(t.databaseInfo);return function(o,u,h,f){return new Ok(o,u,h,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,u,h){return new kk(i,r,o,u,h)}(this.localStore,this.datastore,t.asyncQueue,e=>ME(this.syncEngine,e,0),function(){return xE.C()?new xE:new Sk}())}createSyncEngine(t,e){return function(r,o,u,h,f,g,y){const v=new eN(r,o,u,h,f,g);return y&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=Ct(r);ht(wa,"RemoteStore shutting down."),o.Ia.add(5),await gc(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}xp.provider={build:()=>new xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Ts("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="FirestoreClient";class yN{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=rn.UNAUTHENTICATED,this.clientId=Jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{ht(Tr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ht(Tr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=by(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Fm(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Tr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await tA(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>{pr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ht("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{pr("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=t}async function NE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await _N(n);ht(Tr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>CE(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>CE(t.remoteStore,r)),n._onlineComponents=t}async function _N(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Tr,"Using user provided OfflineComponentProvider");try{await Fm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;pr("Error using user provided cache. Falling back to memory cache: "+e),await Fm(n,new Hf)}}else ht(Tr,"Using default OfflineComponentProvider"),await Fm(n,new mN(void 0));return n._offlineComponents}async function _A(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Tr,"Using user provided OnlineComponentProvider"),await NE(n,n._uninitializedComponentsProvider._online)):(ht(Tr,"Using default OnlineComponentProvider"),await NE(n,new xp))),n._onlineComponents}function vN(n){return _A(n).then(t=>t.syncEngine)}async function bN(n){const t=await _A(n),e=t.eventManager;return e.onListen=nN.bind(null,t.syncEngine),e.onUnlisten=rN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=iN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=aN.bind(null,t.syncEngine),e}function EN(n,t,e={}){const i=new gr;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,g){const y=new pN({next:b=>{y.Ou(),u.enqueueAndForget(()=>Wk(o,v));const S=b.docs.has(h);!S&&b.fromCache?g.reject(new pt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&f&&f.source==="server"?g.reject(new pt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new Qk(ay(h.path),y,{includeMetadataChanges:!0,ka:!0});return Kk(o,v)}(await bN(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firestore.googleapis.com",VE=!0;class LE{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bA,this.ssl=VE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:VE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Zw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$M)throw new pt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wy{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new SO;switch(i.type){case"firstParty":return new RO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=PE.get(e);i&&(ht("ComponentProvider","Removing Datastore"),PE.delete(e),i.terminate())}(this),Promise.resolve()}}function TN(n,t,e,i={}){var r;n=qu(n,wy);const o=Wo(t),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${t}:${e}`;o&&(pS(`https://${f}`),yS("Firestore",!0)),u.host!==bA&&u.host!==f&&pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:i});if(!va(g,h)&&(n._setSettings(g),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=rn.MOCK_USER;else{y=MC(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new pt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new rn(b)}n._authCredentials=new wO(new cw(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ay(this.firestore,t,this._query)}}class qe{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(hc(e,qe._jsonSchema))return new qe(t,i||null,new _t(he.fromString(e.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Re("string",qe._jsonSchemaVersion),referencePath:Re("string")};class Qu extends Ay{constructor(t,e,i){super(t,e,ay(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new _t(t))}withConverter(t){return new Qu(this.firestore,t,this._path)}}function Ff(n,t,...e){if(n=bn(n),arguments.length===1&&(t=Jp.newId()),MO("doc","path",t),n instanceof wy){const i=he.fromString(t,...e);return Qb(i),new qe(n,null,new _t(i))}{if(!(n instanceof qe||n instanceof Qu))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(he.fromString(t,...e));return Qb(i),new qe(n.firestore,n instanceof Qu?n.converter:null,new _t(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="AsyncQueue";class zE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new nA(this,"async_queue_retry"),this.oc=()=>{const i=Hm();i&&ht(UE,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const e=Hm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=Hm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const e=new gr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Jo(t))throw t;ht(UE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const e=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,Ts("INTERNAL UNHANDLED ERROR: ",jE(i)),i}).then(i=>(this.nc=!1,i))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const r=vy.createAndSchedule(this,t,e,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&St(47125,{hc:jE(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function jE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class xy extends wy{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new zE,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zE(t),this._firestoreClient=void 0,await t}}}function SN(n,t){const e=typeof n=="object"?n:ES(),i=typeof n=="string"?n:kf,r=Bp(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=DC("firestore");o&&TN(r,...o)}return r}function EA(n){if(n._terminated)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||wN(n),n._firestoreClient}function wN(n){var t,e,i;const r=n._freezeSettings(),o=function(h,f,g,y){return new qO(h,f,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,vA(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new yN(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h?._online.build();return{_offline:h?._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(Je.fromBase64String(t))}catch(e){throw new pt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Kn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(hc(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Re("string",Kn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new pt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new pt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(hc(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Re("string",Oi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(hc(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Mi(t.vectorValues);throw new pt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Re("string",Mi._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=/^__.*__$/;class xN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Da(t,this.data,this.fieldMask,e,this.fieldTransforms):new fc(t,this.data,e,this.fieldTransforms)}}function SA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ec:n})}}class Cy{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Cy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.fc(t),r}gc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return qf(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(SA(this.Ec)&&AN.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class RN{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||yd(t)}Dc(t,e,i,r=!1){return new Cy({Ec:t,methodName:e,bc:i,path:Qe.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CN(n){const t=n._freezeSettings(),e=yd(n._databaseId);return new RN(n._databaseId,!!t.ignoreUndefinedProperties,e)}function IN(n,t,e,i,r,o={}){const u=n.Dc(o.merge||o.mergeFields?2:0,t,e,r);RA("Data must be an object, but it was:",u,i);const h=AA(i,u);let f,g;if(o.merge)f=new ni(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const b=DN(t,v,e);if(!u.contains(b))throw new pt(rt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);MN(y,b)||y.push(b)}f=new ni(y),g=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,g=u.fieldTransforms;return new xN(new Yn(h),f,g)}function wA(n,t){if(xA(n=bn(n)))return RA("Unsupported field value:",t,n),AA(n,t);if(n instanceof TA)return function(i,r){if(!SA(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(i,r){const o=[];let u=0;for(const h of i){let f=wA(h,r.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ae.fromDate(i);return{timestampValue:zf(r.serializer,o)}}if(i instanceof ae){const o=new ae(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zf(r.serializer,o)}}if(i instanceof Oi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Kn)return{bytesValue:Gw(r.serializer,i._byteString)};if(i instanceof qe){const o=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw r.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Mi)return function(u,h){return{mapValue:{fields:{[bw]:{stringValue:Ew},[Nf]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw h.wc("VectorValues must only contain numeric values.");return oy(h.serializer,g)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${ty(i)}`)}(n,t)}function AA(n,t){const e={};return gw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ca(n,(i,r)=>{const o=wA(r,t.Vc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function xA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ae||n instanceof Oi||n instanceof Kn||n instanceof qe||n instanceof TA||n instanceof Mi)}function RA(n,t,e){if(!xA(e)||!fw(e)){const i=ty(e);throw i==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+i)}}function DN(n,t,e){if((t=bn(t))instanceof Ry)return t._internalPath;if(typeof t=="string")return CA(n,t);throw qf("Field path arguments must be of type string or ",n,!1,void 0,e)}const ON=new RegExp("[~\\*/\\[\\]]");function CA(n,t,e){if(t.search(ON)>=0)throw qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ry(...t.split("."))._internalPath}catch{throw qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function qf(n,t,e,i,r){const o=i&&!i.isEmpty(),u=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new pt(rt.INVALID_ARGUMENT,h+n+f)}function MN(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(DA("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class kN extends IA{data(){return super.data()}}function DA(n,t){return typeof t=="string"?CA(n,t):t instanceof Ry?t._internalPath:t._delegate._internalPath}class NN{convertValue(t,e="none"){switch(br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ca(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[Nf].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(u=>be(u.doubleValue));return new Mi(o)}convertGeoPoint(t){return new Oi(be(t.latitude),be(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=cd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Yu(t));default:return null}}convertTimestamp(t){const e=_r(t);return new ae(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=he.fromString(t);Yt(Qw(i),9688,{name:t});const r=new Ku(i.get(1),i.get(3)),o=new _t(i.popFirst(5));return r.isEqual(e)||Ts(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class wu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pa extends IA{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(DA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=pa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:Re("string",pa._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class bf extends pa{data(t={}){return super.data(t)}}class Pu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new wu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new bf(this._firestore,this._userDataWriter,i.key,i,new wu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>{const f=new bf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new wu(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new bf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new wu(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,y=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:VN(h.type),doc:f,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Pu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(n){n=qu(n,qe);const t=qu(n.firestore,xy);return EN(EA(t),n._key).then(e=>zN(t,n,e))}Pu._jsonSchemaVersion="firestore/querySnapshot/1.0",Pu._jsonSchema={type:Re("string",Pu._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class LN extends NN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,e)}}function MA(n,t,e){n=qu(n,qe);const i=qu(n.firestore,xy),r=PN(n.converter,t,e);return UN(i,[IN(CN(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,ys.none())])}function UN(n,t){return function(i,r){const o=new gr;return i.asyncQueue.enqueueAndForget(async()=>oN(await vN(i),r,o)),o.promise}(EA(n),t)}function zN(n,t,e){const i=e.docs.get(t._key),r=new LN(n);return new pa(n,r,t._key,i,new wu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){Qo=r})($o),Uo(new ba("firestore",(i,{instanceIdentifier:r,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new xy(new AO(i.getProvider("auth-internal")),new CO(u,i.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(g.options.projectId,y)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),fr(Yb,Kb,t),fr(Yb,Kb,"esm2017")})();const jN={apiKey:"AIzaSyAGokcG-gl2Yuxpg9oNGwjRZ0U8XYteLh4",authDomain:"budget-app-7d5b7.firebaseapp.com",projectId:"budget-app-7d5b7",storageBucket:"budget-app-7d5b7.firebasestorage.app",messagingSenderId:"307964052069",appId:"1:307964052069:web:26753e0ec1105d335efc8c"},kA=bS(jN),_s=vO(kA),Gf=SN(kA);sD(_s,$p);function BN(){const n=Ko(),[t,e]=K.useState(""),[i,r]=K.useState(""),[o,u]=K.useState(""),h=g=>{const{name:y,value:v}=g.target;y==="email"&&e(v),y==="password"&&r(v)},f=async g=>{g.preventDefault();try{const v=(await iD(_s,t,i)).user,b=Ff(Gf,"users",v.uid);(await OA(b)).exists()?n("/home"):n("/balance")}catch(y){u(y.message),console.error("로그인 실패:",y)}};return G.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[G.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[G.jsx("img",{alt:"TodayBudget",src:"/Logo.svg",className:"mx-auto h-10 w-auto"}),G.jsx("h2",{className:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900",children:"Sign in to your account"})]}),G.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[G.jsxs("form",{action:"#",method:"POST",className:"space-y-6",onSubmit:f,children:[G.jsxs("div",{children:[G.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900",children:"Email address"}),G.jsx("div",{className:"mt-2",children:G.jsx("input",{id:"email",name:"email",type:"email",value:t,onChange:h,required:!0,autoComplete:"email",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),G.jsxs("div",{children:[G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsx("label",{htmlFor:"password",className:"block text-sm/6 font-medium text-gray-900",children:"Password"}),G.jsx("div",{className:"text-sm",children:G.jsx("a",{href:"#",className:"font-semibold text-indigo-600 hover:text-indigo-500",children:"Forgot password?"})})]}),G.jsx("div",{className:"mt-2",children:G.jsx("input",{id:"password",name:"password",type:"password",value:i,onChange:h,required:!0,autoComplete:"current-password",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),G.jsxs("div",{children:[G.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Sign in"}),G.jsx(_a,{to:"/signup",children:G.jsx("button",{type:"button",className:"mt-4 flex w-full justify-center rounded-md bg-sky-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Create Acount"})}),o&&G.jsx("p",{className:"text-red-500 text-sm",children:o})]})]}),G.jsx("p",{className:"mt-10 text-center text-sm/6 text-gray-500"})]})]})}const NA=K.createContext();function HN({children:n}){const[t,e]=K.useState(null),[i,r]=K.useState(!0);return K.useEffect(()=>oD(_s,u=>{e(u),r(!1)}),[]),G.jsx(NA.Provider,{value:{user:t,loading:i},children:!i&&n})}function FN(){return K.useContext(NA)}function qN(){const{user:n}=FN(),t=Ko(),e=async()=>{try{await lD(_s),t("/signin")}catch(i){console.error("로그아웃 실패:",i)}};return G.jsx("header",{className:"bg-white",children:G.jsxs("div",{className:"mx-auto flex h-16 max-w-screen-xl items-center gap-8 px-4",children:[G.jsxs("a",{className:"block text-teal-600",href:"#",children:[G.jsx("span",{className:"sr-only",children:"Home"}),G.jsx("img",{alt:"TodayBudget",src:"/Logo.svg",className:"mx-auto h-10 w-auto"})]}),G.jsx("div",{className:"flex flex-1 items-center justify-end md:justify-between",children:G.jsx("div",{className:"flex items-center gap-4",children:G.jsxs("div",{className:"sm:flex sm:gap-4",children:[n?G.jsxs("p",{children:[n.email.split("@")[0],"님 어서오세요"]}):G.jsx(_a,{to:"/signIn",children:"로그인 해주세요"}),n&&G.jsx("button",{onClick:e,children:"로그아웃"})]})})})]})})}function GN({transactions:n=[],balance:t=0}){const e=n.filter(r=>r.type==="out").reduce((r,o)=>r+o.amount,0),i=n.filter(r=>r.type==="in").reduce((r,o)=>r+o.amount,0);return G.jsxs("div",{className:"bg-white dark:bg-[#1E2028] p-4 rounded shadow flex justify-between",children:[G.jsxs("div",{children:[G.jsx("p",{className:"text-gray-500",children:"오늘 지출"}),G.jsxs("p",{className:"text-xl font-semibold text-red-500",children:[e.toLocaleString(),"원"]})]}),G.jsxs("div",{children:[G.jsx("p",{className:"text-gray-500",children:"오늘 입금"}),G.jsxs("p",{className:"text-xl font-semibold text-indigo-500",children:[i.toLocaleString(),"원"]})]}),G.jsxs("div",{children:[G.jsx("p",{className:"text-gray-500",children:"잔액"}),G.jsxs("p",{className:"text-xl font-semibold text-green-600",children:[t.toLocaleString(),"원"]})]})]})}function YN({fields:n,onAddTransaction:t}){const[e,i]=K.useState(n[0].id),[r,o]=K.useState(""),[u,h]=K.useState(""),[f,g]=K.useState(""),[y,v]=K.useState("out"),b=()=>{const S=parseFloat(r);if(isNaN(S)||S<=0)return alert("금액을 입력하세요");if(!u)return alert("날짜를 선택하세요");t({id:Date.now(),type:y,categoryId:e,label:n.find(A=>A.id===e).label,amount:S,date:u,memo:f}),o(""),h(""),g(""),v("out"),i(n[0].id)};return G.jsxs("div",{className:"bg-white dark:bg-[#1E2028] p-4 rounded shadow space-y-4",children:[G.jsx("h2",{className:"text-lg font-semibold",children:"거래 추가"}),G.jsxs("div",{className:"flex gap-2",children:[G.jsx("input",{type:"date",value:u,onChange:S=>h(S.target.value),max:new Date().toISOString().split("T")[0],className:"border rounded px-2 py-1 flex-1 dark:bg-[#2a2c34] dark:text-white"}),G.jsxs("select",{value:y,onChange:S=>v(S.target.value),className:"border rounded px-2 py-1 dark:bg-[#2a2c34] dark:text-white",children:[G.jsx("option",{value:"out",children:"출금"}),G.jsx("option",{value:"in",children:"입금"})]})]}),G.jsxs("div",{className:"flex gap-2",children:[G.jsx("select",{value:e,onChange:S=>i(S.target.value),className:"border rounded px-2 py-1 dark:bg-[#2a2c34] dark:text-white",children:n.map(S=>G.jsx("option",{value:S.id,children:S.label},S.id))}),G.jsx("input",{type:"number",value:r,onChange:S=>o(S.target.value),placeholder:"금액",className:"border rounded px-2 py-1 flex-1 dark:bg-[#2a2c34] dark:text-white"})]}),G.jsx("input",{type:"text",value:f,onChange:S=>g(S.target.value),placeholder:"메모",className:"border rounded px-2 py-1 w-full dark:bg-[#2a2c34] dark:text-white"}),G.jsx("button",{onClick:b,className:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded",children:"추가"})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function pc(n){return n+.5|0}const lr=(n,t,e)=>Math.max(Math.min(n,e),t);function Au(n){return lr(pc(n*2.55),0,255)}function mr(n){return lr(pc(n*255),0,255)}function fs(n){return lr(pc(n/2.55)/100,0,1)}function BE(n){return lr(pc(n*100),0,100)}const qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rp=[..."0123456789ABCDEF"],KN=n=>Rp[n&15],WN=n=>Rp[(n&240)>>4]+Rp[n&15],$h=n=>(n&240)>>4===(n&15),$N=n=>$h(n.r)&&$h(n.g)&&$h(n.b)&&$h(n.a);function XN(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&qn[n[1]]*17,g:255&qn[n[2]]*17,b:255&qn[n[3]]*17,a:t===5?qn[n[4]]*17:255}:(t===7||t===9)&&(e={r:qn[n[1]]<<4|qn[n[2]],g:qn[n[3]]<<4|qn[n[4]],b:qn[n[5]]<<4|qn[n[6]],a:t===9?qn[n[7]]<<4|qn[n[8]]:255})),e}const QN=(n,t)=>n<255?t(n):"";function ZN(n){var t=$N(n)?KN:WN;return n?"#"+t(n.r)+t(n.g)+t(n.b)+QN(n.a,t):void 0}const JN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function PA(n,t,e){const i=t*Math.min(e,1-e),r=(o,u=(o+n/30)%12)=>e-i*Math.max(Math.min(u-3,9-u,1),-1);return[r(0),r(8),r(4)]}function tP(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function eP(n,t,e){const i=PA(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function nP(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Iy(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),u=Math.min(e,i,r),h=(o+u)/2;let f,g,y;return o!==u&&(y=o-u,g=h>.5?y/(2-o-u):y/(o+u),f=nP(e,i,r,y,o),f=f*60+.5),[f|0,g||0,h]}function Dy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(mr)}function Oy(n,t,e){return Dy(PA,n,t,e)}function iP(n,t,e){return Dy(eP,n,t,e)}function sP(n,t,e){return Dy(tP,n,t,e)}function VA(n){return(n%360+360)%360}function rP(n){const t=JN.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Au(+t[5]):mr(+t[5]));const r=VA(+t[2]),o=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?i=iP(r,o,u):t[1]==="hsv"?i=sP(r,o,u):i=Oy(r,o,u),{r:i[0],g:i[1],b:i[2],a:e}}function aP(n,t){var e=Iy(n);e[0]=VA(e[0]+t),e=Oy(e),n.r=e[0],n.g=e[1],n.b=e[2]}function oP(n){if(!n)return;const t=Iy(n),e=t[0],i=BE(t[1]),r=BE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${fs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const HE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},FE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lP(){const n={},t=Object.keys(FE),e=Object.keys(HE);let i,r,o,u,h;for(i=0;i<t.length;i++){for(u=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,HE[o]);o=parseInt(FE[u],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Xh;function uP(n){Xh||(Xh=lP(),Xh.transparent=[0,0,0,0]);const t=Xh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const cP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hP(n){const t=cP.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const u=+t[7];e=t[8]?Au(u):lr(u*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Au(i):lr(i,0,255)),r=255&(t[4]?Au(r):lr(r,0,255)),o=255&(t[6]?Au(o):lr(o,0,255)),{r:i,g:r,b:o,a:e}}}function fP(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${fs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const qm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ao=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function dP(n,t,e){const i=Ao(fs(n.r)),r=Ao(fs(n.g)),o=Ao(fs(n.b));return{r:mr(qm(i+e*(Ao(fs(t.r))-i))),g:mr(qm(r+e*(Ao(fs(t.g))-r))),b:mr(qm(o+e*(Ao(fs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Qh(n,t,e){if(n){let i=Iy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Oy(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function LA(n,t){return n&&Object.assign(t||{},n)}function qE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=mr(n[3]))):(t=LA(n,{r:0,g:0,b:0,a:1}),t.a=mr(t.a)),t}function gP(n){return n.charAt(0)==="r"?hP(n):rP(n)}class Zu{constructor(t){if(t instanceof Zu)return t;const e=typeof t;let i;e==="object"?i=qE(t):e==="string"&&(i=XN(t)||uP(t)||gP(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=LA(this._rgb);return t&&(t.a=fs(t.a)),t}set rgb(t){this._rgb=qE(t)}rgbString(){return this._valid?fP(this._rgb):void 0}hexString(){return this._valid?ZN(this._rgb):void 0}hslString(){return this._valid?oP(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const u=e===o?.5:e,h=2*u-1,f=i.a-r.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=u*i.a+(1-u)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=dP(this._rgb,t._rgb,e)),this}clone(){return new Zu(this.rgb)}alpha(t){return this._rgb.a=mr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=pc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Qh(this._rgb,2,t),this}darken(t){return Qh(this._rgb,2,-t),this}saturate(t){return Qh(this._rgb,1,t),this}desaturate(t){return Qh(this._rgb,1,-t),this}rotate(t){return aP(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function us(){}const mP=(()=>{let n=0;return()=>n++})();function on(n){return n==null}function Ze(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ht(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ws(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ti(n,t){return ws(n)?n:t}function Qt(n,t){return typeof n>"u"?t:n}const pP=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,UA=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function re(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Xt(n,t,e,i){let r,o,u;if(Ze(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Ht(n))for(u=Object.keys(n),o=u.length,r=0;r<o;r++)t.call(e,n[u[r]],u[r])}function Yf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Kf(n){if(Ze(n))return n.map(Kf);if(Ht(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Kf(n[e[r]]);return t}return n}function zA(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function yP(n,t,e,i){if(!zA(n))return;const r=t[n],o=e[n];Ht(r)&&Ht(o)?Ju(r,o,i):t[n]=Kf(o)}function Ju(n,t,e){const i=Ze(t)?t:[t],r=i.length;if(!Ht(n))return n;e=e||{};const o=e.merger||yP;let u;for(let h=0;h<r;++h){if(u=i[h],!Ht(u))continue;const f=Object.keys(u);for(let g=0,y=f.length;g<y;++g)o(f[g],n,u,e)}return n}function Vu(n,t){return Ju(n,t,{merger:_P})}function _P(n,t,e){if(!zA(n))return;const i=t[n],r=e[n];Ht(i)&&Ht(r)?Vu(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Kf(r))}const GE={"":n=>n,x:n=>n.x,y:n=>n.y};function vP(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function bP(n){const t=vP(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function tc(n,t){return(GE[t]||(GE[t]=bP(t)))(n)}function My(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Wf=n=>typeof n<"u",Sr=n=>typeof n=="function",YE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function EP(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const oe=Math.PI,Ce=2*oe,$f=Number.POSITIVE_INFINITY,TP=oe/180,Pe=oe/2,ua=oe/4,KE=oe*2/3,WE=Math.sign;function SP(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function wP(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Xf(n){return!wP(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function ma(n){return n*(oe/180)}function AP(n){return n*(180/oe)}function jA(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*oe&&(o+=Ce),{angle:o,distance:r}}function xP(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function xi(n){return(n%Ce+Ce)%Ce}function Qf(n,t,e,i){const r=xi(n),o=xi(t),u=xi(e),h=xi(o-r),f=xi(u-r),g=xi(r-o),y=xi(r-u);return r===o||r===u||i&&o===u||h>f&&g<y}function Wn(n,t,e){return Math.max(t,Math.min(e,n))}function RP(n){return Wn(n,-32768,32767)}function xu(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function ky(n,t,e){e=e||(u=>n[u]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Cp=(n,t,e,i)=>ky(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),CP=(n,t,e)=>ky(n,e,i=>n[i][t]>=e);function IP(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const BA=["push","pop","shift","splice","unshift"];function DP(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),BA.forEach(e=>{const i="_onData"+My(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const u=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),u}})})}function $E(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(BA.forEach(o=>{delete n[o]}),delete n._chartjs)}function OP(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const HA=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function FA(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,HA.call(window,()=>{i=!1,n.apply(t,e)}))}}function MP(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const qA=n=>n==="start"?"left":n==="end"?"right":"center",Dn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,kP=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Zh=n=>n===0||n===1,XE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ce/e)),QE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ce/e)+1,Lu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Pe)+1,easeOutSine:n=>Math.sin(n*Pe),easeInOutSine:n=>-.5*(Math.cos(oe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Zh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Zh(n)?n:XE(n,.075,.3),easeOutElastic:n=>Zh(n)?n:QE(n,.075,.3),easeInOutElastic(n){return Zh(n)?n:n<.5?.5*XE(n*2,.1125,.45):.5+.5*QE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Lu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Lu.easeInBounce(n*2)*.5:Lu.easeOutBounce(n*2-1)*.5+.5};function GA(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ZE(n){return GA(n)?n:new Zu(n)}function Gm(n){return GA(n)?n:new Zu(n).saturate(.5).darken(.1).hexString()}const NP=["x","y","borderWidth","radius","tension"],PP=["color","borderColor","backgroundColor"];function VP(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:PP},numbers:{type:"number",properties:NP}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function LP(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const JE=new Map;function UP(n,t){t=t||{};const e=n+JSON.stringify(t);let i=JE.get(e);return i||(i=new Intl.NumberFormat(n,t),JE.set(e,i)),i}function zP(n,t,e){return UP(t,e).format(n)}const jP={values(n){return Ze(n)?n:""+n}};var BP={formatters:jP};function HP(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:BP.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Aa=Object.create(null),Ip=Object.create(null);function Uu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Ym(n,t,e){return typeof t=="string"?Ju(Uu(n,t),e):Ju(Uu(n,""),t)}class FP{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Gm(r.backgroundColor),this.hoverBorderColor=(i,r)=>Gm(r.borderColor),this.hoverColor=(i,r)=>Gm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Ym(this,t,e)}get(t){return Uu(this,t)}describe(t,e){return Ym(Ip,t,e)}override(t,e){return Ym(Aa,t,e)}route(t,e,i,r){const o=Uu(this,t),u=Uu(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=u[r];return Ht(f)?Object.assign({},g,f):Qt(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Ee=new FP({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[VP,LP,HP]);function qP(n){return!n||on(n.size)||on(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function tT(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function ca(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function eT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function nT(n,t,e,i){YA(n,t,e,i,null)}function YA(n,t,e,i,r){let o,u,h,f,g,y,v,b;const S=t.pointStyle,A=t.rotation,I=t.radius;let C=(A||0)*TP;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),S){default:r?n.ellipse(e,i,r/2,I,0,0,Ce):n.arc(e,i,I,0,Ce),n.closePath();break;case"triangle":y=r?r/2:I,n.moveTo(e+Math.sin(C)*y,i-Math.cos(C)*I),C+=KE,n.lineTo(e+Math.sin(C)*y,i-Math.cos(C)*I),C+=KE,n.lineTo(e+Math.sin(C)*y,i-Math.cos(C)*I),n.closePath();break;case"rectRounded":g=I*.516,f=I-g,u=Math.cos(C+ua)*f,v=Math.cos(C+ua)*(r?r/2-g:f),h=Math.sin(C+ua)*f,b=Math.sin(C+ua)*(r?r/2-g:f),n.arc(e-v,i-h,g,C-oe,C-Pe),n.arc(e+b,i-u,g,C-Pe,C),n.arc(e+v,i+h,g,C,C+Pe),n.arc(e-b,i+u,g,C+Pe,C+oe),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*I,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}C+=ua;case"rectRot":v=Math.cos(C)*(r?r/2:I),u=Math.cos(C)*I,h=Math.sin(C)*I,b=Math.sin(C)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+b,i-u),n.lineTo(e+v,i+h),n.lineTo(e-b,i+u),n.closePath();break;case"crossRot":C+=ua;case"cross":v=Math.cos(C)*(r?r/2:I),u=Math.cos(C)*I,h=Math.sin(C)*I,b=Math.sin(C)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u);break;case"star":v=Math.cos(C)*(r?r/2:I),u=Math.cos(C)*I,h=Math.sin(C)*I,b=Math.sin(C)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u),C+=ua,v=Math.cos(C)*(r?r/2:I),u=Math.cos(C)*I,h=Math.sin(C)*I,b=Math.sin(C)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u);break;case"line":u=r?r/2:Math.cos(C)*I,h=Math.sin(C)*I,n.moveTo(e-u,i-h),n.lineTo(e+u,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(r?r/2:I),i+Math.sin(C)*I);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function KA(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Ny(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Py(n){n.restore()}function GP(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),on(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function YP(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),u=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(u,y),n.lineTo(h,y),n.stroke()}}function KP(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Zf(n,t,e,i,r,o={}){const u=Ze(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=r.string,GP(n,o),f=0;f<u.length;++f)g=u[f],o.backdrop&&KP(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),on(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),YP(n,e,i,g,o),i+=Number(r.lineHeight);n.restore()}function Dp(n,t){const{x:e,y:i,w:r,h:o,radius:u}=t;n.arc(e+u.topLeft,i+u.topLeft,u.topLeft,1.5*oe,oe,!0),n.lineTo(e,i+o-u.bottomLeft),n.arc(e+u.bottomLeft,i+o-u.bottomLeft,u.bottomLeft,oe,Pe,!0),n.lineTo(e+r-u.bottomRight,i+o),n.arc(e+r-u.bottomRight,i+o-u.bottomRight,u.bottomRight,Pe,0,!0),n.lineTo(e+r,i+u.topRight),n.arc(e+r-u.topRight,i+u.topRight,u.topRight,0,-Pe,!0),n.lineTo(e+u.topLeft,i)}const WP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$P=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function XP(n,t){const e=(""+n).match(WP);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const QP=n=>+n||0;function Vy(n,t){const e={},i=Ht(t),r=i?Object.keys(t):t,o=Ht(n)?i?u=>Qt(n[u],n[t[u]]):u=>n[u]:()=>n;for(const u of r)e[u]=QP(o(u));return e}function ZP(n){return Vy(n,{top:"y",right:"x",bottom:"y",left:"x"})}function zu(n){return Vy(n,["topLeft","topRight","bottomLeft","bottomRight"])}function si(n){const t=ZP(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function vn(n,t){n=n||{},t=t||Ee.font;let e=Qt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Qt(n.style,t.style);i&&!(""+i).match($P)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Qt(n.family,t.family),lineHeight:XP(Qt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Qt(n.weight,t.weight),string:""};return r.string=qP(r),r}function Jh(n,t,e,i){let r,o,u;for(r=0,o=n.length;r<o;++r)if(u=n[r],u!==void 0&&u!==void 0)return u}function JP(n,t,e){const{min:i,max:r}=n,o=UA(t,(r-i)/2),u=(h,f)=>e&&h===0?0:h+f;return{min:u(i,-Math.abs(o)),max:u(r,o)}}function el(n,t){return Object.assign(Object.create(n),t)}function Ly(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=QA("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>Ly([h,...n],t,o,i)};return new Proxy(u,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return $A(h,f,()=>oV(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return sT(h).includes(f)},ownKeys(h){return sT(h)},set(h,f,g){const y=h._storage||(h._storage=r());return h[f]=y[f]=g,delete h._keys,!0}})}function qo(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:WA(n,i),setContext:o=>qo(n,o,e,i),override:o=>qo(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,u){return delete o[u],delete n[u],!0},get(o,u,h){return $A(o,u,()=>eV(o,u,h))},getOwnPropertyDescriptor(o,u){return o._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(o,u,h){return n[u]=h,delete o[u],!0}})}function WA(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Sr(e)?e:()=>e,isIndexable:Sr(i)?i:()=>i}}const tV=(n,t)=>n?n+My(t):t,Uy=(n,t)=>Ht(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function $A(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function eV(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:u}=n;let h=i[t];return Sr(h)&&u.isScriptable(t)&&(h=nV(t,h,n,e)),Ze(h)&&h.length&&(h=iV(t,h,n,u.isIndexable)),Uy(t,h)&&(h=qo(h,r,o&&o[t],u)),h}function nV(n,t,e,i){const{_proxy:r,_context:o,_subProxy:u,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,u||i);return h.delete(n),Uy(n,f)&&(f=zy(r._scopes,r,n,f)),f}function iV(n,t,e,i){const{_proxy:r,_context:o,_subProxy:u,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Ht(t[0])){const f=t,g=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const v=zy(g,r,n,y);t.push(qo(v,o,u&&u[n],h))}}return t}function XA(n,t,e){return Sr(n)?n(t,e):n}const sV=(n,t)=>n===!0?t:typeof n=="string"?tc(t,n):void 0;function rV(n,t,e,i,r){for(const o of t){const u=sV(e,o);if(u){n.add(u);const h=XA(u._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(u===!1&&typeof i<"u"&&e!==i)return null}return!1}function zy(n,t,e,i){const r=t._rootScopes,o=XA(t._fallback,e,i),u=[...n,...r],h=new Set;h.add(i);let f=iT(h,u,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=iT(h,u,o,f,i),f===null)?!1:Ly(Array.from(h),[""],r,o,()=>aV(t,e,i))}function iT(n,t,e,i,r){for(;e;)e=rV(n,t,e,i,r);return e}function aV(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Ze(r)&&Ht(e)?e:r||{}}function oV(n,t,e,i){let r;for(const o of t)if(r=QA(tV(o,n),e),typeof r<"u")return Uy(n,r)?zy(e,i,n,r):r}function QA(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function sT(n){let t=n._keys;return t||(t=n._keys=lV(n._scopes)),t}function lV(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function jy(){return typeof window<"u"&&typeof document<"u"}function By(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Jf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const bd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function uV(n,t){return bd(n).getPropertyValue(t)}const cV=["top","right","bottom","left"];function ya(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=cV[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const hV=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function fV(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let u=!1,h,f;if(hV(r,o,n.target))h=r,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,u=!0}return{x:h,y:f,box:u}}function da(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=bd(e),o=r.boxSizing==="border-box",u=ya(r,"padding"),h=ya(r,"border","width"),{x:f,y:g,box:y}=fV(n,e),v=u.left+(y&&h.left),b=u.top+(y&&h.top);let{width:S,height:A}=t;return o&&(S-=u.width+h.width,A-=u.height+h.height),{x:Math.round((f-v)/S*e.width/i),y:Math.round((g-b)/A*e.height/i)}}function dV(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&By(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const u=o.getBoundingClientRect(),h=bd(o),f=ya(h,"border","width"),g=ya(h,"padding");t=u.width-g.width-f.width,e=u.height-g.height-f.height,i=Jf(h.maxWidth,o,"clientWidth"),r=Jf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||$f,maxHeight:r||$f}}const tf=n=>Math.round(n*10)/10;function gV(n,t,e,i){const r=bd(n),o=ya(r,"margin"),u=Jf(r.maxWidth,n,"clientWidth")||$f,h=Jf(r.maxHeight,n,"clientHeight")||$f,f=dV(n,t,e);let{width:g,height:y}=f;if(r.boxSizing==="content-box"){const b=ya(r,"border","width"),S=ya(r,"padding");g-=S.width+b.width,y-=S.height+b.height}return g=Math.max(0,g-o.width),y=Math.max(0,i?g/i:y-o.height),g=tf(Math.min(g,u,f.maxWidth)),y=tf(Math.min(y,h,f.maxHeight)),g&&!y&&(y=tf(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,g=tf(Math.floor(y*i))),{width:g,height:y}}function rT(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const u=n.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||u.height!==r||u.width!==o?(n.currentDevicePixelRatio=i,u.height=r,u.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const mV=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};jy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function aT(n,t){const e=uV(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const pV=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},yV=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Lo(n,t,e){return n?pV(t,e):yV()}function ZA(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function JA(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function ef(n,t,e){return n.options.clip?n[e]:t[e]}function _V(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:ef(e,t,"left"),right:ef(e,t,"right"),top:ef(i,t,"top"),bottom:ef(i,t,"bottom")}:t}function vV(n,t){const e=t._clip;if(e.disabled)return!1;const i=_V(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class bV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],u=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(i-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=HA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let u=o.length-1,h=!1,f;for(;u>=0;--u)f=o[u],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[u]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var cs=new bV;const oT="transparent",EV={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=ZE(n||oT),r=i.valid&&ZE(t||oT);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class TV{constructor(t,e,i,r){const o=e[i];r=Jh([t.to,r,o,t.from]);const u=Jh([t.from,o,r]);this._active=!0,this._fn=t.fn||EV[t.type||typeof u],this._easing=Lu[t.easing]||Lu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=u,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,u=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Jh([t.to,e,r,t.from]),this._from=Jh([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,u=this._loop,h=this._to;let f;if(this._active=o!==h&&(u||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=u&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class t1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ht(t))return;const e=Object.keys(Ee.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Ht(o))return;const u={};for(const h of e)u[h]=o[h];(Ze(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,u)})})}_animateOptions(t,e){const i=e.options,r=wV(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&SV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let f;for(f=u.length-1;f>=0;--f){const g=u[f];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[g];let v=o[g];const b=i.get(g);if(v)if(b&&v.active()){v.update(b,y,h);continue}else v.cancel();if(!b||!b.duration){t[g]=y;continue}o[g]=v=new TV(b,t,g,y),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return cs.add(this._chart,i),!0}}function SV(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function wV(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function lT(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function AV(n,t,e){if(e===!1)return!1;const i=lT(n,e),r=lT(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function xV(n){let t,e,i,r;return Ht(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function e1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function uT(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let u,h,f,g;if(t===null)return;let y=!1;for(u=0,h=r.length;u<h;++u){if(f=+r[u],f===e){if(y=!0,i.all)continue;break}g=n.values[f],ws(g)&&(o||t===0||WE(t)===WE(g))&&(t+=g)}return!y&&!i.all?0:t}function RV(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",u=Object.keys(n),h=new Array(u.length);let f,g,y;for(f=0,g=u.length;f<g;++f)y=u[f],h[f]={[r]:y,[o]:n[y]};return h}function Km(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function CV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function IV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function DV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function cT(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function hT(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:u,index:h}=i,f=o.axis,g=u.axis,y=CV(o,u,i),v=t.length;let b;for(let S=0;S<v;++S){const A=t[S],{[f]:I,[g]:C}=A,M=A._stacks||(A._stacks={});b=M[g]=DV(r,y,I),b[h]=C,b._top=cT(b,u,!0,i.type),b._bottom=cT(b,u,!1,i.type);const F=b._visualValues||(b._visualValues={});F[h]=C}}function Wm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function OV(n,t){return el(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function MV(n,t,e){return el(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function gu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const $m=n=>n==="reset"||n==="none",fT=(n,t)=>t?n:Object.assign({},n),kV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:e1(e,!0),values:null};class n1{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Km(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&gu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(v,b,S,A)=>v==="x"?b:v==="r"?A:S,o=e.xAxisID=Qt(i.xAxisID,Wm(t,"x")),u=e.yAxisID=Qt(i.yAxisID,Wm(t,"y")),h=e.rAxisID=Qt(i.rAxisID,Wm(t,"r")),f=e.indexAxis,g=e.iAxisID=r(f,o,u,h),y=e.vAxisID=r(f,u,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&$E(this._data,this),t._stacked&&gu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ht(e)){const r=this._cachedMeta;this._data=RV(e,r)}else if(i!==e){if(i){$E(i,this);const r=this._cachedMeta;gu(r),r._parsed=[]}e&&Object.isExtensible(e)&&DP(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Km(e.vScale,e),e.stack!==i.stack&&(r=!0,gu(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(hT(this,e._parsed),e._stacked=Km(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:u}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],y,v,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{Ze(r[t])?b=this.parseArrayData(i,r,t,e):Ht(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const S=()=>v[h]===null||g&&v[h]<g[h];for(y=0;y<e;++y)i._parsed[y+t]=v=b[y],f&&(S()&&(f=!1),g=v);i._sorted=f}u&&hT(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:u}=t,h=o.axis,f=u.axis,g=o.getLabels(),y=o===u,v=new Array(r);let b,S,A;for(b=0,S=r;b<S;++b)A=b+i,v[b]={[h]:y||o.parse(g[A],A),[f]:u.parse(e[A],A)};return v}parseArrayData(t,e,i,r){const{xScale:o,yScale:u}=t,h=new Array(r);let f,g,y,v;for(f=0,g=r;f<g;++f)y=f+i,v=e[y],h[f]={x:o.parse(v[0],y),y:u.parse(v[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:u}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let y,v,b,S;for(y=0,v=r;y<v;++y)b=y+i,S=e[b],g[y]={x:o.parse(tc(S,h),b),y:u.parse(tc(S,f),b)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,u=e[t.axis],h={keys:e1(r,!0),values:e._stacks[t.axis]._visualValues};return uT(h,u,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let u=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,u=uT(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,u=r.length,h=this._getOtherScale(t),f=kV(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=IV(h);let b,S;function A(){S=r[b];const I=S[h.axis];return!ws(S[t.axis])||y>I||v<I}for(b=0;b<u&&!(!A()&&(this.updateRangeFromParsed(g,t,S,f),o));++b);if(o){for(b=u-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(g,t,S,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,u;for(r=0,o=e.length;r<o;++r)u=e[r][t.axis],ws(u)&&i.push(u);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=xV(Qt(this.options.clip,AV(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,u=[],h=this._drawStart||0,f=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const v=r[y];v.hidden||(v.active&&g?u.push(v):v.draw(t,o))}for(y=0;y<u.length;++y)u[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];o=u.$context||(u.$context=MV(this.getContext(),t,u)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=OV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,u=t+"-"+e,h=o[u],f=this.enableOptionSharing&&Wf(i);if(h)return fT(h,f);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],b=g.getOptionScopes(this.getDataset(),y),S=Object.keys(Ee.elements[t]),A=()=>this.getContext(i,r,e),I=g.resolveNamedOptions(b,S,A,v);return I.$shared&&(I.$shared=f,o[u]=Object.freeze(fT(I,f))),I}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,u=`animation-${e}`,h=o[u];if(h)return h;let f;if(r.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,e),b=y.getOptionScopes(this.getDataset(),v);f=y.createResolver(b,this.getContext(t,i,e))}const g=new t1(r,f&&f.animations);return f&&f._cacheable&&(o[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||$m(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),u=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:u}}updateElement(t,e,i,r){$m(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!$m(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const r=i.length,o=e.length,u=Math.min(o,r);u&&this.parse(0,u),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,u=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=u;h--)g[h]=g[h-e]};for(f(o),h=t;h<u;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&gu(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function NV(n,t,e){let i=1,r=1,o=0,u=0;if(t<Ce){const h=n,f=h+t,g=Math.cos(h),y=Math.sin(h),v=Math.cos(f),b=Math.sin(f),S=(W,et,tt)=>Qf(W,h,f,!0)?1:Math.max(et,et*e,tt,tt*e),A=(W,et,tt)=>Qf(W,h,f,!0)?-1:Math.min(et,et*e,tt,tt*e),I=S(0,g,v),C=S(Pe,y,b),M=A(oe,g,v),F=A(oe+Pe,y,b);i=(I-M)/2,r=(C-F)/2,o=-(I+M)/2,u=-(C+F)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:u}}class PV extends n1{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,u)=>{const f=t.getDatasetMeta(0).controller.getStyle(u);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Ht(i[t])){const{key:f="value"}=this._parsing;o=g=>+tc(i[g],f)}let u,h;for(u=t,h=t+e;u<h;++u)r._parsed[u]=o(u)}}_getRotation(){return ma(this.options.rotation-90)}_getCircumference(){return ma(this.options.circumference)}_getRotationExtents(){let t=Ce,e=-Ce;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),u=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+u)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,u=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-u)/2,0),f=Math.min(pP(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:y,rotation:v}=this._getRotationExtents(),{ratioX:b,ratioY:S,offsetX:A,offsetY:I}=NV(v,y,f),C=(i.width-u)/b,M=(i.height-u)/S,F=Math.max(Math.min(C,M)/2,0),W=UA(this.options.radius,F),et=Math.max(W*f,0),tt=(W-et)/this._getVisibleDatasetWeightTotal();this.offsetX=A*W,this.offsetY=I*W,r.total=this.calculateTotal(),this.outerRadius=W-tt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-tt*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/Ce)}updateElements(t,e,i,r){const o=r==="reset",u=this.chart,h=u.chartArea,g=u.options.animation,y=(h.left+h.right)/2,v=(h.top+h.bottom)/2,b=o&&g.animateScale,S=b?0:this.innerRadius,A=b?0:this.outerRadius,{sharedOptions:I,includeOptions:C}=this._getSharedOptions(e,r);let M=this._getRotation(),F;for(F=0;F<e;++F)M+=this._circumference(F,o);for(F=e;F<e+i;++F){const W=this._circumference(F,o),et=t[F],tt={x:y+this.offsetX,y:v+this.offsetY,startAngle:M,endAngle:M+W,circumference:W,outerRadius:A,innerRadius:S};C&&(tt.options=I||this.resolveDataElementOptions(F,et.active?"active":r)),M+=W,this.updateElement(et,F,tt,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ce*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=zP(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,u,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){u=i.getDatasetMeta(r),t=u.data,h=u.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Qt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class VV extends PV{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function ha(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Hy{static override(t){Object.assign(Hy.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ha()}parse(){return ha()}format(){return ha()}add(){return ha()}diff(){return ha()}startOf(){return ha()}endOf(){return ha()}}var LV={_date:Hy};function UV(n,t,e,i){const{controller:r,data:o,_sorted:u}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&o.length){const g=h._reversePixels?CP:Cp;if(i){if(r._sharedOptions){const y=o[0],v=typeof y.getRange=="function"&&y.getRange(t);if(v){const b=g(o,t,e-v),S=g(o,t,e+v);return{lo:b.lo,hi:S.hi}}}}else{const y=g(o,t,e);if(f){const{vScale:v}=r._cachedMeta,{_parsed:b}=n,S=b.slice(0,y.lo+1).reverse().findIndex(I=>!on(I[v.axis]));y.lo-=Math.max(0,S);const A=b.slice(y.hi).findIndex(I=>!on(I[v.axis]));y.hi+=Math.max(0,A)}return y}}return{lo:0,hi:o.length-1}}function Ed(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:y}=o[h],{lo:v,hi:b}=UV(o[h],t,u,r);for(let S=v;S<=b;++S){const A=y[S];A.skip||i(A,g,S)}}}function zV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,u=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function Xm(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Ed(n,e,t,function(h,f,g){!r&&!KA(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function jV(n,t,e,i){let r=[];function o(u,h,f){const{startAngle:g,endAngle:y}=u.getProps(["startAngle","endAngle"],i),{angle:v}=jA(u,{x:t.x,y:t.y});Qf(v,g,y)&&r.push({element:u,datasetIndex:h,index:f})}return Ed(n,e,t,o),r}function BV(n,t,e,i,r,o){let u=[];const h=zV(e);let f=Number.POSITIVE_INFINITY;function g(y,v,b){const S=y.inRange(t.x,t.y,r);if(i&&!S)return;const A=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(A))&&!S)return;const C=h(t,A);C<f?(u=[{element:y,datasetIndex:v,index:b}],f=C):C===f&&u.push({element:y,datasetIndex:v,index:b})}return Ed(n,e,t,g),u}function Qm(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?jV(n,t,e,r):BV(n,t,e,i,r,o)}function dT(n,t,e,i,r){const o=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return Ed(n,e,t,(f,g,y)=>{f[u]&&f[u](t[e],r)&&(o.push({element:f,datasetIndex:g,index:y}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var HV={modes:{index(n,t,e,i){const r=da(t,n),o=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?Xm(n,r,o,i,u):Qm(n,r,o,!1,i,u),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const y=h[0].index,v=g.data[y];v&&!v.skip&&f.push({element:v,datasetIndex:g.index,index:y})}),f):[]},dataset(n,t,e,i){const r=da(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?Xm(n,r,o,i,u):Qm(n,r,o,!1,i,u);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let y=0;y<g.length;++y)h.push({element:g[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const r=da(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return Xm(n,r,o,i,u)},nearest(n,t,e,i){const r=da(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return Qm(n,r,o,e.intersect,i,u)},x(n,t,e,i){const r=da(t,n);return dT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=da(t,n);return dT(n,r,"y",e.intersect,i)}}};const i1=["left","top","right","bottom"];function mu(n,t){return n.filter(e=>e.pos===t)}function gT(n,t){return n.filter(e=>i1.indexOf(e.pos)===-1&&e.box.axis===t)}function pu(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function FV(n){const t=[];let e,i,r,o,u,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:u,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:u&&o+u,stackWeight:h});return t}function qV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!i1.includes(r))continue;const u=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=o}return t}function GV(n,t){const e=qV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,u,h;for(o=0,u=n.length;o<u;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],y=g&&h.stackWeight/g.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:f&&t.availableHeight)}return e}function YV(n){const t=FV(n),e=pu(t.filter(g=>g.box.fullSize),!0),i=pu(mu(t,"left"),!0),r=pu(mu(t,"right")),o=pu(mu(t,"top"),!0),u=pu(mu(t,"bottom")),h=gT(t,"x"),f=gT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(u).concat(h),chartArea:mu(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(u).concat(h)}}function mT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function s1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function KV(n,t,e,i){const{pos:r,box:o}=e,u=n.maxPadding;if(!Ht(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[r]+=e.size}o.getPadding&&s1(u,o.getPadding());const h=Math.max(0,t.outerWidth-mT(u,n,"left","right")),f=Math.max(0,t.outerHeight-mT(u,n,"top","bottom")),g=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:y}:{same:y,other:g}}function WV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function $V(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(u=>{o[u]=Math.max(t[u],e[u])}),o}return i(n?["left","right"]:["top","bottom"])}function Ru(n,t,e,i){const r=[];let o,u,h,f,g,y;for(o=0,u=n.length,g=0;o<u;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,$V(h.horizontal,t));const{same:v,other:b}=KV(t,e,h,i);g|=v&&r.length,y=y||b,f.fullSize||r.push(h)}return g&&Ru(r,t,e,i)||y}function nf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function pT(n,t,e,i){const r=e.padding;let{x:o,y:u}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/g.weight||1;if(h.horizontal){const v=t.w*y,b=g.size||f.height;Wf(g.start)&&(u=g.start),f.fullSize?nf(f,r.left,u,e.outerWidth-r.right-r.left,b):nf(f,t.left+g.placed,u,v,b),g.start=u,g.placed+=v,u=f.bottom}else{const v=t.h*y,b=g.size||f.width;Wf(g.start)&&(o=g.start),f.fullSize?nf(f,o,r.top,b,e.outerHeight-r.bottom-r.top):nf(f,o,t.top+g.placed,b,v),g.start=o,g.placed+=v,o=f.right}}t.x=o,t.y=u}var ur={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=si(n.options.layout.padding),o=Math.max(t-r.width,0),u=Math.max(e-r.height,0),h=YV(n.boxes),f=h.vertical,g=h.horizontal;Xt(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const y=f.reduce((I,C)=>C.box.options&&C.box.options.display===!1?I:I+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:u,vBoxMaxWidth:o/2/y,hBoxMaxHeight:u/2}),b=Object.assign({},r);s1(b,si(i));const S=Object.assign({maxPadding:b,w:o,h:u,x:r.left,y:r.top},r),A=GV(f.concat(g),v);Ru(h.fullSize,S,v,A),Ru(f,S,v,A),Ru(g,S,v,A)&&Ru(f,S,v,A),WV(S),pT(h.leftAndTop,S,v,A),S.x+=S.w,S.y+=S.h,pT(h.rightAndBottom,S,v,A),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Xt(h.chartArea,I=>{const C=I.box;Object.assign(C,n.chartArea),C.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class r1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class XV extends r1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ef="$chartjs",QV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yT=n=>n===null||n==="";function ZV(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Ef]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",yT(r)){const o=aT(n,"width");o!==void 0&&(n.width=o)}if(yT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=aT(n,"height");o!==void 0&&(n.height=o)}return n}const a1=mV?{passive:!0}:!1;function JV(n,t,e){n&&n.addEventListener(t,e,a1)}function t4(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,a1)}function e4(n,t){const e=QV[n.type]||n.type,{x:i,y:r}=da(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function td(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function n4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||td(h.addedNodes,i),u=u&&!td(h.removedNodes,i);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function i4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||td(h.removedNodes,i),u=u&&!td(h.addedNodes,i);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const ec=new Map;let _T=0;function o1(){const n=window.devicePixelRatio;n!==_T&&(_T=n,ec.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function s4(n,t){ec.size||window.addEventListener("resize",o1),ec.set(n,t)}function r4(n){ec.delete(n),ec.size||window.removeEventListener("resize",o1)}function a4(n,t,e){const i=n.canvas,r=i&&By(i);if(!r)return;const o=FA((h,f)=>{const g=r.clientWidth;e(h,f),g<r.clientWidth&&e()},window),u=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,y=f.contentRect.height;g===0&&y===0||o(g,y)});return u.observe(r),s4(n,o),u}function Zm(n,t,e){e&&e.disconnect(),t==="resize"&&r4(n)}function o4(n,t,e){const i=n.canvas,r=FA(o=>{n.ctx!==null&&e(e4(o,n))},n);return JV(i,t,r),r}class l4 extends r1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(ZV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Ef])return!1;const i=e[Ef].initial;["height","width"].forEach(o=>{const u=i[o];on(u)?e.removeAttribute(o):e.setAttribute(o,u)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Ef],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),u={attach:n4,detach:i4,resize:a4}[e]||o4;r[e]=u(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Zm,detach:Zm,resize:Zm}[e]||t4)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return gV(t,e,i,r)}isAttached(t){const e=t&&By(t);return!!(e&&e.isConnected)}}function u4(n){return!jy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?XV:l4}class yc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Xf(this.x)&&Xf(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function c4(n,t){const e=n.options.ticks,i=h4(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?d4(t):[],u=o.length,h=o[0],f=o[u-1],g=[];if(u>r)return g4(t,g,o,u/r),g;const y=f4(o,t,r);if(u>0){let v,b;const S=u>1?Math.round((f-h)/(u-1)):null;for(sf(t,g,y,on(S)?0:h-S,h),v=0,b=u-1;v<b;v++)sf(t,g,y,o[v],o[v+1]);return sf(t,g,y,f,on(S)?t.length:f+S),g}return sf(t,g,y),g}function h4(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function f4(n,t,e){const i=m4(n),r=t.length/e;if(!i)return Math.max(r,1);const o=SP(i);for(let u=0,h=o.length-1;u<h;u++){const f=o[u];if(f>r)return f}return Math.max(r,1)}function d4(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function g4(n,t,e,i){let r=0,o=e[0],u;for(i=Math.ceil(i),u=0;u<n.length;u++)u===o&&(t.push(n[u]),r++,o=e[r*i])}function sf(n,t,e,i,r){const o=Qt(i,0),u=Math.min(Qt(r,n.length),n.length);let h=0,f,g,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(g=Math.max(o,0);g<u;g++)g===y&&(t.push(n[g]),h++,y=Math.round(o+h*e))}function m4(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const p4=n=>n==="left"?"right":n==="right"?"left":n,vT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,bT=(n,t)=>Math.min(t||n,n);function ET(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function y4(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,u=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(f-o,u-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<o-h||f>u+h)))return f}function _4(n,t){Xt(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function yu(n){return n.drawTicks?n.tickLength:0}function TT(n,t){if(!n.display)return 0;const e=vn(n.font,t),i=si(n.padding);return(Ze(n.text)?n.text.length:1)*e.lineHeight+i.height}function v4(n,t){return el(n,{scale:t,type:"scale"})}function b4(n,t,e){return el(n,{tick:e,index:t,type:"tick"})}function E4(n,t,e){let i=qA(n);return(e&&t!=="right"||!e&&t==="right")&&(i=p4(i)),i}function T4(n,t,e,i){const{top:r,left:o,bottom:u,right:h,chart:f}=n,{chartArea:g,scales:y}=f;let v=0,b,S,A;const I=u-r,C=h-o;if(n.isHorizontal()){if(S=Dn(i,o,h),Ht(e)){const M=Object.keys(e)[0],F=e[M];A=y[M].getPixelForValue(F)+I-t}else e==="center"?A=(g.bottom+g.top)/2+I-t:A=vT(n,e,t);b=h-o}else{if(Ht(e)){const M=Object.keys(e)[0],F=e[M];S=y[M].getPixelForValue(F)-C+t}else e==="center"?S=(g.left+g.right)/2-C+t:S=vT(n,e,t);A=Dn(i,u,r),v=e==="left"?-Pe:Pe}return{titleX:S,titleY:A,maxWidth:b,rotation:v}}class Td extends yc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Ti(t,Number.POSITIVE_INFINITY),e=Ti(e,Number.NEGATIVE_INFINITY),i=Ti(i,Number.POSITIVE_INFINITY),r=Ti(r,Number.NEGATIVE_INFINITY),{min:Ti(t,i),max:Ti(e,r),minDefined:ws(t),maxDefined:ws(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),u;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)u=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,u.min)),o||(i=Math.max(i,u.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Ti(e,Ti(i,e)),max:Ti(i,Ti(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){re(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=JP(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?ET(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=c4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){re(this.options.afterUpdate,[this])}beforeSetDimensions(){re(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){re(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),re(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){re(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=re(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){re(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){re(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=bT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let u=r,h,f,g;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),v=y.widest.width,b=y.highest.height,S=Wn(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:S/(i-1),v+6>h&&(h=S/(i-(t.offset?.5:1)),f=this.maxHeight-yu(t.grid)-e.padding-TT(t.title,this.chart.options.font),g=Math.sqrt(v*v+b*b),u=AP(Math.min(Math.asin(Wn((y.highest.height+6)/h,-1,1)),Math.asin(Wn(f/g,-1,1))-Math.asin(Wn(b/g,-1,1)))),u=Math.max(r,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){re(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){re(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const f=TT(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=yu(o)+f):(t.height=this.maxHeight,t.width=yu(o)+f),i.display&&this.ticks.length){const{first:g,last:y,widest:v,highest:b}=this._getLabelSizes(),S=i.padding*2,A=ma(this.labelRotation),I=Math.cos(A),C=Math.sin(A);if(h){const M=i.mirror?0:C*v.width+I*b.height;t.height=Math.min(this.maxHeight,t.height+M+S)}else{const M=i.mirror?0:I*v.width+C*b.height;t.width=Math.min(this.maxWidth,t.width+M+S)}this._calculatePadding(g,y,C,I)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:u},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;f?g?(b=r*t.width,S=i*e.height):(b=i*t.height,S=r*e.width):o==="start"?S=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,S=e.width/2),this.paddingLeft=Math.max((b-y+u)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-v+u)*this.width/(this.width-v),0)}else{let y=e.height/2,v=t.height/2;o==="start"?(y=0,v=t.height):o==="end"&&(y=e.height,v=0),this.paddingTop=y+u,this.paddingBottom=v+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){re(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)on(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=ET(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,u=[],h=[],f=Math.floor(e/bT(e,i));let g=0,y=0,v,b,S,A,I,C,M,F,W,et,tt;for(v=0;v<e;v+=f){if(A=t[v].label,I=this._resolveTickFontOptions(v),r.font=C=I.string,M=o[C]=o[C]||{data:{},gc:[]},F=I.lineHeight,W=et=0,!on(A)&&!Ze(A))W=tT(r,M.data,M.gc,W,A),et=F;else if(Ze(A))for(b=0,S=A.length;b<S;++b)tt=A[b],!on(tt)&&!Ze(tt)&&(W=tT(r,M.data,M.gc,W,tt),et+=F);u.push(W),h.push(et),g=Math.max(W,g),y=Math.max(et,y)}_4(o,e);const ut=u.indexOf(g),P=h.indexOf(y),R=D=>({width:u[D]||0,height:h[D]||0});return{first:R(0),last:R(e-1),widest:R(ut),highest:R(P),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return RP(this._alignToPixels?ca(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=b4(this.getContext(),t,i))}return this.$context||(this.$context=v4(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ma(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),u=t.autoSkipPadding||0,h=o?o.widest.width+u:0,f=o?o.highest.height+u:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:u,border:h}=r,f=o.offset,g=this.isHorizontal(),v=this.ticks.length+(f?1:0),b=yu(o),S=[],A=h.setContext(this.getContext()),I=A.display?A.width:0,C=I/2,M=function(X){return ca(i,X,I)};let F,W,et,tt,ut,P,R,D,k,V,U,O;if(u==="top")F=M(this.bottom),P=this.bottom-b,D=F-C,V=M(t.top)+C,O=t.bottom;else if(u==="bottom")F=M(this.top),V=t.top,O=M(t.bottom)-C,P=F+C,D=this.top+b;else if(u==="left")F=M(this.right),ut=this.right-b,R=F-C,k=M(t.left)+C,U=t.right;else if(u==="right")F=M(this.left),k=t.left,U=M(t.right)-C,ut=F+C,R=this.left+b;else if(e==="x"){if(u==="center")F=M((t.top+t.bottom)/2+.5);else if(Ht(u)){const X=Object.keys(u)[0],at=u[X];F=M(this.chart.scales[X].getPixelForValue(at))}V=t.top,O=t.bottom,P=F+C,D=P+b}else if(e==="y"){if(u==="center")F=M((t.left+t.right)/2);else if(Ht(u)){const X=Object.keys(u)[0],at=u[X];F=M(this.chart.scales[X].getPixelForValue(at))}ut=F-C,R=ut-b,k=t.left,U=t.right}const Ft=Qt(r.ticks.maxTicksLimit,v),vt=Math.max(1,Math.ceil(v/Ft));for(W=0;W<v;W+=vt){const X=this.getContext(W),at=o.setContext(X),ft=h.setContext(X),wt=at.lineWidth,L=at.color,st=ft.dash||[],ct=ft.dashOffset,ot=at.tickWidth,gt=at.tickColor,Rt=at.tickBorderDash||[],yt=at.tickBorderDashOffset;et=y4(this,W,f),et!==void 0&&(tt=ca(i,et,wt),g?ut=R=k=U=tt:P=D=V=O=tt,S.push({tx1:ut,ty1:P,tx2:R,ty2:D,x1:k,y1:V,x2:U,y2:O,width:wt,color:L,borderDash:st,borderDashOffset:ct,tickWidth:ot,tickColor:gt,tickBorderDash:Rt,tickBorderDashOffset:yt}))}return this._ticksLength=v,this._borderValue=F,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,u=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:y,mirror:v}=o,b=yu(i.grid),S=b+y,A=v?-y:S,I=-ma(this.labelRotation),C=[];let M,F,W,et,tt,ut,P,R,D,k,V,U,O="middle";if(r==="top")ut=this.bottom-A,P=this._getXAxisLabelAlignment();else if(r==="bottom")ut=this.top+A,P=this._getXAxisLabelAlignment();else if(r==="left"){const vt=this._getYAxisLabelAlignment(b);P=vt.textAlign,tt=vt.x}else if(r==="right"){const vt=this._getYAxisLabelAlignment(b);P=vt.textAlign,tt=vt.x}else if(e==="x"){if(r==="center")ut=(t.top+t.bottom)/2+S;else if(Ht(r)){const vt=Object.keys(r)[0],X=r[vt];ut=this.chart.scales[vt].getPixelForValue(X)+S}P=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")tt=(t.left+t.right)/2-S;else if(Ht(r)){const vt=Object.keys(r)[0],X=r[vt];tt=this.chart.scales[vt].getPixelForValue(X)}P=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const Ft=this._getLabelSizes();for(M=0,F=h.length;M<F;++M){W=h[M],et=W.label;const vt=o.setContext(this.getContext(M));R=this.getPixelForTick(M)+o.labelOffset,D=this._resolveTickFontOptions(M),k=D.lineHeight,V=Ze(et)?et.length:1;const X=V/2,at=vt.color,ft=vt.textStrokeColor,wt=vt.textStrokeWidth;let L=P;u?(tt=R,P==="inner"&&(M===F-1?L=this.options.reverse?"left":"right":M===0?L=this.options.reverse?"right":"left":L="center"),r==="top"?g==="near"||I!==0?U=-V*k+k/2:g==="center"?U=-Ft.highest.height/2-X*k+k:U=-Ft.highest.height+k/2:g==="near"||I!==0?U=k/2:g==="center"?U=Ft.highest.height/2-X*k:U=Ft.highest.height-V*k,v&&(U*=-1),I!==0&&!vt.showLabelBackdrop&&(tt+=k/2*Math.sin(I))):(ut=R,U=(1-V)*k/2);let st;if(vt.showLabelBackdrop){const ct=si(vt.backdropPadding),ot=Ft.heights[M],gt=Ft.widths[M];let Rt=U-ct.top,yt=0-ct.left;switch(O){case"middle":Rt-=ot/2;break;case"bottom":Rt-=ot;break}switch(P){case"center":yt-=gt/2;break;case"right":yt-=gt;break;case"inner":M===F-1?yt-=gt:M>0&&(yt-=gt/2);break}st={left:yt,top:Rt,width:gt+ct.width,height:ot+ct.height,color:vt.backdropColor}}C.push({label:et,font:D,textOffset:U,options:{rotation:I,color:at,strokeColor:ft,strokeWidth:wt,textAlign:L,textBaseline:O,translation:[tt,ut],backdrop:st}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ma(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,u=this._getLabelSizes(),h=t+o,f=u.widest.width;let g,y;return e==="left"?r?(y=this.right+o,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y+=f)):(y=this.right-h,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y-=f)):(y=this.left+h,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,u;const h=(f,g,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,u=r.length;o<u;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),u=i.display?o.width:0;if(!u)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,y,v,b;this.isHorizontal()?(g=ca(t,this.left,u)-u/2,y=ca(t,this.right,h)+h/2,v=b=f):(v=ca(t,this.top,u)-u/2,b=ca(t,this.bottom,h)+h/2,g=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,v),e.lineTo(y,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Ny(i,r);const o=this.getLabelItems(t);for(const u of o){const h=u.options,f=u.font,g=u.label,y=u.textOffset;Zf(i,g,0,y,f,h)}r&&Py(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=vn(i.font),u=si(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Ht(e)?(f+=u.bottom,Ze(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=u.top;const{titleX:g,titleY:y,maxWidth:v,rotation:b}=T4(this,f,e,h);Zf(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:b,textAlign:E4(h,e,r),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Qt(t.grid&&t.grid.z,-1),r=Qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Td.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,u;for(o=0,u=e.length;o<u;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return vn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class rf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;A4(e)&&(i=this.register(e));const r=this.items,o=t.id,u=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,S4(t,u,i),this.override&&Ee.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ee[r]&&(delete Ee[r][i],this.override&&delete Aa[i])}}function S4(n,t,e){const i=Ju(Object.create(null),[e?Ee.get(e):{},Ee.get(t),n.defaults]);Ee.set(t,i),n.defaultRoutes&&w4(t,n.defaultRoutes),n.descriptors&&Ee.describe(t,n.descriptors)}function w4(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),u=t[e].split("."),h=u.pop(),f=u.join(".");Ee.route(o,r,f,h)})}function A4(n){return"id"in n&&"defaults"in n}class x4{constructor(){this.controllers=new rf(n1,"datasets",!0),this.elements=new rf(yc,"elements"),this.plugins=new rf(Object,"plugins"),this.scales=new rf(Td,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Xt(r,u=>{const h=i||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,i){const r=My(t);re(i["before"+r],[],i),e[t](i),re(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var wi=new x4;class R4{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),u=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,e,i,r){r=r||{};for(const o of t){const u=o.plugin,h=u[i],f=[e,r,o.options];if(re(h,f,u)===!1&&r.cancelable)return!1}return!0}invalidate(){on(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Qt(i.options&&i.options.plugins,{}),o=C4(i);return r===!1&&!e?[]:D4(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,u)=>o.filter(h=>!u.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function C4(n){const t={},e=[],i=Object.keys(wi.plugins.items);for(let o=0;o<i.length;o++)e.push(wi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const u=r[o];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function I4(n,t){return!t&&n===!1?null:n===!0?{}:n}function D4(n,{plugins:t,localIds:e},i,r){const o=[],u=n.getContext();for(const h of t){const f=h.id,g=I4(i[f],r);g!==null&&o.push({plugin:h,options:O4(n.config,{plugin:h,local:e[f]},g,u)})}return o}function O4(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),u=n.getOptionScopes(i,o);return e&&t.defaults&&u.push(t.defaults),n.createResolver(u,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Op(n,t){const e=Ee.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function M4(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function k4(n,t){return n===t?"_index_":"_value_"}function ST(n){if(n==="x"||n==="y"||n==="r")return n}function N4(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Mp(n,...t){if(ST(n))return n;for(const e of t){const i=e.axis||N4(e.position)||n.length>1&&ST(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function wT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function P4(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return wT(n,"x",e[0])||wT(n,"y",e[0])}return{}}function V4(n,t){const e=Aa[n.type]||{scales:{}},i=t.scales||{},r=Op(n.type,t),o=Object.create(null);return Object.keys(i).forEach(u=>{const h=i[u];if(!Ht(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const f=Mp(u,h,P4(u,n),Ee.scales[h.type]),g=k4(f,r),y=e.scales||{};o[u]=Vu(Object.create(null),[{axis:f},h,y[f],y[g]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,f=u.indexAxis||Op(h,t),y=(Aa[h]||{}).scales||{};Object.keys(y).forEach(v=>{const b=M4(v,f),S=u[b+"AxisID"]||b;o[S]=o[S]||Object.create(null),Vu(o[S],[{axis:b},i[S],y[v]])})}),Object.keys(o).forEach(u=>{const h=o[u];Vu(h,[Ee.scales[h.type],Ee.scale])}),o}function l1(n){const t=n.options||(n.options={});t.plugins=Qt(t.plugins,{}),t.scales=V4(n,t)}function u1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function L4(n){return n=n||{},n.data=u1(n.data),l1(n),n}const AT=new Map,c1=new Set;function af(n,t){let e=AT.get(n);return e||(e=t(),AT.set(n,e),c1.add(e)),e}const _u=(n,t,e)=>{const i=tc(t,e);i!==void 0&&n.add(i)};class U4{constructor(t){this._config=L4(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=u1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),l1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return af(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return af(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return af(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return af(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,u=this._cachedScopes(t,i),h=u.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(v=>_u(f,t,v))),y.forEach(v=>_u(f,r,v)),y.forEach(v=>_u(f,Aa[o]||{},v)),y.forEach(v=>_u(f,Ee,v)),y.forEach(v=>_u(f,Ip,v))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),c1.has(e)&&u.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Aa[e]||{},Ee.datasets[e]||{},{type:e},Ee,Ip]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:u,subPrefixes:h}=xT(this._resolverCache,t,r);let f=u;if(j4(u,e)){o.$shared=!1,i=Sr(i)?i():i;const g=this.createResolver(t,i,h);f=qo(u,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=xT(this._resolverCache,t,i);return Ht(e)?qo(o,e,void 0,r):o}}function xT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:Ly(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const z4=n=>Ht(n)&&Object.getOwnPropertyNames(n).some(t=>Sr(n[t]));function j4(n,t){const{isScriptable:e,isIndexable:i}=WA(n);for(const r of t){const o=e(r),u=i(r),h=(u||o)&&n[r];if(o&&(Sr(h)||z4(h))||u&&Ze(h))return!0}return!1}var B4="4.5.0";const H4=["top","bottom","left","right","chartArea"];function RT(n,t){return n==="top"||n==="bottom"||H4.indexOf(n)===-1&&t==="x"}function CT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function IT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),re(e&&e.onComplete,[n],t)}function F4(n){const t=n.chart,e=t.options.animation;re(e&&e.onProgress,[n],t)}function h1(n){return jy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Tf={},DT=n=>{const t=h1(n);return Object.values(Tf).filter(e=>e.canvas===t).pop()};function q4(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const u=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=u)}}}function G4(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Sd=class{static defaults=Ee;static instances=Tf;static overrides=Aa;static registry=wi;static version=B4;static getChart=DT;static register(...t){wi.add(...t),OT()}static unregister(...t){wi.remove(...t),OT()}constructor(t,e){const i=this.config=new U4(e),r=h1(t),o=DT(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const u=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||u4(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,u.aspectRatio),f=h&&h.canvas,g=f&&f.height,y=f&&f.width;if(this.id=mP(),this.ctx=h,this.canvas=f,this.width=y,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new R4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=MP(v=>this.update(v),u.resizeDelay||0),this._dataChanges=[],Tf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}cs.listen(this,"complete",IT),cs.listen(this,"progress",F4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return on(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return wi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return eT(this.canvas,this.ctx),this}stop(){return cs.stop(this),this}resize(t,e){cs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,rT(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),re(i.onResize,[this,u],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Xt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((u,h)=>(u[h]=!1,u),{});let o=[];e&&(o=o.concat(Object.keys(e).map(u=>{const h=e[u],f=Mp(u,h),g=f==="r",y=f==="x";return{options:h,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),Xt(o,u=>{const h=u.options,f=h.id,g=Mp(f,h),y=Qt(h.type,u.dtype);(h.position===void 0||RT(h.position,g)!==RT(u.dposition))&&(h.position=u.dposition),r[f]=!0;let v=null;if(f in i&&i[f].type===y)v=i[f];else{const b=wi.getScale(y);v=new b({id:f,type:y,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Xt(r,(u,h)=>{u||delete i[h]}),Xt(i,u=>{ur.configure(this,u,u.options),ur.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(CT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let u=this.getDatasetMeta(i);const h=o.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(i),u=this.getDatasetMeta(i)),u.type=h,u.indexAxis=o.indexAxis||Op(h,this.options),u.order=o.order||0,u.index=i,u.label=""+o.label,u.visible=this.isDatasetVisible(i),u.controller)u.controller.updateIndex(i),u.controller.linkScales();else{const f=wi.getController(h),{datasetElementType:g,dataElementType:y}=Ee.datasets[h];Object.assign(f,{dataElementType:wi.getElement(y),datasetElementType:g&&wi.getElement(g)}),u.controller=new f(this,i),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Xt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:v}=this.getDatasetMeta(g),b=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(b),u=Math.max(+v.getMaxOverflow(),u)}u=this._minPadding=i.layout.autoPadding?u:0,this._updateLayout(u),r||Xt(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(CT("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Xt(this.scales,t=>{ur.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!YE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const u=i==="_removeElements"?-o:o;q4(t,r,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(u=>u[0]===o).map((u,h)=>h+","+u.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!YE(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ur.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Xt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Sr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cs.has(this)?this.attached&&!cs.running(this)&&cs.start(this):(this.draw(),IT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const u=e[r];(!t||u.visible)&&i.push(u)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=vV(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Ny(e,r),t.controller.draw(),r&&Py(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return KA(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=HV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=el(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),u=o.controller._resolveAnimations(void 0,r);Wf(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),u.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),cs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),eT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Tf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,u)=>{e.addEventListener(this,o,u),t[o]=u},r=(o,u,h)=>{o.offsetX=u,o.offsetY=h,this._eventHandler(o)};Xt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let u;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",u)};u=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){Xt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Xt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,u,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[r+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:u})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[u],index:u}});!Yf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,g)=>f.filter(y=>!g.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),u=o(e,t),h=i?t:o(t,e);u.length&&this.updateHoverStyle(u,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,u=e,h=this._getActiveElements(t,r,i,u),f=EP(t),g=G4(t,this._lastEvent,i,f);i&&(this._lastEvent=null,re(o.onHover,[t,h,this],this),f&&re(o.onClick,[t,h,this],this));const y=!Yf(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function OT(){return Xt(Sd.instances,n=>n._plugins.invalidate())}function Y4(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:u,innerRadius:h,options:f}=t,{borderWidth:g,borderJoinStyle:y}=f,v=Math.min(g/u,xi(i-e));if(n.beginPath(),n.arc(r,o,u-g/2,i+v/2,e-v/2),h>0){const b=Math.min(g/h,xi(i-e));n.arc(r,o,h+g/2,e-b/2,i+b/2,!0)}else{const b=Math.min(g/2,u*xi(i-e));if(y==="round")n.arc(r,o,b,e-oe/2,i+oe/2,!0);else if(y==="bevel"){const S=2*b*b,A=-S*Math.cos(e+oe/2)+r,I=-S*Math.sin(e+oe/2)+o,C=S*Math.cos(i+oe/2)+r,M=S*Math.sin(i+oe/2)+o;n.lineTo(A,I),n.lineTo(C,M)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function K4(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:u,outerRadius:h,innerRadius:f}=t;let g=r/h;n.beginPath(),n.arc(o,u,h,i-g,e+g),f>r?(g=r/f,n.arc(o,u,f,e+g,i-g,!0)):n.arc(o,u,r,e+Pe,i-Pe),n.closePath(),n.clip()}function W4(n){return Vy(n,["outerStart","outerEnd","innerStart","innerEnd"])}function $4(n,t,e,i){const r=W4(n.options.borderRadius),o=(e-t)/2,u=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return Wn(f,0,Math.min(o,g))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:Wn(r.innerStart,0,u),innerEnd:Wn(r.innerEnd,0,u)}}function xo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function ed(n,t,e,i,r,o){const{x:u,y:h,startAngle:f,pixelMargin:g,innerRadius:y}=t,v=Math.max(t.outerRadius+i+e-g,0),b=y>0?y+i+e+g:0;let S=0;const A=r-f;if(i){const vt=y>0?y-i:0,X=v>0?v-i:0,at=(vt+X)/2,ft=at!==0?A*at/(at+i):A;S=(A-ft)/2}const I=Math.max(.001,A*v-e/oe)/v,C=(A-I)/2,M=f+C+S,F=r-C-S,{outerStart:W,outerEnd:et,innerStart:tt,innerEnd:ut}=$4(t,b,v,F-M),P=v-W,R=v-et,D=M+W/P,k=F-et/R,V=b+tt,U=b+ut,O=M+tt/V,Ft=F-ut/U;if(n.beginPath(),o){const vt=(D+k)/2;if(n.arc(u,h,v,D,vt),n.arc(u,h,v,vt,k),et>0){const wt=xo(R,k,u,h);n.arc(wt.x,wt.y,et,k,F+Pe)}const X=xo(U,F,u,h);if(n.lineTo(X.x,X.y),ut>0){const wt=xo(U,Ft,u,h);n.arc(wt.x,wt.y,ut,F+Pe,Ft+Math.PI)}const at=(F-ut/b+(M+tt/b))/2;if(n.arc(u,h,b,F-ut/b,at,!0),n.arc(u,h,b,at,M+tt/b,!0),tt>0){const wt=xo(V,O,u,h);n.arc(wt.x,wt.y,tt,O+Math.PI,M-Pe)}const ft=xo(P,M,u,h);if(n.lineTo(ft.x,ft.y),W>0){const wt=xo(P,D,u,h);n.arc(wt.x,wt.y,W,M-Pe,D)}}else{n.moveTo(u,h);const vt=Math.cos(D)*v+u,X=Math.sin(D)*v+h;n.lineTo(vt,X);const at=Math.cos(k)*v+u,ft=Math.sin(k)*v+h;n.lineTo(at,ft)}n.closePath()}function X4(n,t,e,i,r){const{fullCircles:o,startAngle:u,circumference:h}=t;let f=t.endAngle;if(o){ed(n,t,e,i,f,r);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=u+(h%Ce||Ce))}return ed(n,t,e,i,f,r),n.fill(),f}function Q4(n,t,e,i,r){const{fullCircles:o,startAngle:u,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:y,borderDash:v,borderDashOffset:b,borderRadius:S}=f,A=f.borderAlign==="inner";if(!g)return;n.setLineDash(v||[]),n.lineDashOffset=b,A?(n.lineWidth=g*2,n.lineJoin=y||"round"):(n.lineWidth=g,n.lineJoin=y||"bevel");let I=t.endAngle;if(o){ed(n,t,e,i,I,r);for(let C=0;C<o;++C)n.stroke();isNaN(h)||(I=u+(h%Ce||Ce))}A&&K4(n,t,I),f.selfJoin&&I-u>=oe&&S===0&&y!=="miter"&&Y4(n,t,I),o||(ed(n,t,e,i,I,r),n.stroke())}class Z4 extends yc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:u}=jA(r,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:g,outerRadius:y,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,S=Qt(v,f-h),A=Qf(o,h,f)&&h!==f,I=S>=Ce||A,C=xu(u,g+b,y+b);return I&&C}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,y=(r+o)/2,v=(u+h+g+f)/2;return{x:e+Math.cos(y)*v,y:i+Math.sin(y)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,u=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Ce?Math.floor(i/Ce):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(oe,i||0)),g=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,X4(t,this,g,o,u),Q4(t,this,g,o,u),t.restore()}}const MT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},J4=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class kT extends yc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=re(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=vn(i.font),o=r.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=MT(i,o);let g,y;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(u,o,h,f)+10):(y=this.maxHeight,g=this._fitCols(u,r,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],y=r+h;let v=t;o.textAlign="left",o.textBaseline="middle";let b=-1,S=-y;return this.legendItems.forEach((A,I)=>{const C=i+e/2+o.measureText(A.text).width;(I===0||g[g.length-1]+C+2*h>u)&&(v+=y,g[g.length-(I>0?0:1)]=0,S+=y,b++),f[I]={left:0,top:S,row:b,width:C,height:r},g[g.length-1]+=C+h}),v}_fitCols(t,e,i,r){const{ctx:o,maxHeight:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],y=u-t;let v=h,b=0,S=0,A=0,I=0;return this.legendItems.forEach((C,M)=>{const{itemWidth:F,itemHeight:W}=tL(i,e,o,C,r);M>0&&S+W+2*h>y&&(v+=b+h,g.push({width:b,height:S}),A+=b+h,I++,b=S=0),f[M]={left:A,top:S,col:I,width:F,height:W},b=Math.max(b,F),S+=W+h}),v+=b,g.push({width:b,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,u=Lo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=Dn(i,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=Dn(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=u.leftForLtr(u.x(f),g.width),f+=g.width+r}else{let h=0,f=Dn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=Dn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+r,g.left=u.leftForLtr(u.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ny(t,this),this._draw(),Py(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:u}=t,h=Ee.color,f=Lo(t.rtl,this.left,this.width),g=vn(u.font),{padding:y}=u,v=g.size,b=v/2;let S;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:A,boxHeight:I,itemHeight:C}=MT(u,v),M=function(ut,P,R){if(isNaN(A)||A<=0||isNaN(I)||I<0)return;r.save();const D=Qt(R.lineWidth,1);if(r.fillStyle=Qt(R.fillStyle,h),r.lineCap=Qt(R.lineCap,"butt"),r.lineDashOffset=Qt(R.lineDashOffset,0),r.lineJoin=Qt(R.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Qt(R.strokeStyle,h),r.setLineDash(Qt(R.lineDash,[])),u.usePointStyle){const k={radius:I*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:D},V=f.xPlus(ut,A/2),U=P+b;YA(r,k,V,U,u.pointStyleWidth&&A)}else{const k=P+Math.max((v-I)/2,0),V=f.leftForLtr(ut,A),U=zu(R.borderRadius);r.beginPath(),Object.values(U).some(O=>O!==0)?Dp(r,{x:V,y:k,w:A,h:I,radius:U}):r.rect(V,k,A,I),r.fill(),D!==0&&r.stroke()}r.restore()},F=function(ut,P,R){Zf(r,R.text,ut,P+C/2,g,{strikethrough:R.hidden,textAlign:f.textAlign(R.textAlign)})},W=this.isHorizontal(),et=this._computeTitleHeight();W?S={x:Dn(o,this.left+y,this.right-i[0]),y:this.top+y+et,line:0}:S={x:this.left+y,y:Dn(o,this.top+et+y,this.bottom-e[0].height),line:0},ZA(this.ctx,t.textDirection);const tt=C+y;this.legendItems.forEach((ut,P)=>{r.strokeStyle=ut.fontColor,r.fillStyle=ut.fontColor;const R=r.measureText(ut.text).width,D=f.textAlign(ut.textAlign||(ut.textAlign=u.textAlign)),k=A+b+R;let V=S.x,U=S.y;f.setWidth(this.width),W?P>0&&V+k+y>this.right&&(U=S.y+=tt,S.line++,V=S.x=Dn(o,this.left+y,this.right-i[S.line])):P>0&&U+tt>this.bottom&&(V=S.x=V+e[S.line].width+y,S.line++,U=S.y=Dn(o,this.top+et+y,this.bottom-e[S.line].height));const O=f.x(V);if(M(O,U,ut),V=kP(D,V+A+b,W?V+k:this.right,t.rtl),F(f.x(V),U,ut),W)S.x+=k+y;else if(typeof ut.text!="string"){const Ft=g.lineHeight;S.y+=f1(ut,Ft)+y}else S.y+=tt}),JA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=vn(e.font),r=si(e.padding);if(!e.display)return;const o=Lo(t.rtl,this.left,this.width),u=this.ctx,h=e.position,f=i.size/2,g=r.top+f;let y,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+g,v=Dn(t.align,v,this.right-b);else{const A=this.columnSizes.reduce((I,C)=>Math.max(I,C.height),0);y=g+Dn(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const S=Dn(h,v,v+b);u.textAlign=o.textAlign(qA(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=i.string,Zf(u,e.text,S,y,i)}_computeTitleHeight(){const t=this.options.title,e=vn(t.font),i=si(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(xu(t,this.left,this.right)&&xu(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],xu(t,r.left,r.left+r.width)&&xu(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!iL(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=J4(r,i);r&&!o&&re(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&re(e.onHover,[t,i,this],this)}else i&&re(e.onClick,[t,i,this],this)}}function tL(n,t,e,i,r){const o=eL(i,n,t,e),u=nL(r,i,t.lineHeight);return{itemWidth:o,itemHeight:u}}function eL(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,u)=>o.length>u.length?o:u)),t+e.size/2+i.measureText(r).width}function nL(n,t,e){let i=n;return typeof t.text!="string"&&(i=f1(t,e)),i}function f1(n,t){const e=n.text?n.text.length:0;return t*e}function iL(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var sL={id:"legend",_element:kT,start(n,t,e){const i=n.legend=new kT({ctx:n.ctx,options:e,chart:n});ur.configure(n,i,e),ur.addBox(n,i)},stop(n){ur.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ur.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:u,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),y=si(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Cu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,u,h;for(o=0,u=n.length;o<u;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),y=xP(t,g);y<r&&(r=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Si(n,t){return t&&(Ze(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function hs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function rL(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:u,value:h}=o.getLabelAndValue(r);return{chart:n,label:u,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function NT(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:u,boxHeight:h}=t,f=vn(t.bodyFont),g=vn(t.titleFont),y=vn(t.footerFont),v=o.length,b=r.length,S=i.length,A=si(t.padding);let I=A.height,C=0,M=i.reduce((et,tt)=>et+tt.before.length+tt.lines.length+tt.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,v&&(I+=v*g.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),M){const et=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;I+=S*et+(M-S)*f.lineHeight+(M-1)*t.bodySpacing}b&&(I+=t.footerMarginTop+b*y.lineHeight+(b-1)*t.footerSpacing);let F=0;const W=function(et){C=Math.max(C,e.measureText(et).width+F)};return e.save(),e.font=g.string,Xt(n.title,W),e.font=f.string,Xt(n.beforeBody.concat(n.afterBody),W),F=t.displayColors?u+2+t.boxPadding:0,Xt(i,et=>{Xt(et.before,W),Xt(et.lines,W),Xt(et.after,W)}),F=0,e.font=y.string,Xt(n.footer,W),e.restore(),C+=A.width,{width:C,height:I}}function aL(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function oL(n,t,e,i){const{x:r,width:o}=i,u=e.caretSize+e.caretPadding;if(n==="left"&&r+o+u>t.width||n==="right"&&r-o-u<0)return!0}function lL(n,t,e,i){const{x:r,width:o}=e,{width:u,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=r<=(h+f)/2?"left":"right":r<=o/2?g="left":r>=u-o/2&&(g="right"),oL(g,n,t,e)&&(g="center"),g}function PT(n,t,e){const i=e.yAlign||t.yAlign||aL(n,e);return{xAlign:e.xAlign||t.xAlign||lL(n,t,e,i),yAlign:i}}function uL(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function cL(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function VT(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:u}=n,{xAlign:h,yAlign:f}=e,g=r+o,{topLeft:y,topRight:v,bottomLeft:b,bottomRight:S}=zu(u);let A=uL(t,h);const I=cL(t,f,g);return f==="center"?h==="left"?A+=g:h==="right"&&(A-=g):h==="left"?A-=Math.max(y,b)+r:h==="right"&&(A+=Math.max(v,S)+r),{x:Wn(A,0,i.width-t.width),y:Wn(I,0,i.height-t.height)}}function of(n,t,e){const i=si(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function LT(n){return Si([],hs(n))}function hL(n,t,e){return el(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function UT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const d1={beforeTitle:us,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:us,beforeBody:us,beforeLabel:us,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return on(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:us,afterBody:us,beforeFooter:us,footer:us,afterFooter:us};function pn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?d1[t].call(e,i):r}class zT extends yc{static positioners=Cu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new t1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=hL(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=pn(i,"beforeTitle",this,t),o=pn(i,"title",this,t),u=pn(i,"afterTitle",this,t);let h=[];return h=Si(h,hs(r)),h=Si(h,hs(o)),h=Si(h,hs(u)),h}getBeforeBody(t,e){return LT(pn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Xt(t,o=>{const u={before:[],lines:[],after:[]},h=UT(i,o);Si(u.before,hs(pn(h,"beforeLabel",this,o))),Si(u.lines,pn(h,"label",this,o)),Si(u.after,hs(pn(h,"afterLabel",this,o))),r.push(u)}),r}getAfterBody(t,e){return LT(pn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=pn(i,"beforeFooter",this,t),o=pn(i,"footer",this,t),u=pn(i,"afterFooter",this,t);let h=[];return h=Si(h,hs(r)),h=Si(h,hs(o)),h=Si(h,hs(u)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],u=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(rL(this.chart,e[f]));return t.filter&&(h=h.filter((y,v,b)=>t.filter(y,v,b,i))),t.itemSort&&(h=h.sort((y,v)=>t.itemSort(y,v,i))),Xt(h,y=>{const v=UT(t.callbacks,y);r.push(pn(v,"labelColor",this,y)),o.push(pn(v,"labelPointStyle",this,y)),u.push(pn(v,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,u=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Cu[i.position].call(this,r,this._eventPosition);u=this._createItems(i),this.title=this.getTitle(u,i),this.beforeBody=this.getBeforeBody(u,i),this.body=this.getBody(u,i),this.afterBody=this.getAfterBody(u,i),this.footer=this.getFooter(u,i);const f=this._size=NT(this,i),g=Object.assign({},h,f),y=PT(this.chart,i,g),v=VT(i,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:u,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:v}=zu(h),{x:b,y:S}=t,{width:A,height:I}=e;let C,M,F,W,et,tt;return o==="center"?(et=S+I/2,r==="left"?(C=b,M=C-u,W=et+u,tt=et-u):(C=b+A,M=C+u,W=et-u,tt=et+u),F=C):(r==="left"?M=b+Math.max(f,y)+u:r==="right"?M=b+A-Math.max(g,v)-u:M=this.caretX,o==="top"?(W=S,et=W-u,C=M-u,F=M+u):(W=S+I,et=W+u,C=M+u,F=M-u),tt=W),{x1:C,x2:M,x3:F,y1:W,y2:et,y3:tt}}drawTitle(t,e,i){const r=this.title,o=r.length;let u,h,f;if(o){const g=Lo(i.rtl,this.x,this.width);for(t.x=of(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",u=vn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=u.string,f=0;f<o;++f)e.fillText(r[f],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const u=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,y=vn(o.bodyFont),v=of(this,"left",o),b=r.x(v),S=f<y.lineHeight?(y.lineHeight-f)/2:0,A=e.y+S;if(o.usePointStyle){const I={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},C=r.leftForLtr(b,g)+g/2,M=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,nT(t,I,C,M),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,nT(t,I,C,M)}else{t.lineWidth=Ht(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const I=r.leftForLtr(b,g),C=r.leftForLtr(r.xPlus(b,1),g-2),M=zu(u.borderRadius);Object.values(M).some(F=>F!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Dp(t,{x:I,y:A,w:g,h:f,radius:M}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Dp(t,{x:C,y:A+1,w:g-2,h:f-2,radius:M}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(I,A,g,f),t.strokeRect(I,A,g,f),t.fillStyle=u.backgroundColor,t.fillRect(C,A+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:u,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:y}=i,v=vn(i.bodyFont);let b=v.lineHeight,S=0;const A=Lo(i.rtl,this.x,this.width),I=function(R){e.fillText(R,A.x(t.x+S),t.y+b/2),t.y+=b+o},C=A.textAlign(u);let M,F,W,et,tt,ut,P;for(e.textAlign=u,e.textBaseline="middle",e.font=v.string,t.x=of(this,C,i),e.fillStyle=i.bodyColor,Xt(this.beforeBody,I),S=h&&C!=="right"?u==="center"?g/2+y:g+2+y:0,et=0,ut=r.length;et<ut;++et){for(M=r[et],F=this.labelTextColors[et],e.fillStyle=F,Xt(M.before,I),W=M.lines,h&&W.length&&(this._drawColorBox(e,t,et,A,i),b=Math.max(v.lineHeight,f)),tt=0,P=W.length;tt<P;++tt)I(W[tt]),b=v.lineHeight;Xt(M.after,I)}S=0,b=v.lineHeight,Xt(this.afterBody,I),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let u,h;if(o){const f=Lo(i.rtl,this.x,this.width);for(t.x=of(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",u=vn(i.footerFont),e.fillStyle=i.footerColor,e.font=u.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:u}=this,{x:h,y:f}=t,{width:g,height:y}=i,{topLeft:v,topRight:b,bottomLeft:S,bottomRight:A}=zu(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+v,f),u==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+g-b,f),e.quadraticCurveTo(h+g,f,h+g,f+b),u==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+g,f+y-A),e.quadraticCurveTo(h+g,f+y,h+g-A,f+y),u==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+S,f+y),e.quadraticCurveTo(h,f+y,h,f+y-S),u==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+v),e.quadraticCurveTo(h,f,h+v,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const u=Cu[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=NT(this,t),f=Object.assign({},u,this._size),g=PT(e,t,f),y=VT(t,f,g,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const u=si(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),ZA(t,e.textDirection),o.y+=u.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),JA(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!Yf(i,r),u=this._positionChanged(r,e);(o||u)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],u=this._getActiveElements(t,o,e,i),h=this._positionChanged(u,t),f=e||!Yf(u,o)||h;return f&&(this._active=u,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,u=Cu[o.position].call(this,t,e);return u!==!1&&(i!==u.x||r!==u.y)}}var fL={id:"tooltip",_element:zT,positioners:Cu,afterInit(n,t,e){e&&(n.tooltip=new zT({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:d1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const wd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_n=Object.keys(wd);function jT(n,t){return n-t}function BT(n,t){if(on(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let u=t;return typeof i=="function"&&(u=i(u)),ws(u)||(u=typeof i=="string"?e.parse(u,i):e.parse(u)),u===null?null:(r&&(u=r==="week"&&(Xf(o)||o===!0)?e.startOf(u,"isoWeek",o):e.startOf(u,r)),+u)}function HT(n,t,e,i){const r=_n.length;for(let o=_n.indexOf(n);o<r-1;++o){const u=wd[_n[o]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=i)return _n[o]}return _n[r-1]}function dL(n,t,e,i,r){for(let o=_n.length-1;o>=_n.indexOf(e);o--){const u=_n[o];if(wd[u].common&&n._adapter.diff(r,i,u)>=t-1)return u}return _n[e?_n.indexOf(e):0]}function gL(n){for(let t=_n.indexOf(n)+1,e=_n.length;t<e;++t)if(wd[_n[t]].common)return _n[t]}function FT(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=ky(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function mL(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),u=t[t.length-1].value;let h,f;for(h=o;h<=u;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function qT(n,t,e){const i=[],r={},o=t.length;let u,h;for(u=0;u<o;++u)h=t[u],r[h]=u,i.push({value:h,major:!1});return o===0||!e?i:mL(n,i,r,e)}class GT extends Td{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new LV._date(t.adapters.date);r.init(e),Vu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:BT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:u,maxDefined:h}=this.getUserBounds();function f(g){!u&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!u||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=ws(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ws(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,u=this.max,h=IP(r,o,u);return this._unit=e.unit||(i.autoSkip?HT(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):dL(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:gL(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),qT(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=Wn(e,0,u),i=Wn(i,0,u),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,u=o.unit||HT(o.minUnit,e,i,this._getLabelCapacity(e)),h=Qt(r.ticks.stepSize,1),f=u==="week"?o.isoWeekday:!1,g=Xf(f)||f===!0,y={};let v=e,b,S;if(g&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,g?"day":u),t.diff(i,e,u)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+u);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(b=v,S=0;b<i;b=+t.add(b,h,u),S++)FT(y,b,A);return(b===i||r.bounds==="ticks"||S===1)&&FT(y,b,A),Object.keys(y).sort(jT).map(I=>+I)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,u=e||r[o];return this._adapter.format(t,u)}_tickFormatFunction(t,e,i,r){const o=this.options,u=o.ticks.callback;if(u)return re(u,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,y=f&&h[f],v=g&&h[g],b=i[e],S=g&&v&&b&&b.major;return this._adapter.format(t,r||(S?v:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=ma(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),u=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*u,h:i*u+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,qT(this,[t],this._majorUnit),r),u=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(BT(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return OP(t.sort(jT))}}function lf(n,t,e){let i=0,r=n.length-1,o,u,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Cp(n,"pos",t)),{pos:o,time:h}=n[i],{pos:u,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Cp(n,"time",t)),{time:o,pos:h}=n[i],{time:u,pos:f}=n[r]);const g=u-o;return g?h+(f-h)*(t-o)/g:h}class ML extends GT{static id="timeseries";static defaults=GT.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=lf(e,this.min),this._tableRange=lf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let u,h,f,g,y;for(u=0,h=t.length;u<h;++u)g=t[u],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(u=0,h=r.length;u<h;++u)y=r[u+1],f=r[u-1],g=r[u],Math.round((y+f)/2)!==g&&o.push({time:g,pos:u/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(lf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return lf(this._table,i*this._tableRange+this._minPos,!0)}}const g1="label";function YT(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function pL(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function m1(n,t){n.labels=t}function p1(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g1;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(u=>u[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function yL(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g1;const e={labels:[],datasets:[]};return m1(e,n.labels),p1(e,n.datasets,t),e}function _L(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:u,data:h,options:f,plugins:g=[],fallbackContent:y,updateMode:v,...b}=n,S=K.useRef(null),A=K.useRef(null),I=()=>{S.current&&(A.current=new Sd(S.current,{type:u,data:yL(h,o),options:f&&{...f},plugins:g}),YT(t,A.current))},C=()=>{YT(t,null),A.current&&(A.current.destroy(),A.current=null)};return K.useEffect(()=>{!r&&A.current&&f&&pL(A.current,f)},[r,f]),K.useEffect(()=>{!r&&A.current&&m1(A.current.config.data,h.labels)},[r,h.labels]),K.useEffect(()=>{!r&&A.current&&h.datasets&&p1(A.current.config.data,h.datasets,o)},[r,h.datasets]),K.useEffect(()=>{A.current&&(r?(C(),setTimeout(I)):A.current.update(v))},[r,f,h.labels,h.datasets,v]),K.useEffect(()=>{A.current&&(C(),setTimeout(I))},[u]),K.useEffect(()=>(I(),()=>C()),[]),KT.createElement("canvas",{ref:S,role:"img",height:e,width:i,...b},y)}const vL=K.forwardRef(_L);function bL(n,t){return Sd.register(t),K.forwardRef((e,i)=>KT.createElement(vL,{...e,ref:i,type:n}))}const EL=bL("pie",VV);Sd.register(Z4,fL,sL);function TL({categoryTotals:n,categories:t}){const e=Object.values(n).reduce((r,o)=>r+o,0),i={labels:t.map(r=>r.label),datasets:[{data:t.map(r=>e===0?0:(n[r.id]/e*100).toFixed(1)),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"],hoverOffset:8}]};return G.jsxs("div",{className:"bg-white dark:bg-[#1E2028] p-4 rounded shadow",children:[G.jsx("h2",{className:"text-center text-lg font-semibold mb-4",children:"지출 비율"}),G.jsx(EL,{data:i})]})}function SL({transactions:n}){const[t,e]=K.useState(""),[i,r]=K.useState(""),o=n.filter(u=>i?u.date===i:t?u.date.startsWith(t):!0);return n.length===0?null:G.jsxs("div",{className:"bg-white dark:bg-[#1E2028] p-4 rounded shadow",children:[G.jsxs("div",{className:"flex justify-between items-center mt-4 gap-2 text-sm",children:[G.jsxs("div",{className:"flex flex-col",children:[G.jsx("label",{children:"월별 필터"}),G.jsx("input",{type:"month",value:t,onChange:u=>{e(u.target.value),r("")},className:"border rounded px-2 py-1 dark:bg-[#2a2c34] dark:text-white"})]}),G.jsxs("div",{className:"flex flex-col",children:[G.jsx("label",{children:"일별 필터"}),G.jsx("input",{type:"date",value:i,onChange:u=>{r(u.target.value),e("")},className:"border rounded px-2 py-1 dark:bg-[#2a2c34] dark:text-white"})]}),G.jsx("button",{onClick:()=>{e(""),r("")},className:"mt-4 bg-gray-300 hover:bg-gray-400 px-3 py-1 rounded text-sm",children:"초기화"})]}),o.length>0&&G.jsxs("div",{className:"bg-white dark:bg-[#2a2c34] p-3 rounded shadow mt-4 text-sm",children:[G.jsx("h3",{className:"font-semibold mb-2",children:"입력 내역"}),G.jsx("ul",{className:"space-y-1",children:o.map((u,h)=>G.jsxs("li",{className:"border-b pb-1",children:[G.jsxs("strong",{children:["[",u.type==="out"?"출금":"입금","]"]})," ",u.date&&`${u.date} | `,u.label," - ",u.amount.toLocaleString(),"원",u.memo&&` | 메모: ${u.memo}`]},h))})]})]})}const Jm=[{id:"food",label:"식비"},{id:"life",label:"생활비"},{id:"culture",label:"문화"},{id:"etc",label:"기타"},{id:"saving",label:"저축"}];function wL(){const[n,t]=K.useState(_s.currentUser),[e,i]=K.useState(()=>{const A=localStorage.getItem("transactions");return`${n.uid}`,A?JSON.parse(A):[]}),[r,o]=K.useState(0),[u,h]=K.useState(!0),[f,g]=K.useState("");K.useEffect(()=>{if(!n)return;const A=localStorage.getItem(`transactions_${n.uid}`);i(A?JSON.parse(A):[])},[n]),K.useEffect(()=>{n&&localStorage.setItem(`transactions_${n.uid}`,JSON.stringify(e))},[e,n]),K.useEffect(()=>{(async()=>{try{const I=_s.currentUser;if(!I){g("로그인이 필요합니다."),h(!1);return}const C=Ff(Gf,"users",I.uid),M=await OA(C);M.exists()?o(M.data().balance||0):g("잔액 정보를 찾을 수 없습니다.")}catch(I){console.error(I),g("잔액 불러오기 실패")}finally{h(!1)}})()},[]);const y=async A=>{i(I=>[A,...I]),o(I=>{let C=I;A.type==="in"?C+=A.amount:A.type==="out"&&(C-=A.amount);const M=_s.currentUser;if(M){const F=Ff(Gf,"users",M.uid);MA(F,{balance:C},{merge:!0}).catch(W=>console.error("잔액 업데이트 실패:",W))}return C})},v=Jm.reduce((A,I)=>(A[I.id]=e.filter(C=>C.type==="out"&&C.categoryId===I.id).reduce((C,M)=>C+M.amount,0),A),{}),b=new Date().toISOString().slice(0,10),S=e.filter(A=>A.date===b);return G.jsxs("section",{children:[G.jsx(qN,{}),G.jsx(GN,{transactions:S,balance:r}),G.jsx(YN,{fields:Jm,onAddTransaction:y}),G.jsx(TL,{categoryTotals:v,categories:Jm}),G.jsx(SL,{transactions:e.slice(0,5)})]})}function AL(){return G.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-indigo-600 text-white",children:[G.jsx("p",{className:"text-3xl font-bold mb-4",children:"TodayBudget"}),G.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-white border-t-transparent"}),G.jsx("div",{className:"text-3xl font-bold mb-4",children:"환영합니다."})]})}function xL(){return G.jsxs("div",{className:"h-screen flex flex-col items-center justify-center text-center px-6 bg-white",children:[G.jsx("h1",{className:"text-3xl font-bold text-indigo-600 mb-4",children:"환영합니다!"}),G.jsx("p",{className:"text-gray-600 mb-8",children:"TodayBudget에 오신 것을 환영해요."}),G.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-xs",children:[G.jsx(_a,{to:"/signin",className:"bg-indigo-600 text-white py-3 rounded-xl shadow-md hover:bg-indigo-700",children:"기존 회원이신가요?"}),G.jsx(_a,{to:"/signup",className:"border border-indigo-600 text-indigo-600 py-3 rounded-xl hover:bg-indigo-50",children:"처음 오셨나요?"})]})]})}const RL=()=>{const n=Ko(),[t,e]=K.useState(""),[i,r]=K.useState(""),[o,u]=K.useState(!0),[h,f]=K.useState(""),g=v=>{const{target:{name:b,value:S}}=v;b==="email"?e(S):b==="password"&&r(S)},y=async v=>{v.preventDefault();let b;try{o&&(b=await nD(_s,t,i)),console.log(t,i),n("/signin")}catch(S){f(S.message)}};return G.jsxs("div",{className:"w-full min-h-screen bg-white dark:bg-[#1E2028] text-black dark:text-white",children:[G.jsx("div",{className:"w-full border-b border-gray-100 dark:border-gray-800",children:G.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsx("div",{className:"flex items-center space-x-2",children:G.jsx("img",{src:"/Logo.svg",className:"w-32 h-10",alt:"Logo"})}),G.jsx(_a,{to:"/signin",className:"text-sm text-gray-500 dark:text-gray-400 hover:text-black dark:hover:text-white",children:"Sign in"})]})})}),G.jsx("main",{className:"max-w-7xl mx-auto px-6 py-12",children:G.jsxs("div",{className:"max-w-md mx-auto",children:[G.jsxs("div",{className:"text-center mb-8",children:[G.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Create your account"}),G.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Join thousands of users worldwide"})]}),G.jsxs("div",{className:"space-y-4 mb-8",children:[G.jsx("button",{className:"w-full flex items-center justify-center space-x-3 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:G.jsx("span",{children:"Continue with Google"})}),G.jsxs("button",{className:"w-full flex items-center justify-center space-x-3 px-4 py-3 bg-[#1877F2] text-white rounded-lg hover:bg-[#1874E8] transition-colors",children:[G.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:G.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),G.jsx("span",{children:"Continue with Facebook"})]}),G.jsxs("button",{className:"w-full flex items-center justify-center space-x-3 px-4 py-3 bg-[#24292F] text-white rounded-lg hover:bg-[#2C333A] transition-colors",children:[G.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:G.jsx("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"})}),G.jsx("span",{children:"Continue with Github"})]})]}),G.jsxs("div",{className:"relative my-8",children:[G.jsx("div",{className:"absolute inset-0 flex items-center",children:G.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-700"})}),G.jsx("div",{className:"relative flex justify-center",children:G.jsx("span",{className:"px-4 text-sm text-gray-500 dark:text-gray-400 bg-white dark:bg-[#1E2028]",children:"Or continue with"})})]}),G.jsxs("form",{className:"space-y-6",onSubmit:y,children:[G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email address"}),G.jsx("input",{type:"email",id:"email",name:"email",value:t,onChange:g,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-[#252731] focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),G.jsx("input",{type:"password",id:"password",name:"password",value:i,onChange:g,className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-[#252731] focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),G.jsxs("div",{className:"flex items-start space-x-3",children:[G.jsx("input",{type:"checkbox",className:"mt-1 rounded border-gray-300 dark:border-gray-600 text-indigo-500 focus:ring-indigo-500",required:!0}),G.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["By creating an account, you agree to our",G.jsx("a",{href:"#",className:"text-indigo-500 hover:text-indigo-600",children:"Terms of Service"})," and",G.jsx("a",{href:"#",className:"text-indigo-500 hover:text-indigo-600",children:"Privacy Policy"})]})]}),G.jsx("button",{type:"submit",className:"w-full py-2.5 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-[#1E2028] transition-colors",children:"Create account"})]})]})})]})};function CL(){const[n,t]=K.useState(""),[e,i]=K.useState(""),r=Ko(),o=h=>{t(h.target.value)},u=async h=>{if(h.preventDefault(),isNaN(n)||n<0){i("유효한 0 이상의 숫자를 입력해주세요.");return}try{const f=_s.currentUser;if(!f){i("로그인이 필요합니다.");return}const g=Ff(Gf,"users",f.uid);await MA(g,{balance:Number(n),createdAt:new Date}),r("/home")}catch(f){i("잔액 저장에 실패했습니다."),console.error(f)}};return G.jsxs("div",{className:"container mx-auto p-6 max-w-md",children:[G.jsx("h2",{className:"text-xl font-bold mb-4",children:"최초 잔액을 입력해주세요"}),G.jsxs("form",{onSubmit:u,className:"space-y-4",children:[G.jsx("input",{type:"number",min:"0",step:"1",value:n,onChange:o,placeholder:"잔액을 숫자로 입력",className:"w-full border px-3 py-2 rounded",required:!0}),e&&G.jsx("p",{className:"text-red-500",children:e}),G.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-500",children:"저장 및 시작하기"})]})]})}function IL(){const[n,t]=K.useState(!0),e=Ko();return K.useEffect(()=>{const i=setTimeout(()=>{t(!1)},2e3);return()=>clearTimeout(i)},[]),K.useEffect(()=>{!n&&window.location.pathname==="/"&&e("/welcome")},[n,e]),n?G.jsx(AL,{}):G.jsx("div",{className:"h-screen p-4 sm:p-6 md:p-8",children:G.jsxs(HR,{children:[G.jsx(Ro,{path:"/welcome",element:G.jsx(xL,{})}),G.jsx(Ro,{path:"/signin",element:G.jsx(BN,{})}),G.jsx(Ro,{path:"/signup",element:G.jsx(RL,{})}),G.jsx(Ro,{path:"/home",element:G.jsx(wL,{})}),G.jsx(Ro,{path:"/balance",element:G.jsx(CL,{})})]})})}Qx.createRoot(document.getElementById("root")).render(G.jsx(HN,{children:G.jsx(fC,{children:G.jsx(IL,{})})}));
